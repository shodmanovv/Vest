# -*-coding: utf-8 -*-
from aiogram.contrib.fsm_storage.memory import MemoryStorage
import logging
import sqlite3
import random
import time
import zipfile
import telegram
import requests
import config as cfg
from colorama import Fore, Back, Style, init
from aiogram import Bot, Dispatcher, executor, types
from aiogram.utils.markdown import quote_html
from aiogram.types import ContentTypes
from aiogram.types import ContentType
from datetime import datetime, timedelta
from aiogram.types import Message, InlineKeyboardMarkup, InlineKeyboardButton
from aiogram.dispatcher import FSMContext
from aiogram.dispatcher.filters import Text
from aiogram.dispatcher.filters.state import State, StatesGroup
from aiogram.contrib.fsm_storage.memory import MemoryStorage
from aiogram.utils.exceptions import Throttled
from decimal import Decimal
from bs4 import BeautifulSoup
from handlers.functions import status_users
import requests
import asyncio
import aioschedule
import utils
import openai
import numexpr
from numpy import number
from time import gmtime, strptime, strftime
from filters.admins import IsBot
from filters.register import IsRegister2
from keyboard.qiwi import  buy_menu, gamestavka
from keyboard.marry import button_marry,button_divorce
from keyboard.gey import apanel, back, serebro, zolotaya, rybinovaya, red, balanc, ustanovka
from keyboard.main import help_top, help_topback, help_perexod
from pyqiwip2p import QiwiP2P
from pycoingecko import CoinGeckoAPI
import emoji as emo
import os
from apscheduler.schedulers.asyncio import AsyncIOScheduler
from aiogram.contrib.fsm_storage.memory import MemoryStorage

logging.basicConfig(level=logging.INFO)


storage = MemoryStorage
# CoinGeckoAPI
api = CoinGeckoAPI()

# bot init
bot = Bot(token=cfg.BOT_TOKEN)
dp = Dispatcher(bot, storage=MemoryStorage())

openai.api_key = "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"
scheduler =AsyncIOScheduler(timezone="Europe/Moscow")

# datebase
p2p = QiwiP2P(auth_key=cfg.QIWI_TOKEN)

connect = sqlite3.connect("db/redshark.db")
cursor = connect.cursor()
cursor.execute("""CREATE TABLE IF NOT EXISTS users(
    user_id BIGINT,
    user_name STRING,
    user_tg_name STRING,
    user_status STRING,
    balance INT,
    bank BIGINT,
    ethereum INT,
    rating INT,
    status_block STRING,
    time_register INT,
    pref STRING,
    donate_coins INT,
    game INT,
    bank2 INT,
    depozit INT,
    stats_status STRING,
    pet1 INT NOT NULL,
    pet2 INT NOT NULL,
    pet3 INT NOT NULL,
    pet4 INT NOT NULL,
    pet5 INT NOT NULL,
    pet6 INT NOT NULL,
    pet7 INT NOT NULL,
    pet8 INT NOT NULL,
    pet9 INT NOT NULL,
    pet_name text NOT NULL,
    pet_hp INT NOT NULL,
    pet_eat INT NOT NULL,
    pet_mood INT NOT NULL,
    checking INT NOT NULL,
    checking1 INT NOT NULL,
    checking2 INT NOT NULL,
    checking3 INT NOT NULL,
    pet10 INT NOT NULL,
    pet11 INT NOT NULL,
    marry INTERGER DEFAULT 0,
    marry_time INTERGER DEFAULT 0,
    marry_date INTERGER DEFAULT 0,
    stavka INT,
    last_work INT,
    stol INT,
    lampa INT,
    subs INT,
    microphone INT,
    heardphone INT,
    clava INT,
    monitor INT,
    covrik INT,
    creslo INT,
    pc INT,
    comnata INT,
    last_video INT,
    checker INT,
    mish INT,
    games INT,
    level INT,
    work INT,
    farm1 INT,
    farm2 INT,
    farm3 INT,
    farm4 INT,
    farm5 INT,
    farm_coin INT,
    generator INT,
    farmcoin1 INT,
    farmcoin2 INT,
    farmcoin3 INT,
    farmcoin4 INT,
    farmcoin5 INT,
    vcard INT,
    bitmaning INT,
    bitcoin INT,
    id INT,
    litecoin INT,
    fantom INT,
    limitpered INT,
    warn INT,
    phone INT,
    checkk INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS puzzles(
    puzz_name text NOT NULL,
    activate INT NOT NULL,
    balance NUMERIC NOT NULL
)
""")
cursor.execute("""CREATE TABLE IF NOT EXISTS  puzzles_old(
    puzz_name text NOT NULL
)
""")
cursor.execute("""CREATE TABLE IF NOT EXISTS mine(
    user_id INT,
    case_money INT,
    case_donate INT,
    user_name STRING,
    pick STRING,
    pick2 STRING,
    pick3 STRING,
    hp INT,
    iron INT,
    metall INT,
    silver INT,
    bronza INT,
    gold INT,
    business INT,
    balance INT,
    workers INT,
    have STRING,
    brevno INT,
    summ INT,
    fsumm INT,
    f1summ INT,
    f2summ INT,
    f3summ INT,
    f4summ INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS user_case(
    user_id INT,
    case_money INT,
    case_donate INT,
    user_name STRING,
    pick STRING,
    pick2 STRING,
    pick3 STRING,
    hp INT,
    iron INT,
    metall INT,
    silver INT,
    bronza INT,
    gold INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS house(
    user_id INT,
    user_name STRING,
    house INT,
    basement INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS cars(
    user_id INT,
    user_name STRING,
    cars INT,
    hp INT,
    benz INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS truck(
    user_id INT,
    user_name STRING,
    truck INT,
    hp INT,
    fuel INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS promo(
    promo STRING,
    status STRING,
    owner STRING,
    priz BIGINT,
    active INT,
    ob_active INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS promo_active(
    user_id INT,
    promo STRING,
    active INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS status_message(
    status TEXT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS tiktok(
    tt_name STRING,
    tt_reg STRING,
    tt_subs INT,
    tt_like INT,
    tt_videos INT, 
    stavka_tt INT,
    stavka_like INT,
    stavka_ad INT,
    user_id INT
)
""") 

cursor.execute("""CREATE TABLE IF NOT EXISTS bot_time(
    user_id INT,
    stavka_games INT,
    stavka_bank INT,
    stavka_bonus INT,
    stavka_depozit INT,
    time_pick INT,
    time_rake INT,
    time_craft INT,
    time_kit INT,
    last_video INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS time_bank(
    user_id INT,
    stavka INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS ob_time(
    user_id INT,
    stavka INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS time_prefix(
    user_id INT,
    stavka INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS time_sms(
    user_id INT,
    stavka INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS reffer(
    user_id INT,
    summ INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS wdzy(
    summ NUMERIC,
    wdz text,
    chat_id NUMERIC,
    count NUMERIC
)
""")


cursor.execute("""CREATE TABLE IF NOT EXISTS fzve(
    user_id NUMERIC ,
    money NUMERIC ,
    bill_id text NOT NULL
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS chats(
    chat_id INT,
    chat_name STRING,
    time_register STRING
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS clan(
    user_id NUMERIC,
    user_name text,
    status text,
    clan_id NUMERIC,
    clan_name text)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS clans(
    members NUMERIC,
    clan_id NUMERIC,
    clan_name text,
    kazna NUMERIC,
    type_clan INT,
    new_clan_id NUMERIC,
    power NUMERIC,
    win NUMERIC,
    lose NUMERIC,
    last_stavka NUMERIC NOT NULL
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS clans_id(
    new_clan_id NUMERIC,
    type_raz INT,
    type_valut INT,
    summ NUMERIC,
    count NUMERIC,
    event_febiz INT    
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS user_family(
     user_name STRING,
     user_id INT,
     family STRING,
     rank INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS family_id(
     id INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS family(
     name STRING,
     owner_id INT,
     owner_name STRING,
     id INT,
     balance INT,
     opis STRING,
     time_name INT
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS city(
    citizens NUMERIC,
    user_id NUMERIC,
    user_name text,
    kazna NUMERIC,
    city_name text,
    happynes NUMERIC,
    electricity NUMERIC,
    water NUMERIC,
    factory NUMERIC,
    road NUMERIC NOT NULL,
    houses NUMERIC,
    work_place NUMERIC,
    taxes NUMERIC,
    material NUMERIC,
    ore_processing_plant NUMERIC,
    earning NUMERIC
)
""")

cursor.execute("""CREATE TABLE IF NOT EXISTS photo_id(
     user_id INT,
     photo TEXT
)
""")


#ИВЕНТ ТАБЛИЦА
cursor.execute("""CREATE TABLE IF NOT EXISTS ivent(
    user_id INT,
    user_name STRING,
    truck INT,
    hp INT,
    fuel INT,
    summ INT,
    summa INT,
    time INT,
    predm INT,
    predm2 INT,
    predm3 INT,
    inv INT,
    time_p INT
)
""")





marry_me = []
marry_rep = []
divorce_me = []
divorce_rep = []
user_me = []
user_rep = []
first_p=[]
second_p=[]
summ_stavka=[]

CHAT_BY_DATETIME = dict()#бонус задержка
CHAT_BY_DATETIME1 = dict()#бонус задержка
CHAT_BY_DATETIME2 = dict()#бонус задержка
CHAT_BY_DATETIME3 = dict()#бонус задержка
game_time=dict()
work_time= dict() #задержка работы
def add_check(user_id, money, bill_id):
    cursor.execute("INSERT INTO fzve VALUES(?, ? ,?)",
                   (user_id, money, bill_id,))
    connect.commit()



def get_check(bill_id):
    result = cursor.execute("SELECT * FROM fzve WHERE bill_id =?", (bill_id,))
    result = cursor.fetchone()
    if not bool(len(result)):
        return False
    return result[0]
    
async def get_marry(message: types.Message):
    user = message.from_user
    marry = cursor.execute("SELECT marry FROM users WHERE user_id=?", (user.id,)).fetchall()
    return marry


async def get_rang(message: types.Message):
    user = message.from_user
    cursor.execute("SELECT * FROM users WHERE user_id=?", (user.id,))
    data = cursor.fetchone()
    return data

async def reply_get_rang(message: types.Message):
    reply = message.reply_to_message
    replyuser = reply.from_user
    cursor.execute("SELECT * FROM users WHERE user_id=?", (replyuser.id,))
    data = cursor.fetchone()
    return data    

async def get_clan(id):
    clan = cursor.execute("SELECT * FROM clan WHERE user_id=?", (id,))
    data_c = cursor.fetchone()
    return data_c
    
 
async def select_photo(user_id):
    local = cursor.execute(f'SELECT photo FROM photo_id WHERE user_id = {user_id}').fetchone()
    local = local[0]
    
    return local

async def register_photo_id(user_id, photo):
	cursor.execute('INSERT INTO photo_id VALUES(?, ?);', (user_id, photo))
	connect.commit()

###########################################СТАРТОВАЯ КОМАНДА###########################################
@dp.message_handler(commands=['hgsk', 'ausk'], commands_prefix=["/", "!", "."])
async def ii(message: types.Message):
    message.text[5:]
    response = openai.Completion.create( 
     engine="text-davinci-003", 
     prompt='"""\n{}\n"""'.format(message.text), 
     temperature=0, 
     max_tokens=2000,
     top_p=1, 
     frequency_penalty=0, 
     presence_penalty=0, 
     stop=['"""'])
    await message.reply(f"""RDG:
❔ Ваш вопрос: {message.text[5:]}
{response["choices"][0]["text"]}""")

@dp.message_handler(text=['/rules', '/правила', '/Правила', 'правила', 'Правила', '/rules@GAME_VEST_BOT'])
async def rules(message):
    rules = types.InlineKeyboardMarkup(row_width=2)
    rule1 = InlineKeyboardButton(text='Общение', callback_data='rule1')
    rule2 = InlineKeyboardButton(text='Команды', callback_data='rule2')
    rules.add(rule1, rule2)
    await message.answer("""
👋 <b>Приветствую! ознакомьтесь с правилами для чатика VEST</b>

Выбирете категорию правил 🤓

✅ 1 - общение, в этой категории правила общения в чате
✅ 2 - команды, в этой категории правила команд в чате""", reply_markup=rules, parse_mode='html')



@dp.message_handler(lambda t: t.text.startswith("Казино"))
async def startswith(message):
          	message = message
          	user_id = message.from_user.id
          	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
          	user_name = str(user_name[0])
          	reply = message.from_user.id
          	win = ['🙂', '😋', '😄', '😃']
          	loser = ['😔', '😕', '😣', '😞', '😢']
          	rx = random.randint(0, 101)
          	rwin = random.choice(win)
          	rloser = random.choice(loser)

          	message = message
          	name1 = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
          	name1 = (name1[0])
          	name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
          	name = (name[0])
          	balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
          	balance = round(int(balance[0]))
          	games = cursor.execute("SELECT games from users where user_id = ?", (message.from_user.id,)).fetchone()
          	games = int(games[0])
          	summ3 = message.text.split()[1]
          	summ2 = (summ3).replace(' ', '').replace('k', '000').replace('е','e').replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
          	summ = float(summ2)
          	summ3 = '{:,}'.format(summ).replace(',', '.')
          	period = 5
          	get = cursor.execute("SELECT stavka_games from bot_time where user_id = ?",(message.from_user.id,)).fetchone()
                    
          	last_stavka = int(get[0])
          	stavkatime = time.time() - float(last_stavka)
          	if stavkatime > period:
          	   if balance >= summ:
          	      if summ >= 10:
          	         if int(rx) in range(0, 14):
          	            c = Decimal(summ)
          	            c2 = round(c)
          	            c2 = '{:,}'.format(c2).replace(',', '.')
          	            await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, все Ваши деньги сгорели! (x0) {rloser}', parse_mode='html')
          	            cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"')
          	            cursor.execute(f'UPDATE bot_time SET last_stavka=? WHERE user_id=?', (time.time(), user_id,))
          	            

          	            connect.commit()   
          	            return                           
          	         if int(rx) in range(15, 34):
          	            c = Decimal(summ - summ * 0.25)
          	            c2 = round(c)
          	            c2 = '{:,}'.format(c2).replace(',', '.')
          	            await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы проиграли {c2} (×0.25) {rloser}', parse_mode='html')
          	            cursor.execute(f'UPDATE users SET balance = {balance - summ * 0.75} WHERE user_id = "{user_id}"')
          	            cursor.execute(f'UPDATE bot_time SET last_stavka=? WHERE user_id=?', (time.time(), user_id,))
          	            
          	            cursor.execute(f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')                   
          	            connect.commit()  
          	            return   
          	         if int(rx) in range(35, 49):
          	            c = Decimal(summ * 0.5)
          	            c2 = round(c)
          	            c2 = '{:,}'.format(c2).replace(',', '.')
          	            await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы проиграли {c2} (×0.5) {rloser}', parse_mode='html')
          	            cursor.execute(f'UPDATE users SET balance = {balance - summ * 0.5} WHERE user_id = "{user_id}"')
          	            cursor.execute(f'UPDATE bot_time SET last_stavka=? WHERE user_id=?', (time.time(), user_id,))
          	            
          	            cursor.execute(f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')                   
          	            connect.commit() 
          	            return  
          	         if int(rx) in range(50, 59):
          	            c = Decimal(summ - summ * 0.75)
          	            c2 = round(c)
          	            c2 = '{:,}'.format(c2).replace(',', '.')
          	            await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы проиграли {c2} (×0.75) {rloser}', parse_mode='html')
          	            cursor.execute(f'UPDATE users SET balance = {balance - summ * 0.25} WHERE user_id = "{user_id}"')
          	            cursor.execute(f'UPDATE bot_time SET last_stavka=? WHERE user_id=?', (time.time(), user_id,))
          	            
          	            cursor.execute(f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')                   
          	            connect.commit() 
          	            return  
          	         if int(rx) in range(60, 69):
          	            c = summ * 1
          	            c2 = round(c)
          	            c2 = '{:,}'.format(c2).replace(',', '.')
          	            await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, деньги остаются при Вас! (x1) {rwin}', parse_mode='html')
          	            cursor.execute(f'UPDATE bot_time SET last_stavka=? WHERE user_id=?', (time.time(), user_id,))
          	            connect.commit()
          	            return 
          	         if int(rx) in range(70, 79):
          	            c = Decimal(summ * 1.25)
          	            c2 = round(c)
          	            c2 = '{:,}'.format(c2).replace(',', '.')
          	            await bot.send_message(chat_id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы выиграли {c2} (×1.25) {rwin}', parse_mode='html')

          	            cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 1.25)} WHERE user_id = "{user_id}"')
          	            cursor.execute(f'UPDATE bot_time SET last_stavka=? WHERE user_id=?', (time.time(), user_id,))
          	            
          	            cursor.execute(f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')                   
          	            connect.commit()           
          	            return 
          	         if int(rx) in range(80, 89):
          	            c = Decimal(summ * 1.5)
          	            c2 = round(c)
          	            c2 = '{:,}'.format(c2).replace(',', '.')
          	            await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы выиграли {c2} (×1.5) {rwin}', parse_mode='html')
          	            cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 1.5)} WHERE user_id = "{user_id}"')
          	            cursor.execute(f'UPDATE bot_time SET last_stavka=? WHERE user_id=?', (time.time(), user_id,))
          	            cursor.execute(f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')                   
          	            connect.commit()  
          	            return 
          	         if int(rx) in range(90, 94):
          	            c = Decimal(summ * 1.75)
          	            c2 = round(c)
          	            c2 = '{:,}'.format(c2).replace(',', '.')
          	            await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы выиграли {c2} (×1.75) {rwin}', parse_mode='html')
          	            cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 1.75)} WHERE user_id = "{user_id}"')
          	            cursor.execute(f'UPDATE bot_time SET last_stavka=? WHERE user_id=?', (time.time(), user_id,))
          	            
          	            cursor.execute(f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')                   
          	            connect.commit()  
          	            return 
          	         if int(rx) in range(95, 94):
          	            c = Decimal(summ * 2)
          	            c2 = round(c)
          	            c2 = '{:,}'.format(c2).replace(',', '.')
          	            await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы выиграли {c2} (×2) {rwin}', parse_mode='html')
          	            cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 2)} WHERE user_id = "{user_id}"')
          	            cursor.execute(f'UPDATE bot_time SET last_stavka=? WHERE user_id=?', (time.time(), user_id,))
          	            
          	            cursor.execute(f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')                   
          	            connect.commit() 
          	            return 
          	         if int(rx) in range(95, 99):
          	            c = Decimal(summ * 3)
          	            c2 = round(c)
          	            c2 = '{:,}'.format(c2).replace(',', '.')
          	            await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы выиграли {c2} (×3) {rwin}', parse_mode='html')
          	            cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 3)} WHERE user_id = "{user_id}"')
          	            cursor.execute(f'UPDATE bot_time SET last_stavka=? WHERE user_id=?', (time.time(), user_id,))
          	            
          	            cursor.execute(f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')                   
          	            connect.commit() 
          	            return 
          	         if int(rx) == 100:
          	            c = Decimal(summ * 5)
          	            c2 = round(c)
          	            c2 = '{:,}'.format(c2).replace(',', '.')
          	            await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы выиграли {c2} (×5) {rwin}', parse_mode='html')
          	            cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 5)} WHERE user_id = "{user_id}"')
          	            cursor.execute(f'UPDATE bot_time SET last_stavka=? WHERE user_id=?', (time.time(), user_id,))
          	            
          	            cursor.execute(f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')                   
          	            connect.commit() 
          	         if int(rx) == 101:
          	            c = Decimal(summ * 10)
          	            c2 = round(c)
          	            c2 = '{:,}'.format(c2).replace(',', '.')
          	            await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы выиграли {c2} (×10) {rwin}', parse_mode='html')
          	            cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 10)} WHERE user_id = "{user_id}"')
          	            cursor.execute(f'UPDATE bot_time SET last_stavka=? WHERE user_id=?', (time.time(), user_id,))
          	            
          	            cursor.execute(f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')                   
          	            connect.commit() 
          	            return 
          	      if summ < 10:
          	           await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, минимальная ставка 10$ ! {rloser}', parse_mode='html')                                      
          	   elif int(balance) <= int(summ):
          	        await bot.send_message(message.chat.id, f'ℹ️ <a href="tg://user?id={reply}">{user_name}</a>, недостаточно средств! {rloser}', parse_mode='html')
          	else:
          	 await bot.send_message(message.chat.id, f'ℹ <a href="tg://user?id={reply}">{user_name}</a>, играть можно каждые 5⃣ секунд. Подождите немного {rloser}', parse_mode='html')



  

@dp.message_handler(lambda message: message.text.lower() == 'игра')
async def process_command_1(message: types.Message):
    
    button1 = InlineKeyboardButton('🗿Камень', callback_data = '1')
    button2 = InlineKeyboardButton('✂️Ножницы', callback_data = '2')
    button3 = InlineKeyboardButton('📄Бумага', callback_data = '3')
    button4 = InlineKeyboardButton('🔨Лом', callback_data='4')
    buttons = InlineKeyboardMarkup().add(button1, button2, button3, button4)
    await bot.send_message(message.chat.id, "Я готов играть!\nВыбери предмет, что бы сыграть со мной🎭", reply_markup= buttons)

@dp.callback_query_handler(lambda c: c.data == '4')
async def process_callback_yes(callback: types.CallbackQuery):
    rand = random.choice(["🗿Камень", "✂️Ножницы", "📄Бумага", "🔨Лом"])

    await bot.delete_message(callback.message.chat.id, callback.message.message_id)
    await callback.message.answer("Я выбрал " + rand + "\nА ты выбрал 🔨Лом")
    if rand == '🗿Камень':
        await callback.message.answer("Ты победил🥇")
    elif rand == '✂️Ножницы':
        await callback.message.answer("Ты победил🥇")
    else:
        await callback.message.answer("Ты выиграл🥇")



@dp.callback_query_handler(lambda c: c.data == '3')
async def process_callback_yes(callback: types.CallbackQuery):
    rand = random.choice(["🗿Камень", "✂️Ножницы", "📄Бумага", "🔨Лом"])

    await bot.delete_message(callback.message.chat.id, callback.message.message_id)
    await callback.message.answer("Я выбрал " + rand + "\nА ты выбрал 📄Бумага")
    if rand == '🗿Камень':
        await callback.message.answer("Ты победил🥇")
    elif rand == '✂️Ножницы':
        await callback.message.answer("Я победил🥇")
    elif rand == '🔨Лом':
        await callback.message.answer("Я победил🥇")
    else:
        await callback.message.answer("У нас ничья🤝")


@dp.callback_query_handler(lambda c: c.data == '1')
async def process_callback_yes(callback: types.CallbackQuery):
    rand = random.choice(["🗿Камень", "✂️Ножницы", "📄Бумага", "🔨Лом"])

    await bot.delete_message(callback.message.chat.id, callback.message.message_id)
    await callback.message.answer("Я выбрал " + rand + "\nА ты выбрал 🗿Камень")
    if rand == '🗿Камень':
        await callback.message.answer("У нас ничья🤝")
    elif rand == '✂️Ножницы':
        await callback.message.answer("Ты выиграл🥇")
    elif rand == '🔨Лом':
        await callback.message.answer("Я выиграл🥇")
    else:
        await callback.message.answer("Я победил🥇")

@dp.callback_query_handler(lambda c: c.data == '2')
async def process_callback_yes(callback: types.CallbackQuery):
    rand = random.choice(["🗿Камень", "✂️Ножницы", "📄Бумага", "🔨Лом"])

    await bot.delete_message(callback.message.chat.id, callback.message.message_id)
    await callback.message.answer("Я выбрал " + rand + "\nА ты выбрал ✂️Ножницы")
    if rand == '🗿Камень':
        await callback.message.answer("Я победил🥇")
    elif rand == '✂️Ножницы':
        await callback.message.answer("У нас ничья🤝")
    elif rand == '🔨Лом':
        await callback.message.answer("Я победил🥇")
    else:
        await callback.message.answer("Ты победил🥇")
                     
@dp.message_handler(commands=['ping', 'пинг'], commands_prefix=["/", "!", "."])
async def ping(message: types.Message):
    if message.forward_date != None:
        return
    a = time.time()
    bot_msg = await message.answer(f'⚙ Проверка пинга....')
    if bot_msg:
        b = time.time()
        await bot_msg.edit_text(f'🏓 Пинг: {round((b - a) * 1000)} ms')


@dp.message_handler(text=['ссылки', 'Ссылки', 'Беседа', 'беседа'])
async def chats(message):
	chat_id = message.chat.id
	await bot.send_message(chat_id, f"""📚 <b><a href="https://t.me/vest_game_chat">Официальный чат</a>
✏ <a href="https://t.me/vest_dev">Официальный канал</a></b>""", parse_mode = 'html')




@dp.callback_query_handler(lambda x: x.data == "sadmin")
async def stats(call: types.CallbackQuery):

   sqlite_select_query2 = '''SELECT * from users where status_block = \"on\"'''
   cursor.execute(sqlite_select_query2)
   records = cursor.fetchall()

   sqlite_select_query2 = '''SELECT * from users where user_status = \"Admin\"'''
   cursor.execute(sqlite_select_query2)
   records2 = cursor.fetchall()
   
   sqlite_select_query2 = '''SELECT * from users where user_status = \"Rab\"'''
   cursor.execute(sqlite_select_query2)
   records4 = cursor.fetchall()

   sqlite_select_query2 = '''SELECT * from users'''
   cursor.execute(sqlite_select_query2)
   us = cursor.fetchall()
   admback = InlineKeyboardMarkup(row_width=1)
   vhod= InlineKeyboardButton(text='🔙 Назад', callback_data='vhod')
   admback.add(vhod)
  
   cursor.execute(f"SELECT user_status FROM users")
   user_status = cursor.fetchall()
   cursor.execute(f"SELECT user_id FROM users")
   users = cursor.fetchall()
   usid = call.from_user.id
   list = cursor.execute(f"SELECT * FROM users")
   user_status = cursor.execute("SELECT user_status from users where user_id = ?",(call.from_user.id,)).fetchone()
   user_status = str(user_status[0])
   if user_status in ['Owner', 'Admin', 'Helper_Admin', 'Rab']:
      await call.message.edit_text(f"""
🔍 Статистика бота

🔓 Основная
         👤 Игроков: {len(us)}
         📛 Заблокировано: {len(records)}""", reply_markup=admback)

@dp.message_handler(commands=['ban_id'])
async def start_cmd(message):

    user_name = message.from_user.full_name
    msg = message
    user_id = msg.from_user.id
    reply_user_id = int(message.text.split()[1])

    status = cursor.execute("SELECT status from users where user_id = ?", (message.from_user.id,)).fetchone()
    status = str(status[0])
    if status == "Owner":
    	       await bot.send_message(message.chat.id, f"🚀 {user_name}, вы заблокировали аккаунт игроку <b>{reply_user_id}</b>", parse_mode='html')
    	       cursor.execute(f'UPDATE users SET status = "Block"  WHERE user_id = {reply_user_id}')
    	       connect.commit()
    	       return



@dp.message_handler(commands=['sql'])
async def sql(message: types.Message):

    if message.from_user.id == cfg.owner_id:
        try:
            cursor.execute(message.text[message.text.find(' '):])
            connect.commit()
            a = time.time()
            bot_msg = await message.answer(f'🕘Please wait while me doing SQL request', parse_mode="Markdown")
            if bot_msg:
                b = time.time()
                await bot_msg.edit_text(f"🚀*SQL Запрос был выполнен за {round((b - a) * 1000)} ms*",
                                        parse_mode="Markdown")
        except Exception as e:
            connect.rollback()
            await message.answer(f"❌ Возникла ошибка при изменении\n⚠️ Ошибка: {e}")
    else:
        await message.answer("❌ *Эта команда доступна только создателю бота*",parse_mode="Markdown")


@dp.message_handler(IsBot(),content_types=["new_chat_members"])
async def bot_added_to_chat(message):
    
    chat_id = message.chat.id
    chat_name = 'Чатик'
    cursor.execute(f"SELECT chat_id FROM chats WHERE chat_id = '{chat_id}'")
    cursor.execute("INSERT INTO chats VALUES(?, ?, ?);",(chat_id, chat_name, 0))
    if message.chat.type != 'supergroup':
        await message.answer("""
<b>❌ Ваша группа не является супергруппой❌</b>

Пожалуйста, превратите вашу группу в супергруппу 
(просто запретите кому-то отправлять медиафайлы и заново разрешите) 
и пригласите бота повторно."""
                             , parse_mode='html')
        await bot.leave_chat(message.chat.id)
    else:
        await message.answer("""
<b>Привет!</b>
Я игровой бот 💲
Для того чтобы я мог начать работу, выдай мне пожалуйста права администрации.

Появились предложения или же вопросы?
<a href="https://t.me/KPECTIK_official">>Обратись ко мне</a>

<a href="https://t.me/vest_game_chat">>Так же у нас есть общая беседа </a>""", disable_web_page_preview=True, parse_mode='html')

@dp.message_handler(content_types=["new_chat_members"])
async def handler_new_member(message):

    try:
        wdz1=cursor.execute("SELECT wdz FROM wdzy WHERE chat_id=?",(message.chat.id,))
        wdz1=cursor.fetchone()
        wdz1=str(wdz1[0])
    except:
        wdz1="off"
    if wdz1 =="on":
        name1 = message.new_chat_members[0].get_mention(as_html=True)

        user_id = message.new_chat_members[0].id
        user_name = message.new_chat_members[0].full_name

        chat_id = message.chat.id

        user_sd=cursor.execute(f"SELECT user_id FROM users WHERE user_id = {user_id}")
        user_sd=cursor.fetchone()
        user_name = user_name.replace('<', '').replace('>', '')
        if user_sd is None:

            await message.reply(f' 👋Привет {name1}\nЯ бот для игры в различные игры.\nПерейди в лс для получения полного доступа в боте',
                parse_mode="html",reply_markup=help_perexod)
            try:
                user_id1 = message.from_user.id
                user_name1 = message.from_user.first_name

                balance = cursor.execute(
                    "SELECT balance from users where user_id = ?", (message.from_user.id,))
                balance = cursor.fetchone()
                balance = int(balance[0])
                summ = cursor.execute(f"SELECT summ FROM wdzy WHERE chat_id={chat_id}")
                summ = cursor.fetchone()
                summ = int(summ[0])
                count = cursor.execute(f"SELECT count FROM wdzy WHERE chat_id={chat_id}")
                count = cursor.fetchone()
                count = int(count[0])
                summ2 = '{:,}'.format(summ).replace(',', '.')
                cursor.execute(
                    f"UPDATE users SET balance={balance + summ} WHERE user_id = ?", (user_id1,))
                cursor.execute(
                    f"UPDATE wdzy SET count={count + 1} WHERE chat_id = {chat_id}")
                connect.commit()
                await bot.send_message(user_id1,
                                       f"‼️ <a href='tg://user?id={user_id1}'>{user_name1}</a>,Вам была выдана награда в размере {summ2}$",
                                       parse_mode='html')
            except:
                pass
        if user_sd != None:
            await message.reply(
                f' 👋Привет {name1}\nЯ бот для игры в различные игры.\nПерейди в лс для получения полного доступа в боте',parse_mode="html",reply_markup=help_perexod)
            connect.commit()
            try:
                user_id1 = message.from_user.id
                user_name1 = message.from_user.first_name
                if user_id1 != message.new_chat_members[0].id:
                    await bot.send_message(user_id1,
                                       f"🚫 <a href='tg://user?id={user_id1}'>{user_name1}</a>, Игрок уже есть в базе данных бота ",
                                       parse_mode='html')
            except:
                pass

@dp.message_handler(text=['панель'])
async def adminstration(message: types.Message):
   if message.from_user.id == cfg.owner_id:
     await message.reply('Добро пожаловать в админ панель.', reply_markup=apanel)
   else:
     await message.reply('Вы не являетесь создателем бота!')


@dp.callback_query_handler(lambda c: c.data == "getdb")
async def getdb(callback_query: types.CallbackQuery):
   usid = callback_query.from_user.id
   if usid == cfg.owner_id:
      newzip = zipfile.ZipFile('redshark.zip', 'w')
      newzip.write('db/redshark.db', compress_type=zipfile.ZIP_DEFLATED)
      get_db = open(f'redshark.zip', 'rb')
      await bot.send_document(chat_id=callback_query.message.chat.id, document=get_db, caption=f'<b>🚀 Держи!</b>', parse_mode='html')

owner_id = 6600463745  # айди адм бота


class Rass(StatesGroup):
    post = State()
    kb = State()
    time = State()



@dp.callback_query_handler(lambda c: c.data == "rass")
async def rass(callback_query: types.CallbackQuery):
    usid = callback_query.from_user.id
    if usid == cfg.owner_id:
       await Rass.post.set()
       return await callback_query.message.answer('📃 Пришлите мне сообщение для рассылки:')

@dp.message_handler(content_types=types.ContentType.ANY, state=Rass.post)
async def rass_step2_handler(message, state: FSMContext):
    await Rass.next()
    await state.update_data(msg=message)
    return await message.answer('🎙️ Клавиатура (name|btn, name|btn\\n) или "-" чтобы пропустить',reply_markup=back)


@dp.message_handler(content_types="text",state=Rass.kb)
async def rass_finish_handler(message, state: FSMContext):
    if message.text == 'Отмена':
        await message.answer('Отмена! Возвращаю в главное меню.', reply_markup=types.ReplyKeyboardRemove())
        await state.finish()
    else:
        data = await state.get_data()
        await state.finish()
        text = message.text
        if message.text != '-':
            text = message.text.split('\n')
            lenght = len(text[0].split(','))
            kb = InlineKeyboardMarkup(row_width=lenght)
            for i in text:
                i = i.split(',')
                for z in i:
                    name, url = z.split('|')
                    kb.insert(InlineKeyboardButton(text=name, url=url))
        else:
            kb = None

        msg = data['msg']
        cursor.execute(f'SELECT user_id FROM users')
        row = cursor.fetchall()
        connect.commit()
        users = [user[0] for user in row]
        cursor.execute(f'SELECT chat_id FROM chats')
        row2 = cursor.fetchall()
        connect.commit()
        chats = [chat[0] for chat in row2]
        send=0
        error=0
        all=0
        await message.answer('Начинаю рассылку...')

        for i in chats:
            all += 1
            try:
                await asyncio.sleep(0.1)
                await msg.send_copy(chat_id=i,reply_markup=kb)

                send+=1
            except:
                error+=1

        for i in users:
            all += 1
            try:
                await asyncio.sleep(0.1)
                await msg.send_copy(chat_id=i,reply_markup=kb)

                send+=1
            except:
                error+=1
        await message.answer(f'Отправлено: {all}\n'
                          f'Успешно: {send}\n'
                          f'Неуспешно: {error}',reply_markup=types.ReplyKeyboardRemove())



@dp.callback_query_handler(lambda c: c.data == "stats")
async def stats(callback_query: types.CallbackQuery):
   usid = callback_query.from_user.id
   chem = "SELECT * from users where user_status='Chem'"
   cursor.execute(chem)
   chem = cursor.fetchall()
   korol = "SELECT * from users where user_status='Korol'"
   cursor.execute(korol)
   korol = cursor.fetchall()
   donater = "SELECT * from users where user_status='Donater'"
   cursor.execute(donater)
   donater = cursor.fetchall()
   vip = "SELECT * from users where user_status='Vip'"
   cursor.execute(vip)
   vip = cursor.fetchall()
   admins = "SELECT * from users where user_status='Admin'"
   cursor.execute(admins)
   admins = cursor.fetchall()
   helper = "SELECT * from users where user_status='Helper_Admin'"
   cursor.execute(helper)
   helper = cursor.fetchall()
   owner = "SELECT * from users where user_status='Owner'"
   cursor.execute(owner)
   owner = cursor.fetchall()
   delux = "SELECT * from users where user_status='Deluxe'"
   cursor.execute(delux)
   delux = cursor.fetchall()
   titan = "SELECT * from users where user_status='Titanium'"
   cursor.execute(titan)
   titan = cursor.fetchall()
   users = """SELECT * from users"""
   cursor.execute(users)
   records = cursor.fetchall()
   chats = """SELECT * from chats"""
   cursor.execute(chats)
   if usid == cfg.owner_id:
      await bot.send_message(callback_query.message.chat.id, f"""
<b>👥 Пользователей в боте:</b> <code>{len(records)}</code>
<b>💬 Чатов в которых есть бот:</b> <code>{len(chats)}</code>
<b>👨‍💻 OWNER:</b> <code>{len(owner)}</code>
<b>⛔️ HELPER:</b> <code>{len(helper)}</code>
<b>⛔️ ADMIN's:</b> <code>{len(admins)}</code>
<b>❤️ VIP пользователей: </b><code>{len(vip)} </code>
<b>👾 TITANIUM пользователей:</b> <code>{len(titan)}</code>
<b>🔥 DELUXE пользователей:</b> <code>{len(delux)}</code>
<b>🏆 ЧЕМПИОН пользователей:</b> <code>{len(chem)}</code>
<b>👑 КОРОЛЬ пользователей:</b> <code>{len(korol)}</code>
<b>😈 ДОНАТЕР пользователей:</b> <code>{len(donater)}</code>""", parse_mode='html')







@dp.callback_query_handler(lambda c: c.data == "owner")
async def owner(callback_query: types.CallbackQuery):
   usid = callback_query.from_user.id
   user_status = "Rab"
   if usid == cfg.owner_id:
      await bot.send_message(callback_query.message.chat.id, f'💎 Вы успешно восстановили роль "Владельца"')
      cursor.execute(f'UPDATE users SET user_status = \"{user_status}\" WHERE user_id = "{usid}"')
      connect.commit()
      
@dp.callback_query_handler(lambda c: c.data == "wdzy")
async def check5rty(callback: types.CallbackQuery):
    usid = callback.from_user.id
    if usid == cfg.owner_id:

        chat_id=callback.message.chat.id
        chat_name = callback.message.chat.title
        try:
            summ = cursor.execute(f"SELECT summ FROM wdzy WHERE chat_id={chat_id}")
            summ = cursor.fetchone()
            summ = int(summ[0])
            count = cursor.execute(f"SELECT count FROM wdzy WHERE chat_id={chat_id}")
            count = cursor.fetchone()
            count = int(count[0])
            summ2 = '{:,}'.format(summ).replace(',', '.')
            count2 = '{:,}'.format(count).replace(',', '.')
            wdz = cursor.execute(f"SELECT wdz FROM wdzy WHERE chat_id={chat_id}")
            wdz = cursor.fetchone()
        except:
            await callback.message.answer("Чат не привязан")
            return
        wdz2=""
        if wdz[0]=="on":
            wdz2="включен"
        if wdz[0]=="off":
            wdz2="выключен"

        await bot.send_message(chat_id=callback.message.chat.id,
                                    text=f"""
 <b>ВДЗУ (Выдача денег за участников)</b>
💭 Чат <b>{chat_name}</b> (<code>{chat_id}</code>)
💰 Сумма за 1 чел : <code>{summ2}</code>
🌝 Статус - {wdz2}
🔢 Всего добавлено - <b>{count2}</b> людей.""" ,parse_mode='html')

@dp.callback_query_handler(lambda c: c.data == "reset")
async def stats(callback_query: types.CallbackQuery):
   usid = callback_query.from_user.id
   if usid == cfg.owner_id:
      await bot.send_message(callback_query.message.chat.id, f'🧙‍♂ Вы успешно проверили обнуление')
      cursor.execute(f'UPDATE users SET balance = {10000}')
      cursor.execute(f'UPDATE users SET user_name = "user_name"')
      cursor.execute(f'UPDATE users SET bank = {1000}')
      cursor.execute(f'UPDATE users SET depozit = {0}')
      cursor.execute(f'UPDATE users SET rating = {0}')
      cursor.execute(f'UPDATE users SET ethereum = {100}')
      cursor.execute(f'UPDATE users SET pet1 = {0}')
      cursor.execute(f'UPDATE users SET pet2 = {0}')
      cursor.execute(f'UPDATE users SET pet3 = {0}')
      cursor.execute(f'UPDATE users SET pet4 = {0}')
      cursor.execute(f'UPDATE users SET pet5 = {0}')
      cursor.execute(f'UPDATE users SET pet6 = {0}')
      cursor.execute(f'UPDATE users SET pet7 = {0}')
      cursor.execute(f'UPDATE users SET pet8 = {0}')
      cursor.execute(f'UPDATE users SET pet9 = {0}')
      cursor.execute(f'UPDATE users SET pet_hp = {0}')
      cursor.execute(f'UPDATE users SET pet_eat = {0}')
      cursor.execute(f'UPDATE users SET pet_mood = {0}')
      cursor.execute(f'UPDATE users SET pet10 = {0}')
      cursor.execute(f'UPDATE users SET pet11 = {0}')
      cursor.execute(f'UPDATE users SET stol = {0}')
      cursor.execute(f'UPDATE users SET lampa = {0}')
      cursor.execute(f'UPDATE users SET subs = {0}')
      cursor.execute(f'UPDATE users SET microphone = {0}')
      cursor.execute(f'UPDATE users SET heardphone = {0}')
      cursor.execute(f'UPDATE users SET clava = {0}')
      cursor.execute(f'UPDATE users SET monitor = {0}')
      cursor.execute(f'UPDATE users SET covrik = {0}')
      cursor.execute(f'UPDATE users SET creslo = {0}')
      cursor.execute(f'UPDATE users SET pc = {0}')
      cursor.execute(f'UPDATE users SET comnata = {0}')
      cursor.execute(f'UPDATE users SET last_video = {0}')
      cursor.execute(f'UPDATE users SET checker = {0}')
      cursor.execute(f'UPDATE users SET mish = {0}')
      cursor.execute(f'UPDATE users SET farm1 = {0}')
      cursor.execute(f'UPDATE users SET farm2 = {0}')
      cursor.execute(f'UPDATE users SET farm3 = {0}')
      cursor.execute(f'UPDATE users SET farm4 = {0}')
      cursor.execute(f'UPDATE users SET farm5 = {0}')
      cursor.execute(f'UPDATE users SET farm_coin = {0}')
      cursor.execute(f'UPDATE users SET generator = {0}')
      cursor.execute(f'UPDATE users SET farmcoin1 = {0}')
      cursor.execute(f'UPDATE users SET farmcoin2 = {0}')
      cursor.execute(f'UPDATE users SET farmcoin3 = {0}')
      cursor.execute(f'UPDATE users SET farmcoin4 = {0}')
      cursor.execute(f'UPDATE users SET farmcoin5 = {0}')
      cursor.execute(f'UPDATE users SET vcard = {0}')
      cursor.execute(f'UPDATE users SET bitmaning = {0}')
      cursor.execute(f'UPDATE users SET bitcoin = {100}')
      cursor.execute(f'UPDATE users SET litecoin = {100}')
      cursor.execute(f'UPDATE users SET fantom = {100}')
      cursor.execute(f'UPDATE user_case SET iron = {0}')
      cursor.execute(f'UPDATE user_case SET metall = {0}')
      cursor.execute(f'UPDATE user_case SET silver = {0}')
      cursor.execute(f'UPDATE user_case SET bronza = {0}')
      cursor.execute(f'UPDATE user_case SET gold = {0}')
      cursor.execute(f'UPDATE house SET house = {0}')
      cursor.execute(f'UPDATE house SET basement = {0}')
      cursor.execute(f'UPDATE cars SET cars = {0}')
      cursor.execute(f'UPDATE cars SET hp = {0}')
      cursor.execute(f'UPDATE cars SET benz = {0}')
      cursor.execute(f'UPDATE truck SET truck = {0}')
      cursor.execute(f'UPDATE truck SET hp = {0}')
      cursor.execute(f'UPDATE truck SET fuel = {0}')       
      cursor.execute(f'UPDATE bot_time SET stavka_games = {0} ')
      cursor.execute(f'UPDATE bot_time SET stavka_bank = {0} ')
      cursor.execute(f'UPDATE bot_time SET stavka_bonus = {0} ')
      cursor.execute(f'UPDATE bot_time SET stavka_depozit = {0} ')
      cursor.execute(f'UPDATE bot_time SET time_pick = {0} ')
      cursor.execute(f'UPDATE bot_time SET time_rake = {0} ')
      cursor.execute(f'UPDATE bot_time SET time_craft = {0} ')
      cursor.execute(f'UPDATE bot_time SET time_kit = {0} ')
      cursor.execute(f'UPDATE bot_time SET last_video = {0} ')
      cursor.execute(f'UPDATE clans SET kazna = {0}')
      cursor.execute(f'UPDATE clans SET power = {0}')
      cursor.execute(f'UPDATE clans SET win = {0}')
      cursor.execute(f'UPDATE clans SET lose = {0}')
      cursor.execute(f'UPDATE wdzy SET summ = {1000000}')
      connect.commit()



###############################################РЕПОРТ###ЖАЛОБА#########################################
@dp.message_handler(commands=['жалоба'], commands_prefix=["/", "!", "."])
async def report(message):
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    user_id = message.from_user.id

    user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
    user_status = str(user_status[0])
    text = message.text[7:]
    
    if text == '':
       await bot.send_message(message.chat.id, f"💫 | <a href='tg://user?id={user_id}'>{user_name}</a>, жалоба не может быть пустой", parse_mode='html')
       return
    if not text == '':
        await bot.send_message(message.chat.id, f"✅ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваша жалоба былa успешно отправленa разработчику", parse_mode='html')
        connect.commit()
        
        await bot.send_message(cfg.owner_id, f"<b>💫ВАМ ПРИШЛA ЖАЛОБА💫</b>\n👨 | Отправитель: <a href='tg://user?id={user_id}'>{user_name}</a>\n💬 |Сообщение: <i>{text}</i>", parse_mode='html')

        await bot.send_message(cfg.log_group, f" <b>💫ПРИШЛA ЖАЛОБА💫</b>\n 👨 | Отправитель: <a href='tg://user?id={user_id}'>{user_name}</a>  \n 💬 |Сообщение: <i>{text}</i>", parse_mode='html')




###############################################ЮТУБ############################################
@dp.message_handler(text=['Купить освещение', 'купить освещение'])
async def teth(message):
 user_id = message.from_user.id
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])

 balance = cursor.execute("SELECT balance from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 balance = int(balance[0])
 
 checker = cursor.execute("SELECT checker from users where user_id = ?", (message.from_user.id,)).fetchone()
 checker = int(checker[0])
 
 lampa = cursor.execute("SELECT lampa from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 lampa = int(lampa[0])
 
 comnata = cursor.execute("SELECT comnata from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 comnata = int(comnata[0])
 if comnata >= 1:
  cursor.execute(f'UPDATE users SET balance = {balance - 25000000}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET lampa = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET checker = {checker + 1}  WHERE user_id = {user_id}')
  await message.reply(f'💡 {user_name}, вы успешно купили освещение', parse_mode='html')


@dp.message_handler(text=['Купить стол', 'купить стол'])
async def teth(message):
 user_id = message.from_user.id
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])

 balance = cursor.execute("SELECT balance from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 balance = int(balance[0])
 
 stol = cursor.execute("SELECT lampa from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 stol = int(stol[0])
 
 checker = cursor.execute("SELECT checker from users where user_id = ?", (message.from_user.id,)).fetchone()
 checker = int(checker[0])

 comnata = cursor.execute("SELECT comnata from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 comnata = int(comnata[0])
 if comnata >= 1:
  cursor.execute(f'UPDATE users SET balance = {balance - 25000000}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET stol = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET checker = {checker + 1}  WHERE user_id = {user_id}')
  await message.reply(f'👨‍💻 {user_name}, вы успешно купили стол', parse_mode='html')

@dp.message_handler(text=['Купить монитор', 'купить монитор'])
async def teth(message):
 user_id = message.from_user.id
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])

 balance = cursor.execute("SELECT balance from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 balance = int(balance[0])
 
 monitor = cursor.execute("SELECT monitor from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 monitor = int(monitor[0])
 
 checker = cursor.execute("SELECT checker from users where user_id = ?", (message.from_user.id,)).fetchone()
 checker = int(checker[0])
 
 comnata = cursor.execute("SELECT comnata from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 comnata = int(comnata[0])
 if comnata >= 1:
  cursor.execute(f'UPDATE users SET balance = {balance - 25000000}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET monitor = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET checker = {checker + 1}  WHERE user_id = {user_id}')
  await message.reply(f'🖥 {user_name}, вы успешно купили монитор', parse_mode='html')

@dp.message_handler(text=['Купить компьютер', 'купить компьютер'])
async def teth(message):
 user_id = message.from_user.id
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])

 balance = cursor.execute("SELECT balance from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 balance = int(balance[0])
 
 pc = cursor.execute("SELECT pc from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 pc = int(pc[0])
 
 checker = cursor.execute("SELECT checker from users where user_id = ?", (message.from_user.id,)).fetchone()
 checker = int(checker[0])

 comnata = cursor.execute("SELECT comnata from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 comnata = int(comnata[0])
 if comnata >= 1:
  cursor.execute(f'UPDATE users SET balance = {balance - 25000000}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET pc = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET checker = {checker + 1}  WHERE user_id = {user_id}')
  await message.reply(f'💻 {user_name}, вы успешно купили компьютер', parse_mode='html')

@dp.message_handler(text=['Купить клавиатуру', 'купить клавиатуру'])
async def teth(message):
 user_id = message.from_user.id
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])

 balance = cursor.execute("SELECT balance from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 balance = int(balance[0])
 checker = cursor.execute("SELECT checker from users where user_id = ?", (message.from_user.id,)).fetchone()
 checker = int(checker[0])

 clava = cursor.execute("SELECT clava from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 clava = int(clava[0])
 
 comnata = cursor.execute("SELECT comnata from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 comnata = int(comnata[0])
 if comnata >= 1:
  cursor.execute(f'UPDATE users SET balance = {balance - 25000000}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET clava = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET checker = {checker + 1}  WHERE user_id = {user_id}')
  await message.reply(f'⌨ {user_name}, вы успешно купили клавиатуру', parse_mode='html')

@dp.message_handler(text=['Купить игровое кресло', 'купить игровое кресло'])
async def teth(message):
 user_id = message.from_user.id
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])

 balance = cursor.execute("SELECT balance from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 balance = int(balance[0])
 
 checker = cursor.execute("SELECT checker from users where user_id = ?", (message.from_user.id,)).fetchone()
 checker = int(checker[0])
 
 creslo = cursor.execute("SELECT creslo from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 creslo = int(creslo[0])
 
 comnata = cursor.execute("SELECT comnata from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 comnata = int(comnata[0])
 if comnata >= 1:
  cursor.execute(f'UPDATE users SET balance = {balance - 25000000}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET creslo = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET checker = {checker + 1}  WHERE user_id = {user_id}')
  await message.reply(f'💺 {user_name}, вы успешно купили иговое кресло', parse_mode='html')

@dp.message_handler(text=['Купить мышь', 'купить мышь'])
async def teth(message):
 user_id = message.from_user.id
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])

 balance = cursor.execute("SELECT balance from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 balance = int(balance[0])
 
 checker = cursor.execute("SELECT checker from users where user_id = ?", (message.from_user.id,)).fetchone()
 checker = int(checker[0])
 
 mish = cursor.execute("SELECT mish from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 mish = int(mish[0])
 
 comnata = cursor.execute("SELECT comnata from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 comnata = int(comnata[0])
 if comnata >= 1:
  cursor.execute(f'UPDATE users SET balance = {balance - 25000000}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET mish = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET checker = {checker + 1}  WHERE user_id = {user_id}')
  await message.reply(f'🖱 {user_name}, вы успешно купили мышь', parse_mode='html')

@dp.message_handler(text=['Купить микрофон', 'купить микрофон'])
async def teth(message):
 user_id = message.from_user.id
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])

 balance = cursor.execute("SELECT balance from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 balance = int(balance[0])
 
 microphone = cursor.execute("SELECT microphone from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 microphone = int(microphone[0])
 
 checker = cursor.execute("SELECT checker from users where user_id = ?", (message.from_user.id,)).fetchone()
 checker = int(checker[0])

 comnata = cursor.execute("SELECT comnata from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 comnata = int(comnata[0])
 if comnata >= 1:
  cursor.execute(f'UPDATE users SET balance = {balance - 25000000}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET microphone = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET checker = {checker + 1}  WHERE user_id = {user_id}')
  await message.reply(f'🎙 {user_name}, вы успешно купили микрофон', parse_mode='html')

@dp.message_handler(text=['Купить наушники', 'купить наушники'])
async def teth(message):
 user_id = message.from_user.id
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])

 balance = cursor.execute("SELECT balance from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 balance = int(balance[0])
 
 checker = cursor.execute("SELECT checker from users where user_id = ?", (message.from_user.id,)).fetchone()
 checker = int(checker[0])
 
 heardphone = cursor.execute("SELECT mish from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 heardphone = int(heardphone[0])
 
 comnata = cursor.execute("SELECT comnata from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 comnata = int(comnata[0])
 if comnata >= 1:
  cursor.execute(f'UPDATE users SET balance = {balance - 25000000}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET heardphone = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET checker = {checker + 1}  WHERE user_id = {user_id}')
  await message.reply(f'🎧 {user_name}, вы успешно купили наушники', parse_mode='html')

@dp.message_handler(text=['Купить коврик', 'купить коврик'])
async def teth(message):
 user_id = message.from_user.id
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])

 balance = cursor.execute("SELECT balance from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 balance = int(balance[0])
 
 covrik = cursor.execute("SELECT covrik from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 covrik = int(covrik[0])
 
 checker = cursor.execute("SELECT checker from users where user_id = ?", (message.from_user.id,)).fetchone()
 checker = int(checker[0])
 
 comnata = cursor.execute("SELECT comnata from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 comnata = int(comnata[0])
 if comnata >= 1:
  cursor.execute(f'UPDATE users SET balance = {balance - 25000000}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET covrik = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET checker = {checker + 1}  WHERE user_id = {user_id}')
  await message.reply(f'🎇 {user_name}, вы успешно купили коврик', parse_mode='html')

@dp.message_handler(text=["Мой канал", "мой канал", "канал", "Канал"])
async def teth(message):
 user_id = message.from_user.id
 subs = cursor.execute("SELECT subs from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 comnata = cursor.execute("SELECT comnata from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 lampa = cursor.execute("SELECT lampa from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 stol = cursor.execute("SELECT stol from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 monitor = cursor.execute("SELECT monitor from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 pc = cursor.execute("SELECT pc from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 clava = cursor.execute("SELECT clava from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 creslo = cursor.execute("SELECT creslo from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 mish = cursor.execute("SELECT mish from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 microphone = cursor.execute("SELECT microphone from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 heardphone = cursor.execute("SELECT heardphone from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 covrik = cursor.execute("SELECT covrik from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 checker = cursor.execute("SELECT checker from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])
 subs = int(subs[0])
 comnata = int(comnata[0])
 lampa = int(lampa[0])
 stol = int(stol[0])
 monitor = int(monitor[0])
 pc = int(pc[0])
 clava = int(clava[0])
 creslo = int(creslo[0])
 mish = int(mish[0])
 microphone = int(microphone[0])
 heardphone = int(heardphone[0])
 covrik = int(covrik[0])
 checker = int(checker[0])
 subs2 = '{:,}'.format(subs).replace(',', '.') 
 if subs > 99999999:
  await message.reply(f'''{user_name}, ваш канал:

✅ Все предметы приобретены

➕ {subs2} подписчиков

ℹ <b>Снимать видео вы сможете только тогда, когда у вас будет всё куплено</b>''', parse_mode='html', reply_markup=red)
  return
  
 if subs > 49999999:
  await message.reply(f'''{user_name}, ваш канал:

✅ Все предметы приобретены

➕ {subs2} подписчиков

ℹ <b>Снимать видео вы сможете только тогда, когда у вас будет всё куплено</b>''', parse_mode='html', reply_markup=rybinovaya)
  return
  
 if subs > 999999:
  await message.reply(f'''{user_name}, ваш канал:

✅ Все предметы приобретены

➕ {subs2} подписчиков

ℹ <b>Снимать видео вы сможете только тогда, когда у вас будет всё куплено</b>''', parse_mode='html', reply_markup=zolotaya)
  return
 
 if subs > 99999:
  await message.reply(f'''{user_name}, ваш канал:

✅ Все предметы приобретены

➕ {subs2} подписчиков

ℹ <b>Снимать видео вы сможете только тогда, когда у вас будет всё куплено</b>''', parse_mode='html', reply_markup=serebro)
  return
  
 if checker > 9:
  await message.reply(f'''{user_name}, ваш канал:

✅ Все предметы приобретены

➕ {subs2} подписчиков

ℹ <b>Снимать видео вы сможете только тогда, когда у вас будет всё куплено</b>''', parse_mode='html')
  return
  
 if comnata < 1:
  await message.reply(f'''{user_name}, у вас нет канала 😖
Что бы его создать, напишите команду <code>Создать канал</code>''', parse_mode='html')
  return
  
 if comnata < 2:
  await message.reply(f'''{user_name}, ваш канал: 
💡 Освещение: {lampa}/1
👨‍💻 Стол: {stol}/1
🖥 Монитор: {monitor}/1
💻 Компьютер: {pc}/1
⌨ Клавиатура: {clava}/1
💺 Игровое кресло: {creslo}/1
🖱 Мышь: {mish}/1
🎙 Микрофон: {microphone}/1
🎧 Наушники: {heardphone}/1
🎇 Коврик: {covrik}/1

ℹ <b>Снимать видео вы сможете только тогда, когда у вас будет всё куплено</b>''', parse_mode='html')
  return




@dp.message_handler(text=['Создать канал', 'создать канал'])
async def teth(message):
 user_id = message.from_user.id
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])
 await message.reply(f"{user_name}, Вы успешно создали канал, вам осталось купить предметы необходимые для создания контента! 🥳", parse_mode='html')
 cursor.execute(f'UPDATE users SET comnata = {1}  WHERE user_id = "{user_id}"')
 connect.commit()

@dp.message_handler(text=["Снять видео", "снять видео"])
async def teht(message):
        msg = message
        user_id = msg.from_user.id
        chat_id = message.chat.id

        win = ['🙂', '😋', '😄', '😃']
        loser = ['😔', '😕', '😣', '😞', '😢']
        rwin = random.choice(win)
        rloser = random.choice(loser)
        rx = random.randint(1, 90)
        rx2 = '{:,}'.format(rx)
        msg = message
        name1 = message.from_user.get_mention(as_html=True)
        name = msg.from_user.last_name
        user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
        name1 = str(user_name[0])
        balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
        balance = int(balance[0])
        subs = cursor.execute("SELECT subs from users where user_id = ?", (message.from_user.id,)).fetchone()
        subs = int(subs[0])
        pc = cursor.execute("SELECT pc from users where user_id = ?", (message.from_user.id,)).fetchone()
        pc = int(pc[0])
        checker = cursor.execute("SELECT checker from users where user_id = ?", (message.from_user.id,)).fetchone()
        checker = int(checker[0])
        period = 900
        get = cursor.execute("SELECT last_video FROM users WHERE user_id = ?", (message.from_user.id,)).fetchone()
        last_video = f"{int(get[0])}"
        stavkatime = time.time() - float(last_video)
        profit1 = '{0:,}'.format(subs * 2500).replace(',', '.')
        if stavkatime > period:
            if checker == 10:
                await bot.send_message(chat_id,
                                       f'''📼 {name1}, вы успешно сняли видеоролик
ℹ Вы получили: {profit1}$
➕ На вас подписалось: {rx2} человек''',
                                       parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance + subs * 2500} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET subs = {subs + rx} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET last_video=? WHERE user_id=?', (time.time(), user_id,))
                connect.commit()
                return
            else:
             await bot.send_message(message.chat.id, f'ℹ️ {name1}, у вас нет канала или же нет всех необходимых предметов для сьёмки видео {rloser}')
        if stavkatime < period:
            await bot.send_message(chat_id,
                                   f'ℹ️ {name1}, снимать видео возможно только раз в 15 минут [⏳] {rloser}',
                                   parse_mode='html')

@dp.message_handler(text=['Купить все', 'купить все'])
async def teth(message):
 user_id = message.from_user.id
 user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 user_name = str(user_name[0])

 balance = cursor.execute("SELECT balance from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 balance = int(balance[0])

 checker = cursor.execute("SELECT checker from users where user_id = ?", (message.from_user.id,)).fetchone()
 checker = int(checker[0])
 
 lampa = cursor.execute("SELECT lampa from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 lampa = int(lampa[0])
 stol = cursor.execute("SELECT lampa from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 stol = int(stol[0])
 monitor = cursor.execute("SELECT monitor from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 monitor = int(monitor[0])
 pc = cursor.execute("SELECT pc from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 pc = int(pc[0])
 clava = cursor.execute("SELECT clava from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 clava = int(clava[0])
 creslo = cursor.execute("SELECT creslo from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 creslo = int(creslo[0])
 mish = cursor.execute("SELECT mish from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 mish = int(mish[0])
 microphone = cursor.execute("SELECT microphone from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 microphone = int(microphone[0])
 heardphone = cursor.execute("SELECT mish from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 heardphone = int(heardphone[0])
 covrik = cursor.execute("SELECT covrik from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 covrik = int(covrik[0])

 comnata = cursor.execute("SELECT comnata from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
 comnata = int(comnata[0])
 if comnata >= 1:
  cursor.execute(f'UPDATE users SET balance = {balance - 25000000}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET lampa = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET stol = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET monitor = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET pc = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET clava = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET creslo = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET mish = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET microphone = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET heardphone = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET covrik = {1}  WHERE user_id = {user_id}')
  cursor.execute(f'UPDATE users SET checker = {checker + 10}  WHERE user_id = {user_id}')
  await message.reply(f'🎇 {user_name}, вы успешно купили все предметы', parse_mode='html')
  connect.commit()










#задание
@dp.callback_query_handler(lambda c: c.data == "checker")
async def channel(callback_query: types.CallbackQuery):
    usid = callback_query.from_user.id
    user_name = callback_query.from_user.full_name
    balance = cursor.execute("SELECT balance from users where user_id = ?",(usid,)).fetchone()
    balance = int(balance[0])
    some_var = await bot.get_chat_member(-1002105089247, usid)
    c = cursor.execute("SELECT checkk FROM users WHERE user_id = ?",(usid,)).fetchone()
    c = int(c[0])
    if c == 1:
       await bot.send_message(callback_query.message.chat.id, f"ℹ️ <a href='tg://user?id={usid}'>{user_name}</a>, вы не можете выполнить задание повторно!", parse_mode='html')
       return

    if some_var.status == 'member' or some_var.status == 'administrator' or some_var.status == 'creator':
       await bot.send_message(callback_query.message.chat.id, f"✅ <a href='tg://user?id={usid}'>{user_name}</a>, вы успешно выполнили задание! \n🎁 На ваш баланс зачислено: 100.000.000.000.000", parse_mode='html')
       cursor.execute(f'UPDATE users SET balance = {balance + 100000000000000}  WHERE user_id = ?', (usid,))
       cursor.execute(f'UPDATE users SET checkk = {1}  WHERE user_id = ?', (usid,))
       connect.commit()            
    else:
       await bot.send_message(callback_query.message.chat.id, f"🚫 | <a href='tg://user?id={usid}'>{user_name}</a>, вы не подписались на наш канал!", parse_mode='html')             
channel = types.InlineKeyboardMarkup(row_width=3)
channel.add(types.InlineKeyboardButton(text='📢 Подписаться', url="https://t.me/vest_dev")) 
channel.add(types.InlineKeyboardButton(text='✅ Проверить', callback_data='checker'))
@dp.message_handler(text=["Задание", "задание"])
async def teth(message):
       msg = message
       user_id = msg.from_user.id
       user_name = msg.from_user.full_name
       c = cursor.execute("SELECT checkk FROM users WHERE user_id = ?",(message.from_user.id,)).fetchone()
       c = int(c[0])
       if c == 0:
          await bot.send_message(message.chat.id, f"💰 <a href='tg://user?id={user_id}'>{user_name}</a>, за подписку на наш канал вы получите 100.000.000.000.000 на свой баланс", parse_mode='html', reply_markup=channel)
       if c == 1:
          await bot.send_message(message.chat.id, f"ℹ️ <a href='tg://user?id={user_id}'>{user_name}</a>, вы не можете выполнить задание повторно!", parse_mode='html')




###############################################КК############################################   
@dp.message_handler(commands=['кк'], commands_prefix=["/", "!", "."])
async def disconect_database(message: types.Message):
    if not message.reply_to_message:
       await message.bot.send_message(message.chat.id , f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, эта команда должна быть ответом на сообщение", parse_mode='html')
       return
       

    status_block = cursor.execute("SELECT status_block from users where user_id = ?",(message.from_user.id,)).fetchone()
    status_block = str(status_block[0])

    if status_block == 'on':
       return

    user_id = message.from_user.id
    reply_user_id = message.reply_to_message.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    i = f'''
🗄 Вы удалили <b>{user_name}</b> с базы данных 
   '''

    i2 = f'''
❗️ Данная команда доступно для создателя
   '''

    text = [i, i2]
    if user_id == cfg.owner_id:
        await message.reply(text[0], parse_mode='html')
        cursor.execute(f'DELETE from users where user_id = {reply_user_id}')
        cursor.execute(f'DELETE from user_case where user_id = {reply_user_id}')
        cursor.execute(f'DELETE from bot_time where user_id = {reply_user_id}')
        cursor.execute(f'DELETE from time_bank where user_id = {reply_user_id}')
        cursor.execute(f'DELETE from ob_time where user_id = {reply_user_id}')
        cursor.execute(f'DELETE from time_prefix where user_id = {reply_user_id}')
        cursor.execute(f'DELETE from time_sms where user_id = {reply_user_id}')
        cursor.execute(f'DELETE from mine where user_id = {reply_user_id}')
        cursor.execute(f'DELETE from ivent where user_id = {reply_user_id}')
        cursor.execute(f'DELETE from cars where user_id = {reply_user_id}')
        cursor.execute(f'DELETE from reffer where user_id = {reply_user_id}')
        connect.commit()
    else:  
        await message.reply(text[1], parse_mode='html')

@dp.message_handler(commands=['infoid'])
async def info_id_handler(message):
    status_block = cursor.execute("SELECT status_block from users where user_id = ?",(message.from_user.id,)).fetchone()
    status_block = str(status_block[0])

    if status_block == 'on':
       return
    msg = message
    user_id = msg.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    

    user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
    user_status = str(user_status[0])

    reply_user_id = int(message.text.split()[1])

    text = ' '.join(message.text.split()[2:])

    balance = cursor.execute(f"SELECT balance from users where user_id = {reply_user_id}").fetchone()
    balance = int(balance[0])
    balance2 = '{:,}'.format(balance).replace(',', '.')

    reply_user_name = cursor.execute(f"SELECT user_name from users where user_id = {reply_user_id}").fetchone()
    reply_user_name = str(reply_user_name[0])

    bank = cursor.execute(f"SELECT bank from users where user_id = {reply_user_id}").fetchone()
    bank = int(bank[0])
    bank3 = '{:,}'.format(bank).replace(',', '.')

    user_tg_name = 'Аккаунт'

    reply_user_status = cursor.execute(f"SELECT user_status from users where user_id = {reply_user_id}").fetchone()
    reply_user_status = str(reply_user_status[0])

    ethereum = cursor.execute(f"SELECT ethereum from users where user_id = {reply_user_id}").fetchone()
    ethereum = int(ethereum[0])
    ethereum2 = '{:,}'.format(ethereum).replace(',', '.')

    rating = cursor.execute(f"SELECT rating from users where user_id = {reply_user_id}").fetchone()
    rating = int(rating[0])
    rating2 = '{:,}'.format(rating).replace(',', '.')

    status_block = cursor.execute(f"SELECT status_block from users where user_id = {reply_user_id}").fetchone()
    status_block = str(status_block[0])

    time_register = cursor.execute(f"SELECT time_register from users where user_id = {reply_user_id}").fetchone()
    time_register = time_register[0]

    pref = cursor.execute(f"SELECT pref from users where user_id = {reply_user_id}").fetchone()
    pref = str(pref[0])

    donate_coins = cursor.execute(f"SELECT donate_coins from users where user_id = {reply_user_id}").fetchone()
    donate_coins = int(donate_coins[0])
    donate_coins2 = '{:,}'.format(donate_coins).replace(',', '.')

    bank2 = cursor.execute(f"SELECT bank2 from users where user_id = {reply_user_id}").fetchone()
    bank2 = int(bank2[0])
    bank22 = '{:,}'.format(bank2).replace(',', '.')

    depozit = cursor.execute(f"SELECT depozit from users where user_id = {reply_user_id}").fetchone()
    depozit = int(depozit[0])
    depozit2 = '{:,}'.format(depozit).replace(',', '.')


    if user_status in ['Owner', 'Helper_Admin', 'Admin']:
       await bot.send_message(message.chat.id, f"""
<a href='tg://user?id={user_id}'>{user_name}</a> , вот данные о <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> :

💬 | Телеграм: <a href='tg://user?id={reply_user_id}'>{user_tg_name}</a>
🆔 | Айди: {reply_user_id}
🟢 | Статус: {reply_user_status}
🟩 | Статус блокировки: {status_block}

👤 | Ник: {reply_user_name}
💰 | Баланс: {balance2}$
🏪 | На карточке: {bank3}$
🏪 | Хранительный счёт: {bank22}$
🏛 | Депозит: {depozit2}$
👑 | Рейтинг: {rating2} 👑
🍩 | Пончики: {donate_coins2} 🍩

📆 | Дата регистрации: {time_register}     
       """, parse_mode='html')



@dp.message_handler(commands=['info'])
async def info_handler(message):
    status_block = cursor.execute("SELECT status_block from users where user_id = ?",(message.from_user.id,)).fetchone()
    status_block = str(status_block[0])

    if status_block == 'on':
       return
    msg = message
    user_id = msg.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    pref = cursor.execute("SELECT pref from users where user_id = ?",(message.from_user.id,)).fetchone()
    pref = str(pref[0])

    if not message.reply_to_message:
       await message.bot.send_message(message.chat.id , f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, эта команда должна быть ответом на сообщение", parse_mode='html')
       return
       
    user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
    user_status = str(user_status[0])

    reply_user_id = message.reply_to_message.from_user.id

    balance = cursor.execute(f"SELECT balance from users where user_id = {reply_user_id}").fetchone()
    balance = int(balance[0])
    balance2 = '{:,}'.format(balance).replace(',', '.')

    reply_user_name = cursor.execute(f"SELECT user_name from users where user_id = {reply_user_id}").fetchone()
    reply_user_name = str(reply_user_name[0])

    bank = cursor.execute(f"SELECT bank from users where user_id = {reply_user_id}").fetchone()
    bank = int(bank[0])
    bank3 = '{:,}'.format(bank).replace(',', '.')

    user_tg_name = message.reply_to_message.from_user.get_mention(as_html=True)

    reply_user_status = cursor.execute(f"SELECT user_status from users where user_id = {reply_user_id}").fetchone()
    reply_user_status = str(reply_user_status[0])

    reply_pref = cursor.execute(f"SELECT pref from users where user_id = {reply_user_id}").fetchone()
    reply_pref = str(reply_pref[0])

    ethereum = cursor.execute(f"SELECT ethereum from users where user_id = {reply_user_id}").fetchone()
    ethereum = int(ethereum[0])
    ethereum2 = '{:,}'.format(ethereum).replace(',', '.')

    rating = cursor.execute(f"SELECT rating from users where user_id = {reply_user_id}").fetchone()
    rating = int(rating[0])
    rating2 = '{:,}'.format(rating).replace(',', '.')


    player = status_users(reply_user_id)

    status_block = cursor.execute(f"SELECT status_block from users where user_id = {reply_user_id}").fetchone()
    status_block = str(status_block[0])

    time_register = cursor.execute(f"SELECT time_register from users where user_id = {reply_user_id}").fetchone()
    time_register = time_register[0]

    pref = cursor.execute(f"SELECT pref from users where user_id = {reply_user_id}").fetchone()
    pref = str(pref[0])

    donate_coins = cursor.execute(f"SELECT donate_coins from users where user_id = {reply_user_id}").fetchone()
    donate_coins = int(donate_coins[0])
    donate_coins2 = '{:,}'.format(donate_coins).replace(',', '.')

    bank2 = cursor.execute(f"SELECT bank2 from users where user_id = {reply_user_id}").fetchone()
    bank2 = int(bank2[0])
    bank22 = '{:,}'.format(bank2).replace(',', '.')

    depozit = cursor.execute(f"SELECT depozit from users where user_id = {reply_user_id}").fetchone()
    depozit = int(depozit[0])
    depozit2 = '{:,}'.format(depozit).replace(',', '.')

    if user_status in ['Owner', 'Helper_Admin', 'Admin', 'Rab']:
       await message.bot.send_message(message.chat.id, f"""
<a href='tg://user?id={user_id}'>{user_name}</a> , вот данные о <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> :

💬 | Телеграм: {user_tg_name}
🆔 | Айди: {reply_user_id}
🟢 | Статус: {player}
🟩 | Статус блокировки: {status_block}

👤 | Ник: {reply_user_name}
💰 | Баланс: {balance2}$
🏪 | На карточке: {bank3}$
🏪 | Хранительный счёт: {bank22}$
🏛 | Депозит: {depozit2}$
👑 | Рейтинг: {rating2} 👑
🍩 | Пончики: {donate_coins2} 🍩

📆 | Дата регистрации: {time_register}     
       """, parse_mode='html')
@dp.message_handler(commands=['unban'])
async def channelunban_handler(message):
    status_block = cursor.execute("SELECT status_block from users where user_id = ?",(message.from_user.id,)).fetchone()
    status_block = str(status_block[0])

    if status_block == 'on':
       return
    name1 = message.from_user.get_mention(as_html=True)
    if not message.reply_to_message:
       await message.reply("ℹ | Эта команда должна быть ответом на сообщение!")
       return

    await message.bot.restrict_chat_member(message.chat.id, message.reply_to_message.from_user.id, types.ChatPermissions(True, True, True, True))
    await message.reply(f'👤 | Администратор: {name1}\n📲 | Разбанил: <a href="tg://user?id={message.reply_to_message.from_user.id}">{message.reply_to_message.from_user.first_name}</a>',  parse_mode='html')
@dp.message_handler(commands=['ban'])
async def channelban_handler(message):
    status_block = cursor.execute("SELECT status_block from users where user_id = ?",(message.from_user.id,)).fetchone()
    status_block = str(status_block[0])

    if status_block == 'on':
       return
    name1 = message.from_user.get_mention(as_html=True)
    if not message.reply_to_message:
       await message.reply("ℹ | Эта команда должна быть ответом на сообщение!")
       return
    comment = " ".join(message.text.split()[1:])
    await message.bot.kick_chat_member(message.chat.id, message.reply_to_message.from_user.id, types.ChatPermissions(False))
    await message.reply(f'👤 | Администратор: {name1}\n🛑 | Забанил: <a href="tg://user?id={message.reply_to_message.from_user.id}">{message.reply_to_message.from_user.first_name}</a>\n⏰ | Срок: навсегда\n📃 | Причина: {comment}',  parse_mode='html')

@dp.message_handler(commands=['unmute'])
async def channelunmute_handler(message):
    status_block = cursor.execute("SELECT status_block from users where user_id = ?",(message.from_user.id,)).fetchone()
    status_block = str(status_block[0])

    if status_block == 'on':
       return
    name1 = message.from_user.get_mention(as_html=True)
    if not message.reply_to_message:
       await message.reply("ℹ | Эта команда должна быть ответом на сообщение!")
       return
    await message.bot.restrict_chat_member(message.chat.id, message.reply_to_message.from_user.id, types.ChatPermissions(True, True, True, True))
    await message.reply(f'👤 | Администратор: {name1}\n🔊 | Размутил: <a href="tg://user?id={message.reply_to_message.from_user.id}">{message.reply_to_message.from_user.first_name}</a>',  parse_mode='html')

@dp.message_handler(commands=['mute'])
async def channelmute_handler(message):
    status_block = cursor.execute("SELECT status_block from users where user_id = ?",(message.from_user.id,)).fetchone()
    status_block = str(status_block[0])

    if status_block == 'on':
       return
    name1 = message.from_user.get_mention(as_html=True)
    if not message.reply_to_message:
       await message.reply("ℹ | Эта команда должна быть ответом на сообщение!")
       return
    try:
       muteint = int(message.text.split()[1])
       mutetype = message.text.split()[2]
       comment = " ".join(message.text.split()[3:])
    except IndexError:
       await message.reply('ℹ | Не хватает аргументов!\nПример: /mute 1 ч причина')
       return
    if mutetype == "ч" or mutetype == "часов" or mutetype == "час" or mutetype == "h":
       dt = datetime.now() + timedelta(hours=muteint)
       timestamp = dt.timestamp()
       await message.bot.restrict_chat_member(message.chat.id, message.reply_to_message.from_user.id, types.ChatPermissions(False), until_date = timestamp)
       await message.reply(f'👤 | Администратор: {name1}\n🛑 | Замутил: <a href="tg://user?id={message.reply_to_message.from_user.id}">{message.reply_to_message.from_user.first_name}</a>\n⏰ | Срок: {muteint} {mutetype}\n📃 | Причина: {comment}',  parse_mode='html')
    if mutetype == "м" or mutetype == "минут" or mutetype == "минуты" or mutetype == "m":
       dt = datetime.now() + timedelta(minutes=muteint)
       timestamp = dt.timestamp()
       await message.bot.restrict_chat_member(message.chat.id, message.reply_to_message.from_user.id, types.ChatPermissions(False), until_date = timestamp)
       await message.reply(f'👤 | Администратор: {name1}\n🛑 | Замутил: <a href="tg://user?id={message.reply_to_message.from_user.id}">{message.reply_to_message.from_user.first_name}</a>\n⏰ | Срок: {muteint} {mutetype}\n📃 | Причина: {comment}',  parse_mode='html')
    if mutetype == "д" or mutetype == "дней" or mutetype == "день" or mutetype == "d":
       dt = datetime.now() + timedelta(days=muteint)
       timestamp = dt.timestamp()
       await message.bot.restrict_chat_member(message.chat.id, message.reply_to_message.from_user.id, types.ChatPermissions(False), until_date = timestamp)
       await message.reply(f'👤 | Администратор: {name1}\n | 🛑Замутил: <a href="tg://user?id={message.reply_to_message.from_user.id}">{message.reply_to_message.from_user.first_name}</a>\n⏰ | Срок: {muteint} {mutetype}\n📃 | Причина: {comment}',  parse_mode='html')

@dp.message_handler(text=['К', 'к', 'Крипто', 'крипто'])
async def kripto5(message):
    user_id = message.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    ethereum = cursor.execute("SELECT ethereum from users where user_id = ?",(message.from_user.id,)).fetchone()
    ethereum = int(ethereum[0])
    ethereum2 = '{:,}'.format(ethereum)
    bitcoin = cursor.execute("SELECT bitcoin from users where user_id = ?",(message.from_user.id,)).fetchone()
    bitcoin = int(bitcoin[0])
    bitcoin2 = '{:,}'.format(bitcoin)
    litecoin = cursor.execute("SELECT litecoin from users where user_id = ?",(message.from_user.id,)).fetchone()
    litecoin = int(litecoin[0])
    litecoin2 = '{:,}'.format(litecoin)
    fantom = cursor.execute("SELECT fantom from users where user_id = ?",(message.from_user.id,)).fetchone()
    fantom = int(fantom[0])
    fantom2 = '{:,}'.format(fantom)
    
    help_back = InlineKeyboardMarkup(row_width=1)
    cripto_kurs = InlineKeyboardButton(text='📊 Курс крипто', callback_data='cripto_kurs')
    help_back.add(cripto_kurs)

    await bot.send_message(message.chat.id, f"""💳 | <a href='tg://user?id={user_id}'>{user_name}</a>, вот ваш крипто кошелёк

🔹 LITECOIN: <code>{litecoin2}</code>
🌐 BITCOIN: <code>{bitcoin2}</code>
🟣 ETH: <code>{ethereum2}</code>
💠 PHANTOM: <code>{fantom2}</code>
    """, parse_mode='html')
@dp.message_handler(commands=['rreset_id'])
async def reset_id_handler(message):
    status_block = cursor.execute("SELECT status_block from users where user_id = ?",(message.from_user.id,)).fetchone()
    status_block = str(status_block[0])

    if status_block == 'on':
       return

    msg = message
    user_id = msg.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
    user_status = str(user_status[0])

    reply_user_id = int(message.text.split()[1])

    text = ' '.join(message.text.split()[2:])


    reply_user_name = cursor.execute(f"SELECT user_name from users where user_id = {reply_user_id}").fetchone()
    reply_user_name = str(reply_user_name[0])

    if user_status == 'Owner':
       await message.bot.send_message(cfg.log_group, f"""
⛔️ |Администратор: <a href='tg://user?id={user_id}'>{user_name}</a> 
⚙️ |Действие: Обнуление рейтинга по ID
💈 |Причина: {text} 
👨 |Игроку: <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>
       """, parse_mode='html')

       await message.bot.send_message(message.chat.id, f"""
⛔️ |Администратор: <a href='tg://user?id={user_id}'>{user_name}</a> 
⚙️ |Действие: Обнуление рейтинга по ID
💈 |Причина: {text} 
👨 |Игроку: <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>
       """, parse_mode='html')
       cursor.execute(f'UPDATE users SET rating = {0} WHERE user_id = "{reply_user_id}"')

       connect.commit()
       await message.bot.send_message(reply_user_id, f"""
<b>🆘 | <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>, ВАШ РЕЙТИНГ БЫЛ ОБНУЛЁН | 🆘</b>
💭 | Причина: <i>{text}</i>
⛔️ | Администратор: <a href='tg://user?id={user_id}'>{user_name}</a> 
       """, parse_mode='html')
       return

    if user_status == 'Rab':
       await message.bot.send_message(message.chat.id, f"""
⛔️ |Администратор: <a href='tg://user?id={user_id}'>{user_name}</a> 
⚙️ |Действие: Обнуление рейтинга по ID
💈 |Причина: {text} 
👨 |Игроку: <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>
       """, parse_mode='html')
       cursor.execute(f'UPDATE users SET rating = {0} WHERE user_id = "{reply_user_id}"')
       connect.commit()
       await message.bot.send_message(reply_user_id, f"""
<b>🆘 | <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>, ВАШ РEЙТИНГ БЫЛ ОБНУЛЁН | 🆘</b>
💭 | Причина: <i>{text}</i>
⛔️ | Администратор: <a href='tg://user?id={user_id}'>{user_name}</a> 
       """, parse_mode='html')
       return
    else:
       await message.bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a> , данная функция доступна от прав админитсратора \"Owner\"", parse_mode='html')



@dp.message_handler(commands=['dreset_id'])
async def reset_id_handler(message):
    status_block = cursor.execute("SELECT status_block from users where user_id = ?",(message.from_user.id,)).fetchone()
    status_block = str(status_block[0])

    if status_block == 'on':
       return

    msg = message
    user_id = msg.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
    user_status = str(user_status[0])

    reply_user_id = int(message.text.split()[1])

    text = ' '.join(message.text.split()[2:])


    reply_user_name = cursor.execute(f"SELECT user_name from users where user_id = {reply_user_id}").fetchone()
    reply_user_name = str(reply_user_name[0])

    if user_status == 'Owner':
       await message.bot.send_message(cfg.log_group, f"""
⛔️ |Администратор: <a href='tg://user?id={user_id}'>{user_name}</a> 
⚙️ |Действие: Обнуление баланса по ID
💈 |Причина: {text} 
👨 |Игроку: <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>
       """, parse_mode='html')

       await message.bot.send_message(message.chat.id, f"""
⛔️ |Администратор: <a href='tg://user?id={user_id}'>{user_name}</a> 
⚙️ |Действие: Обнуление баланса по ID
💈 |Причина: {text} 
👨 |Игроку: <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>
       """, parse_mode='html')
       cursor.execute(f'UPDATE users SET balance = {0} WHERE user_id = "{reply_user_id}"')

       connect.commit()
       await message.bot.send_message(reply_user_id, f"""
<b>🆘 | <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>, ВАШ БАЛАНС БЫЛ ОБНУЛЁН | 🆘</b>
💭 | Причина: <i>{text}</i>
⛔️ | Администратор: <a href='tg://user?id={user_id}'>{user_name}</a> 
       """, parse_mode='html')
       return

    if user_status == 'Rab':
       await message.bot.send_message(message.chat.id, f"""
⛔️ |Администратор: <a href='tg://user?id={user_id}'>{user_name}</a> 
⚙️ |Действие: Обнуление баланса по ID
💈 |Причина: {text} 
👨 |Игроку: <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>
       """, parse_mode='html')
       cursor.execute(f'UPDATE users SET balance = {0} WHERE user_id = "{reply_user_id}"')
       connect.commit()
       await message.bot.send_message(reply_user_id, f"""
<b>🆘 | <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>, ВАШ БАЛАНС БЫЛ ОБНУЛЁН | 🆘</b>
💭 | Причина: <i>{text}</i>
⛔️ | Администратор: <a href='tg://user?id={user_id}'>{user_name}</a> 
       """, parse_mode='html')
       return
    else:
       await message.bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a> , данная функция доступна от прав админитсратора \"Owner\"", parse_mode='html')





		
@dp.message_handler(lambda t: t.text.startswith("/m"))
async def startswith(message):
          	message = message
          	user_id = message.from_user.id
          	name = message.from_user.last_name 
          	
          	suser = int(message.text.split()[1])
          	soob = " ".join(message.text.split()[2:])
          	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
          	user_name = str(user_name[0])
          	reply = message.from_user.id
          	user_name2 = cursor.execute("SELECT user_name from users where user_id = ?", (suser,)).fetchone()
          	user_name2 = str(user_name2[0])
          	
          	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
          	user_name = str(user_name[0])
          	reply = message.from_user.id
          	user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
          	user_status = str(user_status[0])
          	await message.reply(f'Вы успешно передали сообщение пользователю: {user_name2}!\nВаше сообщение: {soob}', parse_mode='html')
          	await bot.send_message(suser, f"{user_name}, передал вам сообщение:\n{soob}", parse_mode='html')

         		
         		         		
         		         		         		
@dp.message_handler(commands=["puzze"], commands_prefix='!./')
async def puzzels(self):

    with open("puzz.txt", encoding='utf-8') as file:
        int_number = file.read()
    rmoney = cursor.execute("SELECT AVG(balance) AS Average_balance FROM users WHERE user_status='Player' or user_status='vip' or user_status='premium' or user_status='delux'")
    rmoney = cursor.fetchone()
    rmoney = round(int(rmoney[0]))
    rmoney=round(rmoney/6)
    while True:
        cursor.execute("DELETE from puzzles ")
        cursor.execute("DELETE from puzzles_old ")
        connect.commit()
        v = random.randint(0, 19)
        int_number2 = int_number.split("%")[v]
        description = int_number2.split("*")[0]
        answer = int_number2.split("*")[1]
        f = cursor.execute(f"SELECT puzz_name FROM puzzles_old WHERE puzz_name='{answer}'")
        f = cursor.fetchone()
        if f is None:
            break

    cursor.execute("INSERT INTO puzzles VALUES(?, ? ,?)",
                   (str(answer.lower()), 1, rmoney))
    cursor.execute("INSERT INTO puzzles_old VALUES(?)",
                   (str(answer),))
    connect.commit()
    await bot.send_message(cfg.channell, f'🧩 Ребус\n {description}\n✅ Для ответа введите «Ответ [ответ]»')

	         		              		
#################################АЙДИ#########################################################          	
@dp.message_handler(commands=["id"], commands_prefix='!./ ')
async def id(message):
	user_id = message.reply_to_message.from_user.id
	if message.reply_to_message:
		await message.reply(f"Айди пользователя: <code>{user_id}</code>", parse_mode='html')	
	if not message.reply_to_message:
		await message.reply(f"Эта команда должна быть ответом на сообщение!", parse_mode='html')
@dp.message_handler(commands=["chat_id"], commands_prefix='!./')
async def id(message):
	user_id = message.chat.id
	await message.reply(f"Айди чата: {user_id}", parse_mode='html')
        	

####################################################ТЕЛЕФОНЫ############################################################
@dp.message_handler(lambda t: t.text.startswith("Купить телефон"))
async def startswith(message):
          	     user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
          	     user_name = str(user_name[0])
          	     reply = message.from_user.id
          	     user_id = message.from_user.id

          	     balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
          	     balance = int(balance[0])

          	     phone = cursor.execute("SELECT phone from users where user_id = ?", (message.from_user.id,)).fetchone()
          	     phone = int(phone[0])

          	     loser = ['😔', '😕', '😣', '😞', '😢']
          	     rloser = random.choice(loser)

          	     nomer = int(message.text.split()[2])

          	     if nomer == 1:
          	         price = 120000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"Nokia"</b> 🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {1}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>,<i> у вас уже есть телефон</i> {rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
          	     if nomer == 2:
          	         price = 350000000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id,
          	                                        f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"Рация"</b> 🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {2}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, <i>у вас уже есть телефон </i>{rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
          	     if nomer == 3:
          	         price = 180000000000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"Huawei"</b> 🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {3}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, <i>у вас уже есть телефон</i> {rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
          	     if nomer == 4:
          	         price = 450000000000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"Xiaomi" </b>🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {4}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, <i>у вас уже есть телефон </i>{rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
          	     if nomer == 5:
          	         price = 11000000000000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id,
          	                                        f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"Samsung"</b> 🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {5}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, <i>у вас уже есть телефон</i> {rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
          	     if nomer == 6:
          	         price = 42000000000000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"Poco"</b> 🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {6}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>,<i> у вас уже есть телефон</i> {rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
          	     if nomer == 7:
          	         price = 95000000000000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"iPhone"</b> 🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {7}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, <i>у вас уже есть телефон </i>{rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
@dp.message_handler(lambda t: t.text.startswith("купить телефон"))
async def startswith(message):
          	     user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
          	     user_name = str(user_name[0])
          	     reply = message.from_user.id
          	     user_id = message.from_user.id

          	     balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
          	     balance = int(balance[0])

          	     phone = cursor.execute("SELECT phone from users where user_id = ?", (message.from_user.id,)).fetchone()
          	     phone = int(phone[0])

          	     loser = ['😔', '😕', '😣', '😞', '😢']
          	     rloser = random.choice(loser)

          	     nomer = int(message.text.split()[2])

          	     if nomer == 1:
          	         price = 120000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"Nokia"</b> 🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {1}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>,<i> у вас уже есть телефон</i> {rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
          	     if nomer == 2:
          	         price = 350000000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id,
          	                                        f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"Рация"</b> 🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {2}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, <i>у вас уже есть телефон </i>{rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
          	     if nomer == 3:
          	         price = 180000000000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"Huawei"</b> 🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {3}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, <i>у вас уже есть телефон</i> {rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
          	     if nomer == 4:
          	         price = 450000000000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"Xiaomi" </b>🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {4}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, <i>у вас уже есть телефон </i>{rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
          	     if nomer == 5:
          	         price = 11000000000000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id,
          	                                        f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"Samsung"</b> 🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {5}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, <i>у вас уже есть телефон</i> {rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
          	     if nomer == 6:
          	         price = 42000000000000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"Poco"</b> 🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {6}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>,<i> у вас уже есть телефон</i> {rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
          	     if nomer == 7:
          	         price = 95000000000000
          	         if balance >= price:
          	             if phone < 1:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно купили телефон <b>"iPhone"</b> 🎉',
          	                                        parse_mode='html')
          	                 cursor.execute(f'UPDATE users SET balance = {balance - price}  WHERE user_id = "{user_id}"')
          	                 cursor.execute(f'UPDATE users SET phone = {7}  WHERE user_id = "{user_id}"')
          	                 connect.commit()
          	             else:
          	                 await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, <i>у вас уже есть телефон </i>{rloser}',
          	                                        parse_mode='html')
          	         else:
          	             await bot.send_message(message.chat.id,
          	                                    f'<a href="tg://user?id={reply}">{user_name}</a>, у вас недостаточно средств для покупки данного имущества {rloser}',
          	                                    parse_mode='html')
@dp.message_handler(text=['Продать телефон', "продать телефон"])
async def teht(message):
          	     user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
          	     user_name = str(user_name[0])
          	     reply = message.from_user.id
          	     user_id = message.from_user.id

          	     balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
          	     balance = int(balance[0])

          	     phone = cursor.execute("SELECT phone from users where user_id = ?", (message.from_user.id,)).fetchone()
          	     phone = int(phone[0])

          	     loser = ['😔', '😕', '😣', '😞', '😢']
          	     rloser = random.choice(loser)

          	     win = ['🙂', '😋', '😄', '🤑', '😃']
          	     rwin = random.choice(win)

          	     if phone > 0:
          	         if phone == 1:
          	             price = 120000
          	             price2 = price / 2
          	             price3 = '{:,}'.format(price2).replace(',', '.')

          	             await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно продали телефон за {price3}$ ',
          	                                    parse_mode='html')
          	             cursor.execute(f'UPDATE users SET balance = {balance + price2}  WHERE user_id = "{user_id}"')
          	             cursor.execute(f'UPDATE users SET phone = {0}  WHERE user_id = "{user_id}"')
          	             connect.commit()
          	         if phone == 2:
          	             price = 350000000
          	             price2 = price / 2
          	             price3 = '{:,}'.format(price2).replace(',', '.')

          	             await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно продали телефон за {price3}$',
          	                                    parse_mode='html')
          	             cursor.execute(f'UPDATE users SET balance = {balance + price2}  WHERE user_id = "{user_id}"')
          	             cursor.execute(f'UPDATE users SET phone = {0}  WHERE user_id = "{user_id}"')
          	             connect.commit()
          	         if phone == 3:
          	             price = 180000000000
          	             price2 = price / 2
          	             price3 = '{:,}'.format(price2).replace(',', '.')

          	             await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно продали телефон за {price3}$ ',
          	                                    parse_mode='html')
          	             cursor.execute(f'UPDATE users SET balance = {balance + price2}  WHERE user_id = "{user_id}"')
          	             cursor.execute(f'UPDATE users SET phone = {0}  WHERE user_id = "{user_id}"')
          	             connect.commit()
          	         if phone == 4:
          	             price = 450000000000
          	             price2 = price / 2
          	             price3 = '{:,}'.format(price2).replace(',', '.')

          	             await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно продали телефон за {price3}$',
          	                                    parse_mode='html')
          	             cursor.execute(f'UPDATE users SET balance = {balance + price2}  WHERE user_id = "{user_id}"')
          	             cursor.execute(f'UPDATE users SET phone = {0}  WHERE user_id = "{user_id}"')
          	             connect.commit()
          	         if phone == 5:
          	             price = 11000000000000
          	             price2 = price / 2
          	             price3 = '{:,}'.format(price2).replace(',', '.')

          	             await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно продали телефон за {price3}$',
          	                                    parse_mode='html')
          	             cursor.execute(f'UPDATE users SET balance = {balance + price2}  WHERE user_id = "{user_id}"')
          	             cursor.execute(f'UPDATE users SET phone = {0}  WHERE user_id = "{user_id}"')
          	             connect.commit()
          	         if phone == 6:
          	             price = 42000000000000
          	             price2 = price / 2
          	             price3 = '{:,}'.format(price2).replace(',', '.')

          	             await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно продали телефон за {price3}$',
          	                                    parse_mode='html')
          	             cursor.execute(f'UPDATE users SET balance = {balance + price2}  WHERE user_id = "{user_id}"')
          	             cursor.execute(f'UPDATE users SET phone = {0}  WHERE user_id = "{user_id}"')
          	             connect.commit()
          	         if phone == 7:
          	             price = 95000000000000
          	             price2 = price / 2
          	             price3 = '{:,}'.format(price2).replace(',', '.')

          	             await bot.send_message(message.chat.id, f'<a href="tg://user?id={reply}">{user_name}</a>, вы успешно продали телефон за {price3}$ ',
          	                                    parse_mode='html')
          	             cursor.execute(f'UPDATE users SET balance = {balance + price2}  WHERE user_id = "{user_id}"')
          	             cursor.execute(f'UPDATE users SET phone = {0}  WHERE user_id = "{user_id}"')
          	             connect.commit()
@dp.message_handler(text=['Телефоны', "телефоны"])
async def teht(message):
          	     user_id = message.from_user.id
          	     user_name = cursor.execute("SELECT user_name from users WHERE user_id = ?", (message.from_user.id,)).fetchone()
          	     user_name = str(user_name[0])
          	     reply = message.from_user.id
          	     name = f'<a href="tg://user?id={reply}">{user_name}</a>'
          	     await bot.send_message(message.chat.id, f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, <b>вот список доступныx телефонов:
 📱 1. Nokia - 120.000$
 📱 2. Рация - 350.000.000$
 📱 3. Huawei - 180.000.000.000$
 📱 4. Xiaomi - 450.000.000.000$
 📱 5. Samsung - 11.000 000 000.000$
 📱 6. Poco - 42.000.000.000.000$
 📱 7. iPhone - 95.000.000.000.000$
    
🛒 Для покупки телефона введите:</b> <code>Купить телефон</code> <i>[номер]</i>"''', parse_mode='html')
@dp.message_handler(text=["мой телефон", "Мой телефон"])
async def teht(message):
        	phone= cursor.execute("SELECT phone from users where user_id = ?", (message.from_user.id,)).fetchone()
        	phone = int(phone[0])
        	loser = ['😔', '😕', '😣', '😞', '😢']
        	rloser = random.choice(loser)
        	
        	win = ['🙂', '😋', '😄', '🤑', '😃']
        	rwin = random.choice(win)
        	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
        	user_name = str(user_name[0])
        	reply = message.from_user.id
        	if phone> 0:
        		if phone== 1:
        			photo = open("imges/Phone1.jpg", "rb")
        			await bot.send_photo(message.chat.id, photo=photo, caption=f'📱 | <a href="tg://user?id={reply}">{user_name}</a>, ваш телефон: Nokia', parse_mode='html')
        		if phone== 2:
        			photo = open("imges/Phone2.jpg", "rb")
        			await bot.send_photo(message.chat.id, photo=photo, caption=f'📱 | <a href="tg://user?id={reply}">{user_name}</a>, ваш телефон: Рация', parse_mode='html')
        		if phone== 3:
        			photo = open("imges/Phone3.jpg", "rb")
        			await bot.send_photo(message.chat.id, photo=photo, caption=f'📱 | <a href="tg://user?id={reply}">{user_name}</a>, ваш телефон: Huawei', parse_mode='html')
        		if phone== 4:
        			photo = open("imges/Phone4.jpg", "rb")
        			await bot.send_photo(message.chat.id, photo=photo, caption=f'📱 | <a href="tg://user?id={reply}">{user_name}</a>, ваш телефон: Xiaomi', parse_mode='html')
        		if phone== 5:
        			photo = open("imges/Phone5.jpg", "rb")
        			await bot.send_photo(message.chat.id, photo=photo, caption=f'📱 | <a href="tg://user?id={reply}">{user_name}</a>, ваш телефон: Samsung', parse_mode='html')
        		if phone== 6:
        			photo = open("imges/Phone6.jpg", "rb")
        			await bot.send_photo(message.chat.id, photo=photo, caption=f'📱 | <a href="tg://user?id={reply}">{user_name}</a>, ваш телефон: Poco', parse_mode='html')
        		if phone== 7:
        			photo = open("imges/Phone7.jpg", "rb")
        			await bot.send_photo(message.chat.id, photo=photo, caption=f'📱 | <a href="tg://user?id={reply}">{user_name}</a>, ваш телефон: iPhone', parse_mode='html')

        	else:
        		await bot.send_message(message.chat.id, f"📱 | <a href='tg://user?id={reply}'>{user_name}</a>, у вас нет телефона!", parse_mode='html')       





###############################################СТАРТ############################################
@dp.message_handler(commands=['start'])
async def start_cmd(message):
    help3 = InlineKeyboardMarkup(row_width=2)
    keyboard = InlineKeyboardMarkup()
    button = InlineKeyboardButton('Канал 📣', url='https://t.me/vest_dev')
    keyboard.add(button)
    keyboard2 = InlineKeyboardMarkup()
    button2 = InlineKeyboardButton('Чатик 💬', url='https://t.me/vest_game_chat')
    register_help = InlineKeyboardButton(text='Помощь', callback_data='register_help')
    help3.add(button, button2, register_help)


    msg = message
    host = message.text.lower()
    user_id = msg.from_user.id
    full_name = msg.from_user.full_name
    user_name = 'НоуНейм'
    user_status = "Player"
    status_block = 'off'
    stats_status = 'off'
    pref = 'Игрок'
    pet_name = "name"
    tt_name = 'none'
    tt_reg = 'off'
    stavka_games = '0'
    hp = '0'
    list1 = cursor.execute(f"SELECT * FROM users ORDER BY id DESC")
    uid = 1
    for user in list1:
        uid += 1
    chat_id = message.chat.id
    result = time.localtime()

    if int(result.tm_mon) <= 9:
      p = "0"
    else:
      p = ''
    times = f'{result.tm_mday}.{p}{result.tm_mon}.{result.tm_year} | {result.tm_hour}:{result.tm_min}:{result.tm_sec}'
    times2 = str(times)

    cursor.execute(f"SELECT user_id FROM users WHERE user_id = '{user_id}'")
    if cursor.fetchone() is None:
       
       cursor.execute("INSERT INTO users VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);", (user_id, user_name, full_name, user_status, 100000, 0, 0, 0, status_block, times2, pref, 0, 0, 0, 0, stats_status, 0, 0, 0, 0, 0, 0, 0, 0, 0, pet_name, 100, 100, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, uid, 0, 0, 15000000000000, 0, 0, 0))
       cursor.execute("INSERT INTO mine VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);",(user_id, 0, 0, full_name, status_block, status_block, status_block, 0, 0, 0, 0, 0, 0, 0, 0, 1, status_block, 0, 500000000, 100000, 500000, 1000000, 5000000, 10000000))
       cursor.execute("INSERT INTO user_case VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);",(user_id, 0, 0, full_name, status_block, status_block, status_block, 0, 0, 0, 0, 0, 0))
       cursor.execute("INSERT INTO bot_time VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?);", (user_id, 0, 0, 0, 0, 0, 0, 0, 0, 0))
       cursor.execute("INSERT INTO time_bank VALUES(?, ?);",(user_id, 0))
       cursor.execute("INSERT INTO ob_time VALUES(?, ?);",(user_id, 0))
       cursor.execute("INSERT INTO cars VALUES(?, ?, ?, ?, ?);",(user_id, user_name, 0, 0, 0))
       cursor.execute("INSERT INTO reffer VALUES(?, ?);",(user_id, 0))
       cursor.execute("INSERT INTO tiktok VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?);",(tt_name, tt_reg, 0, 0, 0, 0, 0, 0, user_id))
       cursor.execute("INSERT INTO house VALUES(?, ?, ?, ?);",(user_id, user_name, 0, 0))
       cursor.execute("INSERT INTO truck VALUES(?, ?, ?, ?, ?);",(user_id, user_name, 0, 0, 0))
       cursor.execute("INSERT INTO ivent VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);",(user_id, user_name, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0))
       connect.commit()


    await bot.send_sticker(chat_id=message.chat.id, sticker='CAACAgIAAxkBAAEEUotmA_5Z4VteDaYeU4tiRsb-NFq2KAAC00cAAnimIEgGeQ10hAvcqTQE')
        
    name = message.from_user.get_mention(as_html=True)
    i = f'''
👋 {name}<b>, добро пожаловать в удивительный мир приключений и развлечений! 

🤖 Меня зовут « VEST », ваш верный спутник и проводник в увлекательную игровую вселенную. 

😉<i> Вам выдан начальный бонус в размере 100.000$ </i>💰</b>

    '''
    i2 = f'''
👋 {name}<b>, добро пожаловать в удивительный мир приключений и развлечений! 

🤖 Меня зовут « VEST », ваш верный спутник и проводник в увлекательную игровую вселенную. </b>
    '''

    text_register = [i, i2]
    msg = message
    user_id = msg.from_user.id
    full_name = msg.from_user.full_name
    user_name = 'Игрок'
    user_status = "Player"
    status_block = 'off'
    stats_status = 'off'
    pref = 'Игрок'
    pet_name = "Имя"
    tt_name = 'none'
    tt_reg = 'off'
    stavka_games = '0'
    hp = '0'
    list1 = cursor.execute(f"SELECT * FROM users ORDER BY id DESC")
    uid = 1
    for user in list1:
        uid += 1    
    chat_id = message.chat.id
    result = time.localtime()

    if int(result.tm_mon) <= 9:
      p = "0"
    else:
      p = ''
    times = f'{result.tm_mday}.{p}{result.tm_mon}.{result.tm_year} | {result.tm_hour}:{result.tm_min}:{result.tm_sec}'
    times2 = str(times)

    cursor.execute(f"SELECT user_id FROM users WHERE user_id = '{user_id}'")
    if cursor.fetchone() is None:
       
       reffer_id = message.text[7:]
       print(reffer_id)
       if reffer_id != '':
         reffer_id = int(reffer_id)
         
         reffer_name = cursor.execute(f'SELECT user_name FROM users WHERE user_id = {reffer_id}').fetchone()
         reffer_name = str(reffer_name[0])

         user_name = message.from_user.full_name

         add_users = cursor.execute(f'SELECT summ FROM reffer WHERE user_id = {reffer_id}').fetchone()
         add_users = int(add_users[0])
         
         balance = cursor.execute("SELECT balance from users where user_id = ?", (reffer_id,))
         balance = cursor.fetchone()
         balance = int(balance[0])
         donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?", (reffer_id,))
         donate_coins = cursor.fetchone()
         donate_coins = int(donate_coins[0])
         
         await message.reply(f'✅ Вы стали рефералом игрока {reffer_name}')
         cursor.execute(f'UPDATE reffer SET summ = {add_users + 1} WHERE user_id = {reffer_id}')
         reps = 5000000000000



         try:
            await message.bot.send_message(reffer_id, f'💰 По вашей ссылке зарегестрировался игрок {user_name} !\n Вы получили 5.000.000.000.000$ и 5 пончиков 🍩')
            cursor.execute(f'UPDATE users SET balance = {balance + reps} WHERE user_id = {reffer_id}')
            cursor.execute(f'UPDATE users SET donate_coins = {donate_coins + 5} WHERE user_id = {reffer_id}')
            connect.commit()
         except:
            pass



       await bot.send_message(message.chat.id, text_register[0], reply_markup=help3, parse_mode='html')

    else:
       await bot.send_message(message.chat.id, text_register[1], reply_markup=help3, disable_web_page_preview=True, parse_mode='html')
    

###########################################БАЛАНС###########################################
@dp.message_handler()
async def prof_user(message: types.Message):
    msg = message
    host = message.text.lower()
    user_id = msg.from_user.id
    full_name = msg.from_user.full_name
    user_name = 'Игрок'
    user_status = "Player"
    status_block = 'off'
    stats_status = 'off'
    pref = 'Игрок'
    pet_name = "Имя"
    tt_name = 'none'
    tt_reg = 'off'
    stavka_games = '0'
    hp = '0'
    list1 = cursor.execute(f"SELECT * FROM users ORDER BY id DESC")
    uid = 1
    for user in list1:
        uid += 1
    chat_id = message.chat.id
    result = time.localtime()

    if int(result.tm_mon) <= 9:
      p = "0"
    else:
      p = ''
    times = f'{result.tm_mday}.{p}{result.tm_mon}.{result.tm_year} | {result.tm_hour}:{result.tm_min}:{result.tm_sec}'
    times2 = str(times)

    cursor.execute(f"SELECT user_id FROM users WHERE user_id = '{user_id}'")
    if cursor.fetchone() is None:
       
       cursor.execute("INSERT INTO users VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);", (user_id, user_name, full_name, user_status, 100000, 0, 0, 0, status_block, times2, pref, 0, 0, 0, 0, stats_status, 0, 0, 0, 0, 0, 0, 0, 0, 0, pet_name, 100, 100, 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, uid, 0, 0, 15000000000000, 0, 0, 0))
       cursor.execute("INSERT INTO mine VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);",(user_id, 0, 0, full_name, status_block, status_block, status_block, 0, 0, 0, 0, 0, 0, 0, 0, 1, status_block, 0, 500000000, 100000, 500000, 1000000, 5000000, 10000000))
       cursor.execute("INSERT INTO user_case VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);",(user_id, 0, 0, full_name, status_block, status_block, status_block, 0, 0, 0, 0, 0, 0))
       cursor.execute("INSERT INTO bot_time VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?);", (user_id, 0, 0, 0, 0, 0, 0, 0, 0, 0))
       cursor.execute("INSERT INTO time_bank VALUES(?, ?);",(user_id, 0))
       cursor.execute("INSERT INTO ob_time VALUES(?, ?);",(user_id, 0))
       cursor.execute("INSERT INTO cars VALUES(?, ?, ?, ?, ?);",(user_id, user_name, 0, 0, 0))
       cursor.execute("INSERT INTO reffer VALUES(?, ?);",(user_id, 0))
       cursor.execute("INSERT INTO tiktok VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?);",(tt_name, tt_reg, 0, 0, 0, 0, 0, 0, user_id))
       cursor.execute("INSERT INTO house VALUES(?, ?, ?, ?);",(user_id, user_name, 0, 0))
       cursor.execute("INSERT INTO truck VALUES(?, ?, ?, ?, ?);",(user_id, user_name, 0, 0, 0))
       cursor.execute("INSERT INTO ivent VALUES(?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);",(user_id, user_name, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0))
       connect.commit()
       print(f'Зарегестрировался в боте пользователь: {full_name}')
       help3 = InlineKeyboardMarkup(row_width=2)
       keyboard = InlineKeyboardMarkup()
       button = InlineKeyboardButton('Канал разработчика!', url='https://t.me/vest_dev')
       keyboard.add(button)
       keyboard2 = InlineKeyboardMarkup()
       button2 = InlineKeyboardButton('Чатик', url='https://t.me/vest_game_chat')
       keyboard3 = InlineKeyboardMarkup()
       button3 = InlineKeyboardButton('Добавить меня в группу!', url='https://t.me/vest_game_bot?startgroup=new')
       keyboard3.add(button3)
       register_help = InlineKeyboardButton(text='Помощь', callback_data='register_help')
       help3.add(button, button2, button3, register_help)
       await bot.send_sticker(chat_id=message.chat.id, sticker='CAACAgIAAxkBAAEEUotmA_5Z4VteDaYeU4tiRsb-NFq2KAAC00cAAnimIEgGeQ10hAvcqTQE')
       
       name = message.from_user.get_mention(as_html=True)
       await bot.send_message(message.chat.id, f'''👋 {name}<b>, добро пожаловать в удивительный мир приключений и развлечений! 

🤖 Меня зовут « VEST », ваш верный спутник и проводник в увлекательную игровую вселенную. 

😉<i> Вам выдан начальный бонус в размере 100.000$ </i>💰

➕ Так же ты можешь добавить бота в свой чат по кнопке <b>ниже</b>
    ''', reply_markup=help3, parse_mode='html')


    status_block = cursor.execute("SELECT status_block from users where user_id = ?",(message.from_user.id,)).fetchone()
    status_block = str(status_block[0])

    if status_block == 'on':
       if chat_id == user_id:
          return await message.reply(f'❗️ Ваш аккаунт находиться в стадии <b>блокировки</b> ', parse_mode='html')
       return

    if message.forward_date != None:
       if user_id != cfg.owner_id:
         if chat_id == user_id:
            return await message.reply(f'❗️ Я не реагирую на <b>пересланное сообщение</b>', parse_mode='html')
         



    if message.text.lower() in ["б", 'баланс', '@Game_VEST_Bot баланс', "@game_vest_bot баланс"]:
       msg = message
       user_id = msg.from_user.id
       
       chat_id = message.chat.id
       pref = cursor.execute("SELECT pref from users where user_id = ?",(message.from_user.id,)).fetchone()
       pref = str(pref[0])

       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()              
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = int(balance[0])
       balance2 = '{:,}'.format(balance)
       bank = cursor.execute("SELECT bank from users where user_id = ?",(message.from_user.id,)).fetchone()
       bank = int(bank[0])
       bank2 = '{:,}'.format(bank)
       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = str(user_status[0])
       donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(message.from_user.id,)).fetchone()
       donate_coins = int(donate_coins[0])
       donate_coins2 = '{:,}'.format(donate_coins)
       player = status_users(message.from_user.id)
       photo = select_photo(message.from_user.id)

       life3 = types.InlineKeyboardMarkup(row_width=2)
       life3.add(types.InlineKeyboardButton(text='🎁 Бонус', callback_data='bonus5'), types.InlineKeyboardButton(text='📇 Крипто', callback_data='kripto5'))

       obb_summ = balance + bank
        
       from utils import scor_summ
        
       obb_summ2 = await scor_summ(obb_summ)

       text_balance = f"""
{player} ➪ <a href='tg://user?id={user_id}'>{user_name}</a>, <b>данные о средствах

💵 • Кошелёк:</b> <code>{balance2}</code>$
💳 <b>• Карта:</b> <code>{bank2}</code>$
🍩 <b>• Пончиков: </b><code>{donate_coins}</code>🍩

💰 <b>• Всего денег: </b><code>{obb_summ2}</code>$

Тут может быть ваша реклама !
    """


       await bot.send_message(message.chat.id, text_balance, reply_markup=life3, parse_mode='html')


###########################################ПЕРЕВОДЫ###########################################

    if message.text.lower() in ["Лимит", 'лимит', 'лимиты', 'мой лимит']:
                    data = await get_rang(message)
                    user_name = data[1]
                    user_id = msg.from_user.id
                    player = status_users(user_id)
                    user_status = str(data[3])
                    limit = cursor.execute("SELECT limitpered from users where user_id = ?", (message.from_user.id,)).fetchone()
                            


                    if user_status == 'Player':
                        limit1 = '15000000000000'
                        limit = int(limit[0])
                        limite = int(limit1) - limit
                        limite2 = '{:,}'.format(limite).replace(',', '.')

                        await bot.send_message(message.chat.id,f"""
{user_name}, информация о вашем лимите:
🔷 | Превилeгия: {player}

💱 | Возможность передать: 15e12$/день

💱 | Передано: {limite2}/15.000.000.000.000$        """,
                                       parse_mode='html')
                    if user_status == 'Vip':
                        limit1 = '50000000000000'
                        limit = int(limit[0])
                        limite = int(limit1) - limit
                        limite2 = '{:,}'.format(limite).replace(',', '.')

                        await bot.send_message(message.chat.id, f"""
{user_name}, информация о вашем лимите:
🔷 | Превилeгия: {player}

💱 | Возможность передать: 50e12$/день

💱 | Передано: {limite2}/50.000.000.000.000$        """,
                                   parse_mode='html')
                    if user_status == 'Titanium':
                        limit1 = '100000000000000'
                        limit = int(limit[0])
                        limite = int(limit1) - limit
                        limite2 = '{:,}'.format(limite).replace(',', '.')

                        await bot.send_message(message.chat.id, f"""
{user_name}, информация о вашем лимите:
🔷 | Превилeгия: {player}

💱 | Возможность передать: 100e12$/день

💱 | Передано: {limite2}/100.000.000.000.000$               """,
                               parse_mode='html')
                    if user_status == 'Deluxe':
                        limit1 = '500000000000000'
                        limit = int(limit[0])
                        limite = int(limit1) - limit
                        limite2 = '{:,}'.format(limite).replace(',', '.')
                        await bot.send_message(message.chat.id, f"""
{user_name}, информация о вашем лимите:
🔷 | Превилeгия: {player}

💱 | Возможность передать: 500e12$/день
 
💱 | Передано: {limite2}/ 500.000.000.000.000$               """,
                           parse_mode='html')
                    if user_status == 'Chem':
                        limit1 = '1000000000000000'
                        limit = int(limit[0])
                        limite = int(limit1) - limit
                        limite2 = '{:,}'.format(limite).replace(',', '.')
                        await bot.send_message(message.chat.id, f"""
{user_name}, информация о вашем лимите:
🔷 | Превилигия: {player}

💱 | Возможность передать: 1e15$/день

💱 | Передано: {limite2}/ 1.000.000.000.000.000$              """,
                       parse_mode='html')
                    if user_status == 'Korol':
                        limit1 = '5000000000000000'
                        limit = int(limit[0])
                        limite = int(limit1) - limit
                        limite2 = '{:,}'.format(limite).replace(',', '.')

                        await bot.send_message(message.chat.id, f"""
{user_name}, информация о вашем лимите:
🔷|  Превилигия: {player}

💱 | Возможность передать: 5e15$/день

💱 | Передано: {limite2}/5.000.000.000.000.000$        """,
                                   parse_mode='html')
                    if user_status == 'Donater':
                        limit1 = '10000000000000000'
                        limit = int(limit[0])
                        limite = int(limit1) - limit
                        limite2 = '{:,}'.format(limite).replace(',', '.')

                        await bot.send_message(message.chat.id, f"""
{user_name}, информация о вашем лимите:
🔷 |Превилигия: {player}

💱 | Возможность передать: 10e15$/день

💱 | Передано: {limite2}/10.000.000.000.000.000$        """,
                                   parse_mode='html')
    if user_status == 'Admin':
                        limit1 = '1000000000000000'
                        limit = int(limit[0])
                        limite = int(limit1) - limit
                        limite2 = '{:,}'.format(limite).replace(',', '.')
                        await bot.send_message(message.chat.id, f"""
{user_name}, информация о вашем лимите:
🔶 • Статус: {player}

💱 • Возможность передать: 1e15$/день

💱 • Передано: {limite2}/ 1.000.000.000.000.000$               """,
                                       parse_mode='html')
    if user_status == 'Helper_Admin':
                        limit1 = '10000000000000000'
                        limit = int(limit[0])
                        limite = int(limit1) - limit
                        limite2 = '{:,}'.format(limite).replace(',', '.')
                        await bot.send_message(message.chat.id, f"""
{user_name}, информация о вашем лимите:
🔶 • Статус: {player}

💱 • Возможность передать: 10e15$/день

💱 • Передано: {limite2}/ 10.000.000.000.000.000$               """,
                                       parse_mode='html')
                        return
    if user_status == 'Owner':
                        limit1 = '100000000000000000'
                        limit = int(limit[0])
                        limite = int(limit1) - limit
                        limite2 = '{:,}'.format(limite).replace(',', '.')
                        await bot.send_message(message.chat.id, f"""
{user_name}, информация о вашем лимите:
🔶 • Статус: {player}

💱 • Возможность передать: 100e15$/день

💱 • Передано: {limite2}/ 100.000.000.000.000.000$               """,
                                       parse_mode='html')
    if user_status == 'Rab':
                        limit1 = '8888888888888888888888'
                        limit = int(limit[0])
                        limite = int(limit1) - limit
                        
                         
                        await bot.send_message(message.chat.id,"<b>Лимиты для нищих, тебе они не нужны</b>", 
                                       parse_mode='html')

    if message.text.lower() in ['/mines1', '.mines1']:
                    data = await get_rang(message)
                    user_name = data[1]
                    user_id = msg.from_user.id
                    player = status_users(user_id)
                    user_status = str(data[3])
                    limit = cursor.execute("SELECT limitpered from users where user_id = ?", (message.from_user.id,)).fetchone()
                    pick = cursor.execute("SELECT pick from user_case where user_id = ?", (message.from_user.id,)).fetchone()
                    pick2 = cursor.execute("SELECT pick2 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
                    pick3 = cursor.execute("SELECT pick3 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
                    hp = cursor.execute("SELECT hp from user_case where user_id = ?", (message.from_user.id,)).fetchone()
                    
                    iron = cursor.execute("SELECT iron from user_case where user_id = ?", (message.from_user.id,)).fetchone()
                    
                    metall = cursor.execute("SELECT metall from user_case where user_id = ?", (message.from_user.id,)).fetchone()
                    silver = cursor.execute("SELECT silver from user_case where user_id = ?", (message.from_user.id,)).fetchone()
                    bronza = cursor.execute("SELECT bronza from user_case where user_id = ?", (message.from_user.id,)).fetchone()
                    gold = cursor.execute("SELECT gold from user_case where user_id = ?", (message.from_user.id,)).fetchone()
                    
                    await bot.send_message(message.chat.id,f'Ты обновил шахту даун', parse_mode='html')
                    cursor.execute(f'UPDATE user_case SET iron = {1}')
                    cursor.execute(f'UPDATE user_case SET metall = {1}')
                    cursor.execute(f'UPDATE user_case SET silver = {1}')
                    cursor.execute(f'UPDATE user_case SET bronza = {1}')
                    cursor.execute(f'UPDATE user_case SET gold = {1}')
                    cursor.execute(f'UPDATE user_case SET pick = {off}')
                    cursor.execute(f'UPDATE user_case SET pick2 = {off}')
                    cursor.execute(f'UPDATE user_case SET pick3 = {off}')
                    cursor.execute(f'UPDATE user_case SET hp = {0}')

    if message.text.startswith("Ответ") or message.text.startswith("ответ"):
                    user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                               (message.from_user.id,))
                    user_name = cursor.fetchone()
                    user_name = user_name[0]
                    user_id = message.from_user.id
                    try:

                        name = message.text
                        name=name[6:]
                        name=name.lower()
                    except:
                        await message.reply(
                            'Не хватает аргументов!\nПример:\nОтвет [название] ')
                        return
                    f = cursor.execute(f"SELECT puzz_name FROM puzzles WHERE puzz_name='{name}'")
                    f = cursor.fetchone()
                    if f != None:
                        act = cursor.execute(f"SELECT activate FROM puzzles WHERE puzz_name='{name}'")
                        act = cursor.fetchone()
                        if int(act[0]) > 0:

                            summ = cursor.execute(f"SELECT balance FROM puzzles WHERE puzz_name='{name}'")
                            summ = cursor.fetchone()
                            summ=int(summ[0])
                            summ2 = '{:,}'.format(summ).replace(',', '.')
                            balance = cursor.execute(
                                "SELECT balance from users where user_id = ?", (message.from_user.id,))
                            balance = cursor.fetchone()
                            balance = int(balance[0])

                            cursor.execute(f"UPDATE users SET balance={summ + balance} WHERE user_id={user_id}")
                            cursor.execute(f"UPDATE puzzles SET activate={0} WHERE puzz_name='{name}'")

                            connect.commit()
                            await bot.send_message(chat_id=-1002105089247,
                                                   text=f'🎉 Разгадал(-a) ребус <a href="tg://user?id={user_id}">{user_name}</a>\n'
                                                        f'✅ Ответ на ребус: {name}',parse_mode='html')

                            await bot.send_message(message.chat.id,
                                                   f'🎉 <a href="tg://user?id={user_id}">{user_name}</a>, Вы успешно разгадали ребус на сумму: {summ2}$\n'
                                                   ,
                                                   parse_mode='html')

                        else:

                            await bot.send_message(message.chat.id,
                                                   f'🙁 <a href="tg://user?id={user_id}">{user_name}</a>, Данный ребус уже разгадали',
                                                   parse_mode='html')
                    else:

                        await bot.send_message(message.chat.id,
                                               f'🙁 <a href="tg://user?id={user_id}">{user_name}</a>, Неправильный ответ на ребус!',
                                               parse_mode='html')

    if message.text.lower() in ['/lims', '.lims']:
                    data = await get_rang(message)
                    user_name = data[1]
                    user_id = msg.from_user.id
                    player = status_users(user_id)
                    user_status = str(data[3])
                    limit = cursor.execute("SELECT limitpered from users where user_id = ?", (message.from_user.id,)).fetchone()
                    await bot.send_message(message.chat.id,f'Ты обновил лимит даун', parse_mode='html')
                    cursor.execute(f"UPDATE users SET limitpered =15000000000000 WHERE user_status='Player'")
                    cursor.execute(f"UPDATE users SET limitpered =50000000000000 WHERE user_status='Vip'")
                    cursor.execute(f"UPDATE users SET limitpered =100000000000000 WHERE user_status='Titanium'")
                    cursor.execute(f"UPDATE users SET limitpered =500000000000000 WHERE user_status='Deluxe'")
                    cursor.execute(f"UPDATE users SET limitpered =1000000000000000 WHERE user_status='Chem'")
                    cursor.execute(f"UPDATE users SET limitpered =5000000000000000 WHERE user_status='Korol'")
                    cursor.execute(f"UPDATE users SET limitpered =10000000000000000 WHERE user_status='Donater'")
                    cursor.execute(f"UPDATE users SET limitpered =1000000000000000 WHERE user_status='Admin'")
                    cursor.execute(f"UPDATE users SET limitpered =10000000000000000 WHERE user_status='Helper_Admin'")
                    cursor.execute(f"UPDATE users SET limitpered =100000000000000000 WHERE user_status='Owner'")
                    connect.commit()


    if message.text.startswith('дать') or message.text.startswith('Дать'):
                    msg = message
                    user_id = msg.from_user.id
                    name = message.from_user.get_mention(as_html=True)
                    user_name = message.from_user.get_mention(as_html=True)
                    try:
                        reply_user_name = message.reply_to_message.from_user.get_mention(
                            as_html=True)
                        reply_user_id = msg.reply_to_message.from_user.id
                    except:
                        await message.reply('‼️Команда должнa быть ответом на сообщение! ', parse_mode='html')
                        return
                    win = ['🙂', '😋', '😄', '🤑', '😃']
                    rwin = random.choice(win)
                    loser = ['😔', '😕', '😣', '😞', '😢']
                    rloser = random.choice(loser)

                    try:
                        su = msg.text.split()[1]
                        su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace('m', '000000').replace('м', '000000').replace(',', ',').replace(',', '').replace('.', '')
                        su3 = float(su2)

                        perevod = int(su3)
                        perevod2 = '{:,}'.format(perevod).replace(',', '.')
                    except:
                        await message.reply('‼️  Неправильный ввод команды!\nПример: Дать 1 ')
                        return
                    user_status = cursor.execute(
                        "SELECT user_status from users where user_id = ?", (message.from_user.id,))
                    user_status = cursor.fetchone()
                    user_status = user_status[0]

                    balance = cursor.execute(
                        "SELECT balance from users where user_id = ?", (message.from_user.id,))
                    balance = cursor.fetchone()
                    balance = round(int(balance[0]))
                    balance2 = cursor.execute("SELECT balance from users where user_id = ?",
                                              (message.reply_to_message.from_user.id,))
                    balance2 = cursor.fetchone()
                    balance2 = round(balance2[0])
                    limit = cursor.execute(
                        "SELECT limitpered from users where user_id = ?", (message.from_user.id,))
                    limit = cursor.fetchone()
                    limit = round(limit[0])

                    if limit - perevod >= 0 or user_status=="Rab":
                        if reply_user_id == user_id:
                            await message.reply_to_message.reply(f'Вы не можете передать деньги сами себе! {rloser}',
                                                                 parse_mode='html')
                            return

                        if perevod > 0:
                            if balance >= perevod:
                                money_photo = open('imges/perevod.jpg', 'rb')

                                await bot.send_photo(chat_id=message.chat.id, photo=money_photo, caption=f'Вы передали {perevod2}$ игроку <a href="tg://user?id={reply_user_id}">{reply_user_name}</a> {rwin}',
                                                     parse_mode='html')
                                cursor.execute(
                                    f'UPDATE users SET balance = {balance - perevod} WHERE user_id = {user_id}')
                                cursor.execute(
                                    f'UPDATE users SET balance = {balance2 + perevod} WHERE user_id = {reply_user_id}')

                                cursor.execute(
                                    f'UPDATE users SET limitpered = {limit - perevod} WHERE user_id = {user_id}')

                                connect.commit()
                            else:
                                await message.reply(f' У вас недостаточно средств! {rloser}', parse_mode='html')

                        if perevod <= 0:
                            await message.reply(f' Hельзя перевести отрицательное число! {rloser}', parse_mode='html')
                    else:
                        limit = cursor.execute(
                            "SELECT limitpered from users where user_id = ?", (message.from_user.id,))
                        limit = cursor.fetchone()
                        limit = round(limit[0])
                        limit2 = '{:,}'.format(limit).replace(',', '.')

                        await message.reply(
                            f''' У вас лимит передачи 😞
Сумма возможной передачи: {limit2} $'''
                            ,
                            parse_mode='html')
                            



    if message.text.startswith('Пдать') or message.text.startswith('пдать'):
                    msg = message
                    user_id = msg.from_user.id
                    name = message.from_user.get_mention(as_html=True)
                    user_name = message.from_user.get_mention(as_html=True)
                    try:
                        reply_user_name = message.reply_to_message.from_user.get_mention(
                            as_html=True)
                        reply_user_id = msg.reply_to_message.from_user.id
                    except:
                        await message.reply('‼️Команда должнa быть ответом на сообщение! ', parse_mode='html')
                        return
                    win = ['🙂', '😋', '😄', '🤑', '😃']
                    rwin = random.choice(win)
                    loser = ['😔', '😕', '😣', '😞', '😢']
                    rloser = random.choice(loser)

                    try:
                        su = msg.text.split()[1]
                        su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace('m', '000000').replace('м', '000000').replace(',', ',').replace(',', '').replace('.', '')
                        su3 = float(su2)

                        perevod = int(su3)
                        perevod2 = '{:,}'.format(perevod).replace(',', '.')
                    except:
                        await message.reply('‼️  Неправильный ввод команды!\nПример: Пдать 1 ')
                        return
                    user_status = cursor.execute(
                        "SELECT user_status from users where user_id = ?", (message.from_user.id,))
                    user_status = cursor.fetchone()
                    user_status = user_status[0]

                    donate_coins = cursor.execute(
                        "SELECT donate_coins from users where user_id = ?", (message.from_user.id,))
                    donate_coins = cursor.fetchone()
                    donate_coins = round(int(donate_coins[0]))
                    donate_coins2 = cursor.execute("SELECT donate_coins from users where user_id = ?",
                                              (message.reply_to_message.from_user.id,))
                    donate_coins2 = cursor.fetchone()
                    donate_coins2 = round(donate_coins2[0])

                    if reply_user_id == user_id:
                            await message.reply_to_message.reply(f'🍩 | Вы не можете передать пончики сами себе! {rloser}',
                                                                 parse_mode='html')
                            return


                    if perevod > 0:
                            if donate_coins >= perevod:
                                pon_photo = open('imges/leden.jpg', 'rb')
                                await message.bot.send_message(cfg.log_group, f'<a href="tg://user?id={user_id}">{user_name}</a> передал {perevod2} 🍩 игроку <a href="tg://user?id={reply_user_id}">{reply_user_name}</a> {rwin}', parse_mode='html')

                                await bot.send_photo(chat_id=message.chat.id, photo=pon_photo, caption=f'Вы передали {perevod2} 🍩 игроку <a href="tg://user?id={reply_user_id}">{reply_user_name}</a> {rwin}',
                                                     parse_mode='html')
                                cursor.execute(
                                    f'UPDATE users SET donate_coins = {donate_coins - perevod} WHERE user_id = {user_id}')
                                cursor.execute(
                                    f'UPDATE users SET donate_coins = {donate_coins2 + perevod} WHERE user_id = {reply_user_id}')

                                connect.commit()
                            else:
                                await message.reply(f' У вас недостаточно пончиков 🍩! {rloser}', parse_mode='html')


                    if perevod <= 0:
                            await message.reply(f'🍩 |Hельзя перевести отрицательное число! {rloser}', parse_mode='html')



###########################################РЕФ###########################################
    if message.text.lower() == 'реф':
       user_id = message.from_user.id

       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(user_id,)).fetchone()
       user_name = str(user_name[0])

       add_users = cursor.execute("SELECT summ from reffer where user_id = ?",(user_id,)).fetchone()
       add_users = int(add_users[0])

       

       text = f'''
💰 <b>За приглашение вы получите 5.000.000.000.000$ и 5 🍩</b>

🫂 <b>Количество приглашенных пользователей - {'{:,}'.format(add_users).replace(',', '.')} шт.</b>

🔗 <b>Реферальная ссылка -</b> <code>http://t.me/{cfg.bot_name}?start={user_id}</code>
       '''

       reff_inline = InlineKeyboardMarkup(row_width=1)

       reff_inline.add(
            InlineKeyboardButton(text='🚩 Поделиться', switch_inline_query=f'http://t.me/{cfg.bot_name}?start={user_id}')
       )

       await message.reply(text, reply_markup=reff_inline,  parse_mode='html')



################################################ПРОФИЛЬ#############################################################
    if message.text.lower() in ["профиль", "Профиль", "п", "П"]:
       msg = message
       chat_id = message.chat.id
       name = message.from_user.get_mention(as_html=True)
       
       time_register = cursor.execute("SELECT time_register FROM users WHERE user_id=?", (message.from_user.id,)).fetchall()
       time_register = time_register[0]
       
       user_id = msg.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])       
       
       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       uid = cursor.execute("SELECT id from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       bank = cursor.execute("SELECT bank from users where user_id = ?",(message.from_user.id,)).fetchone()
       ethereum = cursor.execute("SELECT ethereum from users where user_id = ?",(message.from_user.id,)).fetchone()
       bitcoin = cursor.execute("SELECT bitcoin from users where user_id = ?",(message.from_user.id,)).fetchone()
       litecoin = cursor.execute("SELECT litecoin from users where user_id = ?",(message.from_user.id,)).fetchone()
       fantom = cursor.execute("SELECT fantom from users where user_id = ?",(message.from_user.id,)).fetchone()
       rating = cursor.execute("SELECT rating from users where user_id = ?",(message.from_user.id,)).fetchone()
       pref = cursor.execute("SELECT pref from users where user_id = ?",(message.from_user.id,)).fetchone()
       pref = str(pref[0])
       farmcoin1 = cursor.execute("SELECT farmcoin1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin1 = int(farmcoin1[0])
       farmcoin2 = cursor.execute("SELECT farmcoin2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin2 = int(farmcoin2[0])
       farmcoin3 = cursor.execute("SELECT farmcoin3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin3 = int(farmcoin3[0])
       farmcoin4 = cursor.execute("SELECT farmcoin4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin4 = int(farmcoin4[0])
       farmcoin5 = cursor.execute("SELECT farmcoin5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin5 = int(farmcoin5[0])
       farm1 = cursor.execute("SELECT farm1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm1 = int(farm1[0])
       farm2 = cursor.execute("SELECT farm2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm2 = int(farm2[0])
       farm3 = cursor.execute("SELECT farm3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm3 = int(farm3[0])
       farm4 = cursor.execute("SELECT farm4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm4 = int(farm4[0])
       farm5 = cursor.execute("SELECT farm5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm5 = int(farm5[0])
       business = cursor.execute("SELECT business from mine where user_id = ?", (message.from_user.id,))
       business = cursor.fetchone()
       business = int(business[0])
       level = cursor.execute("SELECT level from users where user_id = ?", (message.from_user.id,)).fetchone()
       level = int(level[0])
       work = cursor.execute("SELECT work from users where user_id = ?", (message.from_user.id,)).fetchone()
       work = int(work[0])
       donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(message.from_user.id,)).fetchone()
       donate_coins = int(donate_coins[0])
       donate_coins2 = '{:,}'.format(donate_coins)
       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = str(user_status[0])
       game = cursor.execute("SELECT game from users where user_id = ?",(message.from_user.id,)).fetchone()
       game = int(game[0])
       game2 = '{:,}'.format(game)

       balance = int(balance[0])
       bank = int(bank[0])
       rating = int(rating[0])
       ethereum = int(ethereum[0])
       bitcoin = int(bitcoin[0])
       litecoin = int(litecoin[0])
       fantom = int(fantom[0])
       uid = int(uid[0])
       user_status2=status_users(user_id)
       
       truck = cursor.execute("SELECT truck from truck where user_id = ?",(message.from_user.id,)).fetchone()
       truck = int(truck[0])
       
       cars = cursor.execute("SELECT cars from cars where user_id = ?",(message.from_user.id,)).fetchone()
       cars = int(cars[0])
       
       phone= cursor.execute("SELECT phone from users where user_id = ?", (message.from_user.id,)).fetchone()
       phone = int(phone[0])

       house = cursor.execute("SELECT house from house where user_id = ?",(message.from_user.id,)).fetchone()
       house = int(house[0])
       all_org = 0
       all_proverka_family = 0

       all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
       all_family2 = []
      
       for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])

       if user_id in all_family2:
         name_family = cursor.execute(f'SELECT name from family where owner_id = {user_id}').fetchone()
         name_family = name_family[0]     

         family = f'\n    👨‍👩‍👧‍👦 <b>Семья:</b> <code>{name_family}</code>'

         all_org += 1
         all_proverka_family += 1
       else:
         pass

       user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

       if user_id_family != None:
         name_family = cursor.execute(f'SELECT family from user_family where user_id = {user_id}').fetchone()
         name_family = name_family[0]     

         family = f'\n    👨‍👩‍👧‍👦 <b>Семья:</b> <code>{name_family}</code>'

         all_org += 1
         all_proverka_family += 1
       else:
         pass

       if all_org == 0:
         all_org2 = '\n      Вы не состоите в семье 😿'
       else:
         all_org2 = '\n🏰 Организации:'
       
       if all_proverka_family == 0:
         family = ''
       else:
         pass

       

       d5 = 0

       if house == 1:
          house2 = '\n    <b>🏠Дом:</b> <code>Дом</code>\n'
          d5 += 1
       if house == 2:
          house2 = '    <b>🏠Дом:</b> <code>Квартира</code>\n'
          d5 += 1
       if house == 3:
          house2 = '    <b>🏠Дом:</b> <code>Огромный дом</code>\n'
          d5 += 1
       if house == 4:
          house2 = '    <b>🏠Дом:</b> <code>Коттедж</code>\n'
          d5 += 1
       if house == 5:
          house2 = '    <b>🏠Дом:</b> <code>Бурдж Кхалифа</code>\n'
          d5 += 1
       if house == 6:
          house2 = '    <b>🏠Дом:</b> <code>Россия</code>\n'
          d5 += 1
       if house == 7:
          house2 = '    <b>🏠Дом:</b> <code>Половина земли</code>\n'
          d5 += 1
       if house == 8:
          house2 = '    <b>🏠Дом:</b> <code>Марс</code>\n'
          d5 += 1
       else:
          house2 = ''

       if cars == 1:
          cars2 = '    <b>🚘Машину:</b> <code>ВАЗ 2107</code>\n'
          d5 += 1
       if cars == 2:
          cars2 = '    <b>🚘Машину:</b> <code>Lada Vesta</code>\n'
          d5 += 1
       if cars == 3:
          cars2 = '    <b>🚘Машину:</b> <code>Lada XRAY Cross</code>\n'
          d5 += 1
       if cars == 4:
          cars2 = '    <b>🚘Машину:</b> <code>Audi Q7</code>\n'
          d5 += 1
       if cars == 5:
          cars2 = '    <b>🚘Машину:</b> <code>BMW X6</code>\n'
          d5 += 1
       if cars == 6:
          cars2 = '    <b>🚘Машину:</b> <code>Hyundai Solaris</code>\n'
          d5 += 1
       if cars == 7:
          cars2 = '    <b>🚘Машину:</b> <code>Toyota Supra</code>\n'
          d5 += 1
       if cars == 8:
          cars2 = '    <b>🚘Машину:</b> <code>Lamborghini Veneno</code>\n'
          d5 += 1
       if cars == 9:
          cars2 = '    <b>🚘Машину:</b> <code>Bugatti Veyron</code>\n'
          d5 += 1
       if cars == 10:
          cars2 = '    <b>🚘Машину:</b> <code>Tesla Roadster</code>\n'
          d5 += 1
       if cars == 11:
          cars2 = '    <b>🚘Машину:</b> <code>Koenigsegg Jesco</code>\n'
          d5 += 1
       else:
          cars2 = ''

       if work == 0:
          work2 = 'Без работный'
          zp = '0$'

       if work == 1:
          work2 = 'Фермер🍎'
          zp = '150.000.000.000$'

       if work == 2:
          work2 = 'Шахтёр⛏'
          zp = '250.000.000.000$'

       if work == 3:
          work2 = 'Строитель🧱'
          zp = '300.000.000.000$'

       if work == 4:
          work2 = 'Сантехник🛠'
          zp = '400.000.000.000$'

       if work == 5:
          work2 = 'Электрик💡'
          zp = '500.000.000.000$'

       if work == 6:
          work2 = 'Пожарник🧯'
          zp = '600.000.000.000$'

       if work == 7:
          work2 = 'Официант☕️'
          zp = '700.000.000.000$'

       if work == 8:
          work2 = 'Повар🍰'
          zp = '800.000.000.000$'

       if work == 9:
          work2 = 'Полицейский👮‍♂'
          zp = '1.000.000.000.000$'

       if work == 10:
          work2 = 'Доктор👨‍⚕'
          zp = '5.000.000.000.000$'

       if work == 11:
          work2 = 'Педагог👩‍🏫'
          zp = '10.000.000.000.000$'

       if work == 12:
          work2 = 'Пилот✈️'
          zp = '20.000.000.000.000$'

       if work == 13:
          work2 = 'Генерал👨‍✈️'
          zp = '25.000.000.000.000$'

       if work == 14:
          work2 = 'Бизнесмен💍'
          zp = '35.000.000.000.000$'

       if work == 15:
          work2 = 'Программист🖥'
          zp = '50.000.000.000.000$'

       if work == 16:
          work2 = 'Инвестор💼'
          zp = '80.000.000.000.000$'

       if work == 17:
          work2 = 'Нефтяной Магнат🛢️'
          zp = '100.000.000.000.000$'

       if truck == 1:
          truck2 = '    <b>🚛Грузовик:</b> <code>Daf</code>\n'
          d5 += 1
       if truck == 2:
          truck2 = '    <b>🚛Грузовик:</b> <code>Scania</code>\n'
          d5 += 1
       if truck == 3:
          truck2 = '    <b>🚛Грузовик:</b> <code>Nissan</code>\n'
          d5 += 1
       if truck == 4:
          truck2 = '    <b>🚛Грузовик:</b> <code>Renault</code>\n'
          d5 += 1
       if truck == 5:
          truck2 = '    <b>🚛Грузовик:</b> <code>Volvo</code>\n'
          d5 += 1
       if truck == 6:
          truck2 = '    <b>🚛Грузовик:</b> <code>Man</code>\n'
          d5 += 1
       if truck == 7:
          truck2 = '    <b>🚛Грузовик:</b> <code>Mercedes Benz</code>\n'
          d5 += 1
       else:
          truck2 = ''          
       farms = farmcoin1 + farmcoin2 + farmcoin3 +farmcoin4 +farmcoin5
       if farmcoin1 == 1:
           farm_name = '    <b>🖥Ферму</b> <code>TI-Miner</code>\n'
           d5 += 1
       if farmcoin2 == 1:
           farm_name = '    <b>🖥Ферму</b> <code>Saturn</code>\n'
           d5 += 1
       if farmcoin3 == 1:
           farm_name = '    <b>🖥Ферму</b> <code>Calisto</code>\n'
           d5 += 1
       if farmcoin4 == 1:
           farm_name = '    <b>🖥Ферму</b> <code>HashMiner</code>\n'
           d5 += 1
       if farmcoin5 == 1:
           farm_name = '    <b>🖥Ферму</b> <code>MegaWatt</code>\n'
           d5 += 1
       if farms == 0:
          farm_name =''
       farmes = farm1 + farm2 + farm3 + farm4 + farm5
       if farm1 == 1:
           farme_name = '    <b>🎡Электростанцию</b> <code>Grand Coulee</code>\n'
           d5 += 1
       if farm2 == 1:
           farme_name = '    <b>🎡Электростанцию</b> <code>Xiluodu</code>\n'
           d5 += 1
       if farm3 == 1:
           farme_name = '    <b>🎡Электростанцию</b> <code>Three Gorges Dam</code>\n'
           d5 += 1
       if farm4 == 1:
           farme_name = '    <b>🎡Электростанцию</b> <code>Xiangjiaba</code>\n'
           d5 += 1
       if farm5 == 1:
           farme_name = '    <b>🎡Электростанцию</b> <code>Itaipu Dam</code>\n'
           d5 += 1
       if farmes == 0:
           farme_name = ''
           
       if business == 1:
           buss_name = '🪓Лесопилку: VestOpoval'
           d5 += 1
       if business == 0:
           buss_name = ''
          	     # Телефоны
       if phone == 1:
           phone2 = '📱 Телефон: Nokia'
           d5 += 1
       if phone == 2:
          	phone2 = '📱 Телефон: Рация'
          	d5 += 1
       if phone == 3:
           phone2 = '📱 Телефон: Huawei'
           d5 += 1
       if phone == 4:
           phone2 = '📱 Телефон: Samsung'
           d5 += 1
       if phone == 5:
           phone2 = '📱 Телефон: Xiaomi'
           d5 += 1
       if phone == 6:
           phone2 = '📱 Телефон: Poco'
           d5 += 1
       if phone == 7:
           phone2 = '📱 Телефон: iPhone'
           d5 += 1


       if d5 == 0:
          d6 = '\n      Вы еще ничего не купили 🙁'
       else:
          d6 = '🏗 Приобрёл:\n'


       c = 999999999999999999999999
       from utils import scor_summ
       balance3 = await scor_summ(balance)       
       ethereum3 = await scor_summ(ethereum)
       bank3 = await scor_summ(bank)
       rating3 = await scor_summ(rating)
       bitcoin3 = await scor_summ(bitcoin)
       litecoin3 = await scor_summ(litecoin)        
       fantom3 = await scor_summ(fantom)
       truck = cursor.execute("SELECT truck from truck where user_id = ?",(message.from_user.id,)).fetchone()
       truck = int(truck[0])
       
       cars = cursor.execute("SELECT cars from cars where user_id = ?",(message.from_user.id,)).fetchone()
       cars = int(cars[0])


       business = cursor.execute("SELECT business from mine where user_id = ?", (message.from_user.id,))
       business = cursor.fetchone()
       business = int(business[0])
       house = cursor.execute("SELECT house from house where user_id = ?",(message.from_user.id,)).fetchone()
       house = int(house[0])
       if truck == 1:
          truck2 = '    <b>🚛Грузовик:</b> <code>Daf</code>\n'
       if truck == 2:
          truck2 = '    <b>🚛Грузовик:</b> <code>Scania</code>\n'
       if truck == 3:
          truck2 = '    <b>🚛Грузовик:</b> <code>Nissan</code>\n'
       if truck == 4:
          truck2 = '    <b>🚛Грузовик:</b> <code>Renault</code>\n'
       if truck == 5:
          truck2 = '    <b>🚛Грузовик:</b> <code>Volvo</code>\n'
       if truck == 6:
          truck2 = '    <b>🚛Грузовик:</b> <code>Man</code>\n'
       if truck == 7:
          truck2 = '    <b>🚛Грузовик:</b> <code>Mercedes Benz</code>\n'
       if cars == 1:
          cars2 = '    <b>🚘Машинy:</b> <code>ВАЗ 2107</code>\n'
       if cars == 2:
          cars2 = '    <b>🚘Машинy:</b> <code>Lada Vesta</code>\n'
       if cars == 3:
          cars2 = '    <b>🚘Машинy:</b> <code>Lada XRAY Cross</code>\n'
       if cars == 4:
          cars2 = '    <b>🚘Машину:</b> <code>Audi Q7</code>\n'
       if cars == 5:
          cars2 = '    <b>🚘Машину:</b> <code>BMW X6</code>\n'
       if cars == 6:
          cars2 = '    <b>🚘Машину:</b> <code>Hyundai Solaris</code>\n'
       if cars == 7:
          cars2 = '    <b>🚘Машину:</b> <code>Toyota Supra</code>\n'
       if cars == 8:
          cars2 = '    <b>🚘Машину:</b> <code>Lamborghini Veneno</code>\n'
       if cars == 9:
          cars2 = '    <b>🚘Машину:</b> <code>Bugatti Veyron</code>\n'
       if cars == 10:
          cars2 = '    <b>🚘Машину:</b> <code>Tesla Roadster</code>\n'
       if cars == 11:
          cars2 = '    <b>🚘Машину:</b> <code>Koenigsegg Jesco</code>\n'
       if house == 1:
          house2 = '\n    <b>🏠Дом:</b> <code>Дом</code>\n'
       if house == 2:
          house2 = '    <b>🏠Дом:</b> <code>Квартира</code>\n'
       if house == 3:
          house2 = '    <b>🏠Дом:</b> <code>Огромный дом</code>\n'
       if house == 4:
          house2 = '    <b>🏠Дом:</b> <code>Коттедж</code>\n'
       if house == 5:
          house2 = '    <b>🏠Дом:</b> <code>Бурдж Кхалифа</code>\n'
       if house == 6:
          house2 = '    <b>🏠Дом:</b> <code>Россия</code>\n'
       if house == 7:
          house2 = '    <b>🏠Дом:</b> <code>Половина земли</code>\n'
       if house == 8:
          house2 = '    <b>🏠Дом:</b> <code>Марс</code>\n'
       farms = farmcoin1 + farmcoin2 + farmcoin3 +farmcoin4 +farmcoin5
       if farmcoin1 == 1:
           farm_name = '    <b>🖥Ферму:</b> <code>TI-Miner</code>\n'
       if farmcoin2 == 1:
           farm_name = '    <b>🖥Ферму:</b> <code>Saturn</code>\n'
       if farmcoin3 == 1:
           farm_name = '    <b>🖥Ферму:</b> <code>Calisto</code>\n'
       if farmcoin4 == 1:
           farm_name = '    <b>🖥Ферму:</b> <code>HashMiner</code>\n'
       if farmcoin5 == 1:
           farm_name = '    <b>🖥Ферму:</b> <code>MegaWatt</code>\n'
       if farms == 0:
          farm_name =''
       farmes = farm1 + farm2 + farm3 + farm4 + farm5
       if farm1 == 1:
           farme_name = '    <b>🎡Электростанцию:</b> <code>Grand Coulee</code>\n'
       if farm2 == 1:
           farme_name = '    <b>🎡Электростанцию:</b> <code>Xiluodu</code>\n'
       if farm3 == 1:
           farme_name = '    <b>🎡Электростанцию:</b> <code>Three Gorges Dam</code>\n'
       if farm4 == 1:
           farme_name = '    <b>🎡Электростанцию:</b> <code>Xiangjiaba</code>\n'
       if farm5 == 1:
           farme_name = '    <b>🎡Электростанцию:</b> <code>Itaipu Dam</code>\n'
       if farmes == 0:
           farme_name = ''
       if business == 1:
           buss_name = '    <b>🪓Лесопилку:</b> <code>VestOpoval</code>\n'
       if business == 0:
           buss_name = ''
          	     # Телефоны
       if phone == 1:
           phone2 = '    <b>📱 Телефон:</b> Nokia'
       if phone == 2:
           phone2 = '    <b>📱 Телефон:</b> Рация'
       if phone == 3:
           phone2 = '    <b>📱 Телефон:</b> Huawei'
       if phone == 4:
           phone2 = '    <b>📱 Телефон:</b> Samsung'
       if phone == 5:
           phone2 = '    <b>📱 Телефон:</b> Xiaomi'
       if phone == 6:
           phone2 = '    <b>📱 Телефон:</b> Poco'
       if phone == 7:
           phone2 = '    <b>📱 Телефон:</b> iPhone'
       if phone == 0:
           phone2 = ''
           
       if user_id == '6600463745':
           money_photo = open('imges/Dev.jpg', 'rb')

       if user_status == 'Donater':
           money_photo = open('imges/donatet.jpg', 'rb')

       if user_status == 'Korol':
           money_photo = open('imges/korol.jpg', 'rb')
       if user_status == 'Chem':
           money_photo = open('imges/chem.jpg', 'rb')
       if user_status == 'Deluxe':
           money_photo = open('imges/deluxe.jpg', 'rb')
       if user_status == 'Titanium':
           money_photo = open('imges/titan.jpg', 'rb')
       if user_status == 'Vip':
           money_photo = open('imges/vip.jpg', 'rb')
       if user_status == 'Player':
           money_photo = open('imges/player.jpg', 'rb')
       if user_status in ['Admin', 'Helper_Admin', 'Owner', 'Rab']:
           money_photo = open('imges/Rab.jpg', 'rb')
       
       await bot.send_photo(chat_id=message.chat.id, photo=money_photo, caption=f"""
👋 {name}, <b>ваш профиль:</b>
➖➖➖➖➖➖➖➖➖➖➖➖
👤 | <b>Ник:</b> <code><a href='tg://user?id={user_id}'>{user_name}</a></code>
🔥 | <b>Привилегия:</b> <code>{user_status2}</code>
💵 | <b>В кошельке:</b> <code>{balance3}</code>
💳 | <b>На карточке:</b> <code>{bank3}</code>
🍩 | <b>Пончиков:</b> <code>{donate_coins2}</code> <b>шт</b>
➖➖➖➖➖➖➖➖➖➖➖➖
🔹 <b>Лайткоин:</b> <code>{litecoin3}</code>
💽 <b>Биткоин:</b> <code>{bitcoin3}</code>
🟣 <b>Эфириум:</b> <code>{ethereum3}</code>
💠 <b>Фантом:</b> <code>{fantom3}</code>
👑 <b>Рейтинг:</b> <code>{rating3}</code>
➖➖➖➖➖➖➖➖➖➖➖➖
🛠 | <b>Вакансия:</b> <code>{work2}</code>
📊 | <b>Заработал уровень:</b> <code>{level}</code>
🎯 | <b>Сыграл игр:</b> <code>{game2}</code>
<b>{d6}</b>{farm_name}{farme_name}{buss_name}{house2}{cars2}{truck2}{phone2}
➖➖➖➖➖➖➖➖➖➖➖➖
🔎 | <b>ID:</b> <code>{user_id}</code>
🔸 | <b>Игровой айди:</b> <code>{uid}</code>
🕑 | <b>Зарегестрировался в боте:</b> <code>{time_register}</code>
   """,  parse_mode='html')


###########################################НИК###########################################
    if message.text.lower() in ["Ник", "ник", "Имя", "имя", "Мой ник", "мой ник", "Мое имя", "мое имя", "Моё имя", "моё имя"]:
       msg = message
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       
       
       await bot.send_message(message.chat.id, f"🔸 <b>Ваш ник:</b> <code>{user_name}</code>", parse_mode='html')
       



########################################ПРОВЕРКА#СВЯЗИ#ОДИН#########################################
    if message.text.lower() in ["бот", "Бот", "Где бот?", "где бот?", "бот иди сюда", "Бот иди сюда", "где бот", "Где бот"]:
          	rx = ["Я здесь", "На месте", "ты себя ищешь?", "Я занят", "Скучали по мне?", "Не обьязен отвечать.", "Мне пора, я спать."]
          	
          	rx2 = random.choice(rx)
          	rx3 = ""
          	await bot.send_message(message.chat.id, f'<b>{rx2}</b>', parse_mode='html')

        	
#########################################РАБОТЫ###########################################
    if message.text.lower() in ['уволиться', 'Уволиться']:
                    data = await get_rang(message)
                    user_name = str(data[1])
                    user_id = message.from_user.id

                    win = ['🙂', '😋', '😄', '🤑', '😃']
                    rwin = random.choice(win)
                    loser = ['😔', '😕', '😣', '😞', '😢']
                    rloser = random.choice(loser)

                    work = int(data[56])

                    if work > 0:
                        await bot.send_message(message.chat.id,
                                               f'<a href="tg://user?id={user_id}">{user_name}</a>, вы уволены с вашей работы {rwin}',
                                               parse_mode='html')
                        cursor.execute(
                            f'UPDATE users SET work = {0}  WHERE user_id = {user_id}')
                        connect.commit()
                    else:
                        await bot.send_message(message.chat.id,
                                               f'<a href="tg://user?id={user_id}">{user_name}</a>, вы уже без работный {rloser}',
                                               parse_mode='html')
    if message.text.lower() in ['работать', 'Работать']:
                    data = await get_rang(message)
                    user_name = str(data[1])
                    user_id = message.from_user.id

                    balance =int(data[4])
                    level = int(data[55])
                    work =int(data[56])
                    period = 3600 #86400 s = 24h
                    get = cursor.execute("SELECT last_work FROM users WHERE user_id = ?", (message.from_user.id,)).fetchone()
                    last_stavka = int(get[0])
                    stavkatime = time.time() - float(last_stavka)

                    loser = ['😔', '😕', '😣', '😞', '😢']
                    rloser = random.choice(loser)
                    rx_rabota=[]
                    if work == 1:
                        rabota = ['собрали яблоки🍎', 'покормили коров🐮',
                                  "зарезали свинью🐷", "покормили курочек🐔"]
                        rx_rabota = random.choice(rabota)
                        zp = 150000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 2:
                        rabota = ['выкопали шахту⛏', 'подорвали шахту🧨']
                        rx_rabota = random.choice(rabota)
                        zp = 250000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 3:
                        rabota = ['построили дом🏠', 'принесли кирпичи🧱',
                                  "построили квартиру🧱", "построили банк🏦"]
                        rx_rabota = random.choice(rabota)
                        zp = 300000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 4:
                        rabota = ['починили кран🚰', 'отремонтировали ванну🛁 ',
                                  "провели воду🚿", "почистили туалет🚽"]
                        rx_rabota = random.choice(rabota)
                        zp = 400000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 5:
                        rabota = ['починили розетку🔌', 'провели ТВ 📡',
                                  "провели интернет🌐", "почистили электронику🧰"]
                        rx_rabota = random.choice(rabota)
                        zp = 500000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 6:
                        rabota = ['потушили дом🏚', 'выехали на вызов🚒',
                                  "потушили квартиру🧯", "потушили лес🔥"]
                        rx_rabota = random.choice(rabota)
                        zp = 600000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 7:
                        rabota = ['принесли чашку кофе☕️', 'принесли блинчики🥞', "принесли гамбургер 🍔",
                                  "принесли кусочек торта 🍰"]
                        rx_rabota = random.choice(rabota)
                        zp = 700000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 8:
                        rabota = ['приготовили чашку кофе☕️', 'сделали блинчики🥞', "приготовили гамбургер 🍔",
                                  "спекли кусочек торта 🍰"]
                        rx_rabota = random.choice(rabota)
                        zp = 800000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 9:
                        rabota = ['остонавили ограбление💰', 'поймали наркомана💉', "нашли закладку🚬",
                                  "поймали преступника🔫 "]
                        rx_rabota = random.choice(rabota)
                        zp = 1000000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 10:
                        rabota = ['спасли человеку жизнь👨‍⚕️', 'вылечили от COVID-19 😷', "сделали укол 💉",
                                  "сделали операцию 👨‍⚕️"]
                        rx_rabota = random.choice(rabota)
                        zp = 5000000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 11:
                        rabota = ['выдержали урок с 8-В🥳', 'помогли директору школы 💼', "провели ЗНО 🎓",
                                  "провели 7 уроков🛎"]
                        rx_rabota = random.choice(rabota)
                        zp = 10000000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 12:
                        rabota = ['пролетели маршрут Киев-Москва🛩', 'пролетели маршрут Саратов-Дубай 🛬',
                                  "пролетели маршрут Харьков-Египет ✈️", "пролетели маршрут Сант-Петербург-Нью-Йорк 🛫"]
                        rx_rabota = random.choice(rabota)
                        zp = 20000000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 13:
                        rabota = ['проведали школу МВД🚓', 'провели собеседование 💬', "нашли шпиона 🥷️",
                                  "провели проверку в Москве👨‍✈️"]
                        rx_rabota = random.choice(rabota)
                        zp = 25000000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 14:
                        rabota = ['оформили продажу одного своего бизнеса 🏗', 'купили новый бизнес 🏭', "купили новый банк 🏦",
                                  "продали новый музей 🏛"]
                        rx_rabota = random.choice(rabota)
                        zp = 35000000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 15:
                        rabota = ['написали телеграм бота 🤖', 'написали сайт 🖥', "выполнили заказ на фрилансе 🧮",
                                  "написали скрипт  ⚙️"]
                        rx_rabota = random.choice(rabota)
                        zp = 50000000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 16:
                        rabota = ['инвестировали в Bitcoin 💽', 'инвестировали в доллары 💵', "перепродали акции 🧾",
                                  "вложили в Эфириум 🟣"]
                        rx_rabota = random.choice(rabota)
                        zp = 800000000000000
                        zp2 = '{:,}'.format(zp)
                    if work == 17:
                        rabota = ['продали нефть 💸', 'оформили продажу одной из своих нефтяных вышек 🏭', "поставили нефть воейнной части 🪖",
                                  "переработали нефть 🛢️"]
                        rx_rabota = random.choice(rabota)
                        zp = 100000000000000
                        zp2 = '{:,}'.format(zp)
                    if work > 0:
                        need_seconds3 = 1800
                        current_time_bonus3 = datetime.now()
                        last_datetime3 = work_time.get(message.from_user.id)

                        # Если первое сообщение (время не задано)
                        if not last_datetime3:
                            work_time[message.from_user.id] = current_time_bonus3
                            last_datetime3 = datetime.fromtimestamp(0)
                        if last_datetime3:

                            # Разница в секундах между текущим временем и временем последнего сообщения
                            delta_seconds3 = (current_time_bonus3 - last_datetime3).total_seconds()

                            # Осталось ждать секунд перед отправкой
                            seconds_left3 = int(need_seconds3 - delta_seconds3)

                            # Если время ожидания не закончилось
                            if seconds_left3 > 0:
                                left1 = seconds_left3 / 60
                                await bot.send_message(message.chat.id, f'‼️<a href="tg://user?id={user_id}">{user_name}</a>, нельзя так часто работать, работать можно через {round(left1)} минут {rloser}', parse_mode='html')
                                return
                                                       
                                                       
                            else:
                                work_time[message.from_user.id] = current_time_bonus3
                            await bot.send_message(message.chat.id,
                                                       f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно {rx_rabota} и получили зарплату {zp2}$  ✅',
                                                       parse_mode='html')
                            cursor.execute(
                                    f'UPDATE users SET balance = {balance + zp}  WHERE user_id = {user_id}')
                            cursor.execute(
                                    f'UPDATE users SET level = {level + 1}  WHERE user_id = {user_id}')
                            cursor.execute(f'UPDATE users SET last_work = {time.time()} WHERE user_id = "{user_id}"')
                    else:
                        await bot.send_message(message.chat.id, f'<a href="tg://user?id={user_id}">{user_name}</a>, куда работать? вы безработный {rloser}',
                                                       parse_mode='html')
                                                       

                
    if message.text.startswith('Устроиться')or message.text.startswith('устроиться'):
                    data = await get_rang(message)
                    user_name = str(data[1])
                    user_id = message.from_user.id

                    loser = ['😔', '😕', '😣', '😞', '😢']
                    rloser = random.choice(loser)

                    if message.text != 'Устроиться':
                        level = int(data[55])
                        work = int(data[56])
                        user_name = str(data[1])
                        user_id = message.from_user.id
                        try:
                            nomer_work = int(message.text.split()[1])
                        except :
                            await message.reply('‼️  Неправильный ввод команды!\nПример:\nУстроиться 1 ')
                            return
                 


                        win = ['🙂', '😋', '😄', '🤑', '😃']
                        rwin = random.choice(win)
                        loser = ['😔', '😕', '😣', '😞', '😢']
                        rloser = random.choice(loser)
                        if work == 0:
                            if nomer_work == 1:
                                if level >= 1:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Фермер" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {1}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 2:
                                if level >= 10:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Шахтёр" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {2}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 3:
                                if level >= 25:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Строитель" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {3}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 4:
                                if level >= 35:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Сантехник" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {4}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 5:
                                if level >= 45:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Электрик" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {5}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 6:
                                if level >= 50:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Пожарник" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {6}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 7:
                                if level >= 55:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Официант" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {7}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 8:
                                if level >= 60:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Повар" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {8}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 9:
                                if level >= 65:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Полицейский" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {9}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 10:
                                if level >= 70:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Доктор" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {10}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 11:
                                if level >= 75:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Педагог" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {11}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 12:
                                if level >= 80:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Пилот" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {12}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 13:
                                if level >= 85:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Генерал" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {13}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 14:
                                if level >= 90:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Бизнесмен" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {14}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 15:
                                if level >= 100:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Программист" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {15}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id, f'{name}, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 16:
                                if level >= 125:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Инвестор" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {16}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id, f'{name}, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            if nomer_work == 17:
                                if level >= 150:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно устроились на работу "Нефтяной Магнат" {rwin}',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f'UPDATE users SET work = {17}  WHERE user_id = {user_id}')
                                    connect.commit()
                                    return
                                else:
                                    await bot.send_message(message.chat.id, f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас не достаточный уровень {rloser}',
                                                           parse_mode='html')
                                    return
                            else:
                                await bot.send_message(message.chat.id, f'<a href="tg://user?id={user_id}">{user_name}</a>, такой ваканции нету к сожелению {rloser}',
                                                       parse_mode='html')
                        else:
                            await bot.send_message(message.chat.id,
                                                   f'<a href="tg://user?id={user_id}">{user_name}</a>, вы решили работать сразу на 2 работах? Увольтесь для начала {rloser}',
                                                   parse_mode='html')

                        return

    if message.text.lower() in ['вакансии', 'Вакансии', 'вакансий', 'Вакансий']:
                    data = await get_rang(message)
                    user_name = str(data[1])
                    user_id = message.from_user.id

                    await bot.send_message(message.chat.id, f'''
<a href="tg://user?id={user_id}">{user_name}</a>, вот все доступные вакансии📑
🍎 1 Фермер - 150.000.000.000 $ [1lvl]

⛏ 2 Шахтёр - 250.000.000.000 $ [10lvl]

🧱 3 Строитель - 300.000.000.000 $ [25lvl]

🛠 4 Сантехник - 400.000.000.000 $ [35lvl]

💡 5 Электрик - 500.000.000.000 $ [45lvl]

🧯 6 Пожарник - 600.000.000.000 $ [50lvl]

☕️ 7 Официант - 700.000.000.000 $ [55lvl]

🍰 8 Повар - 800.000.000.000 $ [60lvl]

👮‍♂️ 9 Полицейский - 1.000.000.000.000 $ [65lvl]

👨‍⚕️ 10 Доктор - 5.000.000.000.000 $ [70lvl]

👩‍🏫 11 Педагог - 10.000.000.000.000 $ [75lvl]

✈️ 12 Пилот - 20.000.000.000.000 $ [80lvl]

👨‍✈️ 13 Генерал - 25.000.000.000.000 $ [85lvl]

💍 14 Бизнесмен - 35.000.000.000.000 $ [90lvl]

🖥 15 Программист - 50.000.000.000.000 $ [100lvl]

💼 16 Инвестор - 80.000.000.000.000 $ [125lvl]

🛢️ 17 Нефтяной Магнат - 100.000.000.000.000 $ [150lvl]

📌Что бы устроиться на работу введите команду "Устроиться [номер]"
                    ''', parse_mode='html')
    if message.text.lower() in ['центр занятости']:
                    data = await get_rang(message)
                    user_name = str(data[1])
                    user_id = message.from_user.id

                    level = int(data[55])
                    work =int(data[56])

                    if work == 0:
                        work2 = 'Без работный'
                        zp = '0$'

                    if work == 1:
                        work2 = 'Фермер🍎'
                        zp = '150.000.000.000$'

                    if work == 2:
                        work2 = 'Шахтёр⛏'
                        zp = '250.000.000.000$'

                    if work == 3:
                        work2 = 'Строитель🧱'
                        zp = '300.000.000.000$'

                    if work == 4:
                        work2 = 'Сантехник🛠'
                        zp = '400.000.000.000$'

                    if work == 5:
                        work2 = 'Электрик💡'
                        zp = '500.000.000.000$'

                    if work == 6:
                        work2 = 'Пожарник🧯'
                        zp = '600.000.000.000$'

                    if work == 7:
                        work2 = 'Официант☕️'
                        zp = '700.000.000.000$'

                    if work == 8:
                        work2 = 'Повар🍰'
                        zp = '800.000.000.000$'

                    if work == 9:
                        work2 = 'Полицейский👮‍♂'
                        zp = '1.000.000.000.000$'

                    if work == 10:
                        work2 = 'Доктор👨‍⚕'
                        zp = '5.000.000.000.000$'

                    if work == 11:
                        work2 = 'Педагог👩‍🏫'
                        zp = '10.000.000.000.000$'

                    if work == 12:
                        work2 = 'Пилот✈️'
                        zp = '20.000.000.000.000$'

                    if work == 13:
                        work2 = 'Генерал👨‍✈️'
                        zp = '25.000.000.000.000$'

                    if work == 14:
                        work2 = 'Бизнесмен💍'
                        zp = '35.000.000.000.000$'

                    if work == 15:
                        work2 = 'Программист🖥'
                        zp = '50.000.000.000.000$'

                    if work == 16:
                        work2 = 'Инвестор💼'
                        zp = '80.000.000.000.000$'

                    if work == 17:
                        work2 = 'Нефтяной Магнат🛢️'
                        zp = '100.000.000.000.000$'

                    await bot.send_message(message.chat.id, f'''
<a href="tg://user?id={user_id}">{user_name}</a>, добро пожаловать в центр занятости🏢
👫 Ник: {user_name}

📊 Уровень: {level}

📈 Работа: {work2}

💵 Зарплата: {zp}
                    ''', parse_mode='html')
               

                       	
###########################################КАРТА###########################################
    # karta
    if message.text.lower() in ["карта", "Карта"]:
       msg = message
       chat_id = message.chat.id
       
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       user_id = msg.from_user.id
       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       bank = cursor.execute("SELECT bank from users where user_id = ?",(message.from_user.id,)).fetchone()
       bank_hran = cursor.execute("SELECT bank2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       bank = int(bank[0])
       depozit = cursor.execute("SELECT depozit from users where user_id = ?",(message.from_user.id,)).fetchone()
       depozit = int(depozit[0])
       bank_hran = int(bank_hran[0])
       bank_hran2 = '{:,}'.format(bank_hran).replace(',', '.')
       bank = cursor.execute("SELECT bank from users where user_id = ?", (message.from_user.id,)).fetchone()
       bank = int(bank[0])
       depozit2 = '{:,}'.format(depozit).replace(',', '.')
       bank2 = '{:,}'.format(bank).replace(',', '.')
       if user_status == 'Player':
          procent = '6%'
          i = 6
          stats_depozit = 'Обычный'
       elif user_status == 'Vip':
          procent = '9%'
          i = 9
          stats_depozit = 'Вип'
       elif user_status == 'Titanium':
          procent = '13%'
          i = 13
          stats_depozit = 'TITAH'
       elif user_status == 'Deluxe':
          procent = '17%'
          i = 17
          stats_depozit = 'Платина'
       elif user_status == 'Chem':
          procent = '21%'
          i = 21
          stats_depozit = 'Хелпер'
       elif user_status == 'Korol':
          procent = '24%'
          i = 24
          stats_depozit = 'Спонсор'
       elif user_status == 'Donater':
          procent = '27%'
          i = 27
          stats_depozit = 'Основатель'
       elif user_status == 'Admin':
          procent = '29%'
          i = 29
          stats_depozit = 'Владелец'
       elif user_status == 'Helper_Admin':
          procent = '32%'
          i = 32
          stats_depozit = 'Бог'
       elif user_status == 'Owner':
          procent = '36%'
          i = 36
          stats_depozit = 'Властелин'
       elif user_status == 'Rab':
          procent = '36%'
          i = 36
          stats_depozit = 'Власн'

       else:
          procent = '6%'
          i = 6
          stats_depozit = 'Обычный'
          
          money_vivod = depozit / i
          money_vivod2 = int(money_vivod)
          money_vivod3 = '{:,}'.format(money_vivod2).replace(',', '.')
          bank2 = '{:,}'.format(bank).replace(',', '.')
          bank_hran2 = '{:,}'.format(bank_hran).replace(',', '.')
          depozit2 = '{:,}'.format(depozit).replace(',', '.')
          money_photo = open('imges/visa.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=money_photo, caption=f"""
<b>Вот данные о вашей карте 💳</b>

[👤] <b>Владелец:</b> {user_name}

[⚜] <b>Данные:</b>

[💰] <b>Деньги на карте:</b> {bank2}$
[💼] <b>Хранительный счёт:</b> {bank_hran2}$
[🔰] <b>Деньги на депозите:</b> {depozit2}$
[💎] <b>Статус депозита:</b> {stats_depozit}
[📈] <b>Процент под депозит:</b> {procent}
[💵] <b>Деньги на вывод:</b> <code>{money_vivod3}</code>$""", parse_mode='html')
    if message.text.startswith("процент") or message.text.startswith("Процент"):
       msg = message
       user_id = msg.from_user.id
       name = msg.from_user.last_name
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       i2 = str(msg.text.split()[1])
       su = msg.text.split()[2]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace('все', 'money_vivod2').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       su3 = float(su2)
       summ = int(su3)
       summ2 = '{:,}'.format(summ).replace(',', '.')

       user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
       user_status = str(user_status[0])
       depozit = cursor.execute("SELECT depozit from users where user_id = ?", (message.from_user.id,)).fetchone()
       depozit = int(depozit[0])
       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       if user_status == 'Player':
          procent = '6%'
          i = 6
          stats_depozit = 'Обычный'
       elif user_status == 'Vip':
          procent = '9%'
          i = 9
          stats_depozit = 'Вип'
       elif user_status == 'Titan':
          procent = '13%'
          i = 13
          stats_depozit = 'TITAH'
       elif user_status == 'Platina':
          procent = '17%'
          i = 17
          stats_depozit = 'Платина'
       elif user_status == 'Helper':
          procent = '21%'
          i = 21
          stats_depozit = 'Хелпер'
       elif user_status == 'Sponsor':
          procent = '24%'
          i = 24
          stats_depozit = 'Спонсор'
       elif user_status == 'Osnovatel':
          procent = '27%'
          i = 27
          stats_depozit = 'Основатель'
       elif user_status == 'Vladelec':
          procent = '29%'
          i = 29
          stats_depozit = 'Владелец'
       elif user_status == 'Bog':
          procent = '32%'
          i = 32
          stats_depozit = 'Бог'
       elif user_status == 'Rab':
          procent = '36%'
          i = 36
          stats_depozit = 'Власн'

       else:
          procent = '6%'
          i = 6
          stats_depozit = 'Обычный'
          money_vivod = depozit / i
          money_vivod2 = int(money_vivod)
          money_vivod3 = '{:,}'.format(money_vivod2).replace(',', '.')
       period = 25 #259200s 3d
       get = cursor.execute("SELECT stavka_depozit FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = f"{int(get[0])}"
       stavkatime = time.time() - float(last_stavka)
       if i2 == 'снять':
          if summ <= money_vivod2 :
             if summ > 0:
                if stavkatime > period:
                   await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , вы успешно сняли проценты с депозита {summ2}$ 💵", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance + summ}  WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_depozit = {time.time()}  WHERE user_id = {user_id}')
                   connect.commit()
                   return
                else:
                   await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , извините но снимать с процентов депозита можно раз в 3 дня ⌛️", parse_mode='html')
             else:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , нельзя снимать отрицательное число {rloser}", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , недостаточно средств {rloser}", parse_mode='html')
   

   
    if message.text.startswith("депозит") or message.text.startswith("Депозит"):
       msg = message
       user_id = msg.from_user.id
       name = msg.from_user.last_name
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       i = str(msg.text.split()[1])

       su = msg.text.split()[2]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       su3 = float(su2)
       summ = int(su3)
       summ2 = '{:,}'.format(summ).replace(',', '.')

       user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
       user_status = str(user_status[0])
       depozit = cursor.execute("SELECT depozit from users where user_id = ?", (message.from_user.id,)).fetchone()
       depozit = int(depozit[0])
       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       
       period = 25 #259200s 3d
       get = cursor.execute("SELECT stavka_depozit FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = f"{int(get[0])}"
       stavkatime = time.time() - float(last_stavka)
       if i == 'положить':
          if summ <= balance :
             if summ > 0:
                if stavkatime > period:
                   await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , вы успешно положили на депозит {summ2}$ 🔐", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance - summ}  WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET depozit = {depozit + summ}  WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_depozit = {time.time()}  WHERE user_id = {user_id}')
                   connect.commit()
                   return
                else:
                   await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , извините но ложить, снимать с депозита можно раз в 3 дня ⌛️", parse_mode='html')
             else:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , нельзя ложить отрицательное число {rloser}", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , недостаточно средств {rloser}", reply_markup=balanc, parse_mode='html')
       if i == 'снять':
          if summ <= depozit :
             if summ > 0:
                if stavkatime > period:
                   await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , вы успешно сняли с депозита {summ2}$ 🔐", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance + summ}  WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET depozit = {depozit - summ}  WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_depozit = {time.time()}  WHERE user_id = {user_id}')
                   connect.commit()
                   return
                else:
                   await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , извините но ложить, снимать с депозита можно раз в 3 дня ⌛️", parse_mode='html')
             else:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , нельзя снимать отрицательное число {rloser}", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , недостаточно средств {rloser}", parse_mode='html')

    if message.text.startswith("карта положить") or message.text.startswith("Карта положить"):
       msg = message
       chat_id = message.chat.id
       user_id = msg.from_user.id
       name = msg.from_user.last_name
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       su = msg.text.split()[2]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       su3 = float(su2)
       bank_p = int(su3)

       cursor.execute(f"SELECT user_id FROM users WHERE user_id = '{user_id}'")
       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       bank = cursor.execute("SELECT bank from users where user_id = ?", (message.from_user.id,)).fetchone()
       bank = round(int(bank[0]))
       bank2 = '{:,}'.format(bank_p).replace(',', '.')
       win = ['🙂', '😋', '😄', '🤑', '😃']
       rwin = random.choice(win)
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       period = 0
       get = cursor.execute(f"SELECT stavka FROM time_bank WHERE user_id = {user_id}").fetchone()
       last_stavka = f"{int(get[0])}"
       stavkatime = time.time() - float(last_stavka)
       if stavkatime > period:
          if bank_p > 0:
             if balance >= bank_p:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , вы успешно положили в карту {bank2}$ {rwin}",
                                        parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - bank_p} WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE users SET bank = {bank + bank_p} WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE time_bank SET stavka = {time.time()} WHERE user_id = {user_id}')
                connect.commit()

             elif int(balance) < int(bank_p):
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , недостаточно средств! {rloser}", reply_markup=balanc, parse_mode='html')

          if bank_p <= 0:
             await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , нельзя положить в карту отрицательное число! {rloser}",
                                     parse_mode='html')
       else:
          await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, ложить в карту можно раз в 3 минуты", parse_mode='html')                    
    
    if message.text.startswith("карта снять") or message.text.startswith("Карта снять"):
       msg = message
       chat_id = message.chat.id
       user_id = msg.from_user.id
       name = msg.from_user.last_name
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       bank = cursor.execute("SELECT bank from users where user_id = ?", (message.from_user.id,)).fetchone()

       su = msg.text.split()[2]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000').replace("все", "bank")
       su3 = float(su2)
       bank_s = int(su3)
       print(f"{name} снял с карты: {bank_s}")

       cursor.execute(f"SELECT user_id FROM users WHERE user_id = '{user_id}'")
       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       bank = cursor.execute("SELECT bank from users where user_id = ?", (message.from_user.id,)).fetchone()
       bank = round(int(bank[0]))
       bank2 = '{:,}'.format(bank_s).replace(',', '.')
       win = ['🙂', '😋', '😄', '🤑', '😃']
       rwin = random.choice(win)
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)

       if bank_s > 0:
          if bank >= bank_s:
             await bot.send_message(message.chat.id,
                                    f"<a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно сняли с картовского счёта {bank2}$ {rwin}",
                                    parse_mode='html')
             cursor.execute(f'UPDATE users SET bank = {bank - bank_s} WHERE user_id = "{user_id}"')
             cursor.execute(f'UPDATE users SET balance = {balance + bank_s} WHERE user_id = "{user_id}"')
             connect.commit()

          elif int(bank) < int(bank_s):
             await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств на картовского счету! {rloser}",
                                    parse_mode='html')    
    

###########################################РЕЙТИНГ###########################################
    if message.text.lower() in ["рейтинг", "Рейтинг"]:
       msg = message 
       user_id = msg.from_user.id
       rating = cursor.execute("SELECT rating from users where user_id = ?",(message.from_user.id,)).fetchone()
       rating = round(int(rating[0]))
       rating2 = '{:,}'.format(rating) 
       chat_id = message.chat.id
       user_name = message.from_user.get_mention(as_html=True)
       await bot.send_message(message.chat.id, f"{user_name}, ваш рейтинг {rating2}👑", parse_mode='html')

    if message.text.startswith("Рейтинг купить") or message.text.startswith("рейтинг купить"):
       msg = message
       user_id = msg.from_user.id
       user_name = message.from_user.get_mention(as_html=True)
       su = msg.text.split()[2]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       su3 = float(su2)
       summ = int(su3)
       chat_id = message.chat.id
       win = ['🙂', '😋', '😄', '🤑', '😃']
       rwin = random.choice(win)
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])
       rating = cursor.execute("SELECT rating from users where user_id = ?", (message.from_user.id,)).fetchone()
       rating = int(rating[0])
       rating2 = '{:,}'.format(summ)
       balance2 = '{:,}'.format(balance) 
       c = summ * 150000000000
       c2 = '{:,}'.format(c)
       if summ > 0:
        if int(balance) >= int(summ * 150000000000):
          await bot.send_message(message.chat.id, f'👑 • {user_name}, вы повысили количество вашего рейтинга на {rating2}👑 за {c2}$! {rwin}', parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance - c} WHERE user_id = "{user_id}"')
          cursor.execute(f'UPDATE users SET rating = {rating + summ} WHERE user_id = "{user_id}"')
          connect.commit()

 
        if int(balance) < int(summ * 150000000000):
          await bot.send_message(message.chat.id, f'💰 • {user_name}, недостаточно средств! {rloser}', reply_markup=balanc, parse_mode='html')

       if summ <= 0:
         await bot.send_message(message.chat.id, f'ℹ️ • {user_name}, нельзя купить отрицательное число! {rloser}', parse_mode='html')
    
    if message.text.startswith("Рейтинг продать") or message.text.startswith("рейтинг продать"):
       msg = message
       user_id = msg.from_user.id
       chat_id = message.chat.id
       user_name = message.from_user.get_mention(as_html=True)
       su = msg.text.split()[2]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace('м', '000000').replace('m', '000000')
       su3 = float(su2)
       summ = int(su3)
       win = ['🙂', '😋', '😄', '🤑', '😃']
       rwin = random.choice(win)
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])
       balance2 = '{:,}'.format(balance) 
       rating = cursor.execute("SELECT rating from users where user_id = ?", (message.from_user.id,)).fetchone()
       rating = int(rating[0])
       c = summ * 100000000000
       c2 ='{:,}'.format(c)
       rating2 = '{:,}'.format(summ)
       if summ > 0:
        if int(rating) >= int(summ):
          await bot.send_message(message.chat.id, f'👑 • {user_name}, вы понизили количество вашего рейтинга на {rating2}👑 за {c2}$! {rwin}', parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + c} WHERE user_id = "{user_id}"')
          cursor.execute(f'UPDATE users SET rating = {rating - summ} WHERE user_id = "{user_id}"')
          connect.commit()
 
        if int(rating) < int(summ):
          await bot.send_message(message.chat.id, f'👑 • {user_name}, у вас недостаточно рейтинга для его продажи! {rloser}', parse_mode='html')

       if summ <= 0:
          await bot.send_message(message.chat.id, f'ℹ️ • {user_name}, нельзя продать отрицательное число! {rloser}', parse_mode='html')
          
          
###########################################АДМИН###########################################
    if message.text.lower() in ["/adm1234", "/admin1234"]:
                    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,))
                    user_name = cursor.fetchone()
                    user_name = user_name[0]
                    user_id = message.from_user.id
                    user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,))
                    user_status = cursor.fetchone()
                    admvhod = InlineKeyboardMarkup(row_width=2)
                    vhod = InlineKeyboardButton(text='✅ Войти', callback_data='vhod')
                    admvhod.add(vhod)
                    await bot.send_message(message.chat.id, f"{user_name}, <b>для входа в админ меню нажмите на кнопку ниже</b>", reply_markup=admvhod, parse_mode='html')



    if message.text.startswith('/warn') and message.reply_to_message:
                    user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                               (message.from_user.id,))
                    user_name = cursor.fetchone()
                    user_name = user_name[0]
                    user_id = message.from_user.id
                    user_status = cursor.execute("SELECT user_status from users where user_id = ?",
                                                 (message.from_user.id,))
                    user_status = cursor.fetchone()

                    reply_user_name = message.reply_to_message.from_user.full_name
                    reply_user_id = message.reply_to_message.from_user.id
                    warn=cursor.execute("SELECT warn FROM users WHERE user_id=? ",(reply_user_id,))
                    warn=cursor.fetchone()
                    warn=int(warn[0])
                    user_status2 = cursor.execute("SELECT user_status from users where user_id = ?",
                                                 (message.reply_to_message.from_user.id,))
                    user_status2 = cursor.fetchone()
                    try:

                        comment = " ".join(message.text.split()[1:])
                    except :
                        await message.reply('‼️  Не хватает аргументов!\nПример: /warn причина')
                        return

                    if user_status[0] == 'Rab' or user_status[0] == 'Helper_Admin' or user_status[0] == 'Admin' or user_status[0] == 'Owner':
                        if user_status2[0] != 'Rab' and user_status2[0] != 'Owner' and user_status2[0] != 'Helper_Admin' and user_status2[0] != 'Admin':

                            cursor.execute(f"UPDATE users SET warn={warn + 1} WHERE user_id={reply_user_id}")

                            await bot.send_message(cfg.log_group, f"""
⚙️LOG: #warn
Администратор <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) выдал варн игроку
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
причина : {comment}
""", parse_mode='html')
                            warn = cursor.execute(f"SELECT warn FROM users WHERE user_id={reply_user_id} ")
                            warn = cursor.fetchone()
                            connect.commit()
                            await message.reply(
                                f'Администратор выдал варн игроку <a href="tg://user?id={reply_user_id}">{reply_user_name}</a> ⛔️'
                                f'Варнов у игрока: {int(warn[0])} (3 варна бан на 3 дня)'
                                ,
                                parse_mode='html')
                            if int(warn[0]) == 3:
                                timestamp=3*60*60*24
                                cursor.execute(
                                    f"UPDATE users SET status_block = 'on' WHERE user_id = {reply_user_id}")
                                cursor.execute(
                                    f"UPDATE users SET warn = {0} WHERE user_id = {reply_user_id}")
                                cursor.execute(
                                    "INSERT INTO ban_list VALUES(?, ?,?, ?);",
                                    (reply_user_id, reply_user_name, comment, timestamp))
                                connect.commit()
                        else:
                            await message.reply("Ты не можешь выдать варн администратору",
                                parse_mode='html')

    if message.text.startswith('/unwarn') and message.reply_to_message:
                    user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                               (message.from_user.id,))
                    user_name = cursor.fetchone()
                    user_name = user_name[0]
                    user_id = message.from_user.id
                    user_status = cursor.execute("SELECT user_status from users where user_id = ?",
                                                 (message.from_user.id,))
                    user_status = cursor.fetchone()

                    reply_user_name = message.reply_to_message.from_user.full_name
                    reply_user_id = message.reply_to_message.from_user.id
                    warn = cursor.execute("SELECT warn FROM users WHERE user_id=? ", (reply_user_id,))
                    warn = cursor.fetchone()
                    warn = int(warn[0])
                    user_status2 = cursor.execute("SELECT user_status from users where user_id = ?",
                                                  (message.reply_to_message.from_user.id,))
                    user_status2 = cursor.fetchone()

                    if user_status2[0] != 'Rab' and user_status2[0] != 'Owner' and user_status2[0] != 'Helper_Admin' and user_status2[0] != 'Admin':

                        cursor.execute(f"UPDATE users SET warn={warn - 1} WHERE user_id={reply_user_id}")
                        await message.reply(f"""Администратор <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) снял варн игроку
        <a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>) """,
                                            parse_mode='html')
                        await bot.send_message(cfg.log_group, f"""
⚙️LOG: #unwarn
Администратор <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) снял варн игроку
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)

""", parse_mode='html')

                        connect.commit()
    if message.text.lower() == '/unbanb' and message.reply_to_message:
                    user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                               (message.from_user.id,))
                    user_name = cursor.fetchone()
                    user_name = user_name[0]
                    user_id = message.from_user.id
                    msg = message
                    user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                               (message.from_user.id,))
                    user_name = cursor.fetchone()
                    user_name = user_name[0]
                    user_id = message.from_user.id
                    win = ['🙂', '😋', '😄', '🤑', '😃']
                    rwin = random.choice(win)

                    user_status = cursor.execute("SELECT user_status from users where user_id = ?",
                                                 (message.from_user.id,))
                    user_status = cursor.fetchone()
                    reply_user_name = message.reply_to_message.from_user.get_mention(
                        as_html=True)
                    reply_user_id = message.reply_to_message.from_user.id
                    user_status2 = cursor.execute("SELECT user_status from users where user_id = ?",
                                                  (message.reply_to_message.from_user.id,))
                    user_status2 = cursor.fetchone()
                    if user_status[0] == 'Rab' or user_status[0] == 'Admin':
                        await message.reply(
                            f'Администратор снял бан игроку <a href="tg://user?id={reply_user_id}">{reply_user_name}</a> ⛔️',
                            parse_mode='html')
                        cursor.execute(
                            f"UPDATE users SET status_block = 'off' WHERE user_id = {reply_user_id}")
                        await bot.send_message(cfg.log_group, f"""
⚙️LOG: #Админ
Администратор <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>)  снял бан игроку
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
""", parse_mode='html')
                        connect.commit()

                    if user_status[0] == 'Player':
                        await message.reply(
                            f'‼️ <a href="tg://user?id={user_id}">{user_name}</a>, Доступ к данной команде ограничен. Для покупки администратора обратитесь к создателю 👨‍🦰',
                            parse_mode='html')
    if message.text.startswith('/banb')  and message.reply_to_message:
                    user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                               (message.from_user.id,))
                    user_name = cursor.fetchone()
                    user_name = user_name[0]
                    user_id = message.from_user.id
                    msg = message
                    user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                               (message.from_user.id,))
                    user_name = cursor.fetchone()
                    user_name = user_name[0]
                    user_id = message.from_user.id
                    win = ['🙂', '😋', '😄', '🤑', '😃']
                    rwin = random.choice(win)
                    reply_user_name = message.reply_to_message.from_user.full_name
                    reply_user_id = message.reply_to_message.from_user.id
                    user_status = cursor.execute("SELECT user_status from users where user_id = ?",
                                                 (message.from_user.id,))
                    user_status = cursor.fetchone()
                    try:
                        muteint = int(message.text.split()[1])
                        mutetype = message.text.split()[2]
                        comment = " ".join(message.text.split()[3:])
                    except:
                        await message.reply('‼️  Не хватает аргументов!\nПример:\n/banb 1 ч причина')
                        return

                    user_status2 = cursor.execute("SELECT user_status from users where user_id = ?",
                                                  (message.reply_to_message.from_user.id,))
                    user_status2 = cursor.fetchone()
                    if user_status[0] == 'Rab' or user_status[0] == 'Admin':
                        if user_status2[0] != 'Rab' and user_status2[0] != 'Owner' and user_status2[0] != 'Helper_Admin':
                            if mutetype == "м" or mutetype == "минут" or mutetype == "минуты":
                                timestamp = muteint * 60
                                await message.reply(
                                    f'Администратор выдал бан игроку <a href="tg://user?id={reply_user_id}">{reply_user_name}</a> ⛔'
                                    f'️',
                                    parse_mode='html')
                                cursor.execute(
                                    f"UPDATE users SET status_block = 'on' WHERE user_id = {reply_user_id}")
                                await bot.send_message(cfg.log_group, f"""
⚙️LOG: #Админ
Администратор <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>)  выдал бан игроку
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
причина: {comment}
На:{timestamp}
""", parse_mode='html')
                                connect.commit()
                            if mutetype == "ч" or mutetype == "часов" or mutetype == "час":

                                timestamp=muteint * 60 * 60
                                await message.reply(
                                    f'Администратор выдал бан игроку <a href="tg://user?id={reply_user_id}">{reply_user_name}</a> ⛔'
                                    f'️',
                                    parse_mode='html')
                                cursor.execute(
                                    f"UPDATE users SET status_block = 'on' WHERE user_id = {reply_user_id}")
                                await bot.send_message(cfg.log_group, f"""
⚙️LOG: #Админ
Администратор <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>)  выдал бан игроку
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
причина: {comment}
На:{timestamp}
        """, parse_mode='html')
                                connect.commit()
                            if mutetype == "д" or mutetype == "дней" or mutetype == "день":

                                timestamp = muteint * 60 * 60 * 24
                                await message.reply(
                                    f'Администратор выдал бан игроку <a href="tg://user?id={reply_user_id}">{reply_user_name}</a> ⛔'
                                    f'️',
                                    parse_mode='html')
                                cursor.execute(
                                    f"UPDATE users SET status_block = 'on' WHERE user_id = {reply_user_id}")

                                await bot.send_message(cfg.log_group, f"""
⚙️LOG: #Админ
Администратор <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>)  выдал бан игроку
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
причина: {comment}
На:{timestamp}
    """, parse_mode='html')
                                connect.commit()
                        else:
                            await message.reply(
                                f'‼️ <a href="tg://user?id={user_id}">{user_name}</a>, Вы не можете забанить другого админа',
                                parse_mode='html')
                    if user_status[0] == 'Player':
                        await message.reply(
                            f'‼️ <a href="tg://user?id={user_id}">{user_name}</a>, Доступ к данной команде ограничен. Для покупки администратора обратитесь к создателю 👨‍🦰',
                            parse_mode='html')
    if message.text.startswith("Выдать") or message.text.startswith("выдать"):
       msg = message
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       win = ['🙂', '😋', '😄', '🤑', '😃']
       rwin = random.choice(win)
       perevod5 = message.text.split()[1]
       
       
       perevod4 = (perevod5).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       perevod3 = float(perevod4)
       perevod = int(perevod3)
       perevod2 = '{:,}'.format(perevod).replace(',', '.')
       reply_user_id = msg.reply_to_message.from_user.id
       user_id = msg.from_user.id
       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance2 = cursor.execute("SELECT balance from users where user_id = ?", (message.reply_to_message.from_user.id,)).fetchone()
       balance2 = round(balance2[0])
       if user_status[0] == 'Admin':
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача
Игрок: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдача денег игроку 
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>) в размере {perevod2}$ 
""", parse_mode='html')
          await message.reply(f"💰 • Вы <a href='tg://user?id={user_id}'>{user_name}</a> выдали {perevod2}$ игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> {rwin}", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance2 + perevod} WHERE user_id = "{reply_user_id}"')
          connect.commit() 
       if user_status[0] == 'Helper_Admin':
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача
Игрок: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдача денег игроку 
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>) в размере {perevod2}$ 
""", parse_mode='html')
          await message.reply(f"💰 • Вы <a href='tg://user?id={user_id}'>{user_name}</a> выдали {perevod2}$ игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> {rwin}", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance2 + perevod} WHERE user_id = "{reply_user_id}"')
          connect.commit()        
       if user_status[0] == 'Owner':
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача
Игрок: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдача денег игроку 
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>) в размере {perevod2}$ 
""", parse_mode='html')
          await message.reply(f"💰 • Вы <a href='tg://user?id={user_id}'>{user_name}</a> выдали {perevod2}$ игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> {rwin}", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance2 + perevod} WHERE user_id = "{reply_user_id}"')
          connect.commit() 
       if user_status[0] == 'Rab':
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача 
Игрок: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдача денег игроку 
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>) в размере {perevod2}$ 
""", parse_mode='html')
          await message.reply(f"💰 • Вы <a href='tg://user?id={user_id}'>{user_name}</a> выдали {perevod2}$ игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> {rwin}", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance2 + perevod} WHERE user_id = "{reply_user_id}"')
          connect.commit()           
       if user_status[0] == 'Player':
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь администратором бота!", parse_mode='html') 


    if message.text.startswith("Забрать") or message.text.startswith("забрать"):
       msg = message
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       win = ['🙂', '😋', '😄', '🤑', '😃']
       rwin = random.choice(win)
       perevod5 = message.text.split()[1]
       
       
       perevod4 = (perevod5).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       perevod3 = float(perevod4)
       perevod = int(perevod3)
       perevod2 = '{:,}'.format(perevod).replace(',', '.')
       reply_user_id = msg.reply_to_message.from_user.id
       user_id = msg.from_user.id
       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance2 = cursor.execute("SELECT balance from users where user_id = ?", (message.reply_to_message.from_user.id,)).fetchone()
       balance2 = round(balance2[0])
       if user_status[0] == 'Admin':
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #забрать
Игрок: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) забрал денег у игрока
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>) в размере {perevod2}$
""", parse_mode='html')
          await message.reply(f"💰 • Вы <a href='tg://user?id={user_id}'>{user_name}</a> забрали {perevod2}$ у игрока <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> {rwin}", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance2 - perevod} WHERE user_id = "{reply_user_id}"')
          connect.commit() 
       if user_status[0] == 'Helper_Admin':
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #перевод 
Игрок: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Забрал денег у игрока
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>) в размере {perevod2}$
""", parse_mode='html')
          await message.reply(f"💰 • Вы <a href='tg://user?id={user_id}'>{user_name}</a> забрали {perevod2}$ у игрока <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> {rwin}", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance2 - perevod} WHERE user_id = "{reply_user_id}"')
          connect.commit()        
       if user_status[0] == 'Owner':
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #забрать
Игрок: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Забрал денег у игрока
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>) в размере {perevod2}$
""", parse_mode='html')
          await message.reply(f"💰 • Вы <a href='tg://user?id={user_id}'>{user_name}</a> забрали {perevod2}$ у игрока <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> {rwin}", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance2 - perevod} WHERE user_id = "{reply_user_id}"')
          connect.commit() 
       if user_status[0] == 'Rab':
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #забрать
Игрок: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Забрал денег у игрока
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>) в размере {perevod2}$
""", parse_mode='html')
          await message.reply(f"💰 • Вы <a href='tg://user?id={user_id}'>{user_name}</a> забрали {perevod2}$ у игрока <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> {rwin}", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance2 - perevod} WHERE user_id = "{reply_user_id}"')
          connect.commit()           
       if user_status[0] == 'Player':
          await message.reply(f"ℹ️ • <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь администратором бота!", parse_mode='html')
          
    if message.text.lower() in ["обнулить д"]:
       msg = message
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])
       win = ['🙂', '😋', '😄', '🤑', '😃']
       rwin = random.choice(win)
       reply_user_id = msg.reply_to_message.from_user.id
       user_id = msg.from_user.id
       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()

       if not message.reply_to_message:
                await message.reply("Эта команда должна быть ответом на сообщение!")
                return
       if user_status[0] == 'Rab':
          await message.reply(f"💰 • Вы <a href='tg://user?id={user_id}'>{user_name}</a> обнулили деньги игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {0} WHERE user_id = "{reply_user_id}"')
       if user_status[0] == 'Owner':
          await message.reply(f"💰 • Вы <a href='tg://user?id={user_id}'>{user_name}</a> обнулили деньги игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {0} WHERE user_id = "{reply_user_id}"')
       if user_status[0] == 'Helper_Admin':
          await message.reply(f"💰 • Вы <a href='tg://user?id={user_id}'>{user_name}</a> обнулили деньги игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {0} WHERE user_id = "{reply_user_id}"')          
       if user_status[0] == 'Admin':
          await message.reply(f"💰 • Вы <a href='tg://user?id={user_id}'>{user_name}</a> обнулили деньги игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {0} WHERE user_id = "{reply_user_id}"')
          
                    
    if message.text.lower() in ["обнулить р"]:
       msg = message
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])
       win = ['🙂', '😋', '😄', '🤑', '😃']
       rwin = random.choice(win)
       reply_user_id = msg.reply_to_message.from_user.id
       user_id = msg.from_user.id
       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()

       if not message.reply_to_message:
                await message.reply("Эта команда должна быть ответом на сообщение!")
                return
       if user_status[0] == 'Rab':
          await message.reply(f"👑 | Вы <a href='tg://user?id={user_id}'>{user_name}</a> обнулили рейтинг игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET rating = {0} WHERE user_id = "{reply_user_id}"')
       if user_status[0] == 'Owner':
          await message.reply(f"👑 | Вы <a href='tg://user?id={user_id}'>{user_name}</a> обнулили рейтинг игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET rating = {0} WHERE user_id = "{reply_user_id}"')
       if user_status[0] == 'Helper_Admin':
          await message.reply(f"👑 | Вы <a href='tg://user?id={user_id}'>{user_name}</a> обнулили рейтинг игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET rating = {0} WHERE user_id = "{reply_user_id}"')          
       if user_status[0] == 'Admin':
          await message.reply(f"👑 | Вы <a href='tg://user?id={user_id}'>{user_name}</a> обнулили рейтинг игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET rating = {0} WHERE user_id = "{reply_user_id}"')                                        


    if message.text.startswith("Изменить id"):
       msg = message
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       win = ['🙂', '😋', '😄', '🤑', '😃']
       rwin = random.choice(win)
       reply_user_id = msg.reply_to_message.from_user.id
       user_id = msg.from_user.id
       user_status2 = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       newid = int(msg.text.split()[2])
       if user_status2[0] == "Rab":
          await message.reply(f"🔎 | Вы выдали ID - {newid} - игроку: <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET id = \"{newid}\" WHERE user_id = "{reply_user_id}"')
       if user_status2[0] == "Owner":
          await message.reply(f"🔎 | Вы выдали ID - {newid} - игроку: <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET id = \"{newid}\" WHERE user_id = "{reply_user_id}"') 
          connect.commit()
       if user_status2[0] == 'Player':
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь создателем бота!", parse_mode='html')
       if user_status2[0] == 'Admin':
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь создателем бота!", parse_mode='html')
       if user_status2[0] == 'Helper_Admin':
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь создателем бота!", parse_mode='html')

    if message.text.startswith('Пончик') or message.text.startswith('пончик'):
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])

       reply_user_id = msg.reply_to_message.from_user.id

       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = user_status[0]

       donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       donate_coins = int(donate_coins[0])

       su = msg.text.split()[1]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       su3 = float(su2)
       summ = int(su3)

       if user_status == 'Rab':
          text = f'''
🤵 <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a><b>, вам было начислено <code>{'{:,}'.format(summ).replace(',','.')}</code> пончиков</b> 🍩
          '''
          await bot.send_message(message.chat.id,text, parse_mode='html')
          cursor.execute(f'UPDATE users SET donate_coins = {donate_coins + summ} WHERE user_id = {reply_user_id}')
          connect.commit()
       else:
          pass                    
          

    if message.text.lower() == '+ админ':
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])

       reply_user_id = msg.reply_to_message.from_user.id

       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = user_status[0]

       if user_status == 'Rab':
          await message.reply(f"🤵 | Создатель: <a href='tg://user?id={user_id}'>{user_name}</a> выдал админ игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET user_status = "Admin" WHERE user_id = {reply_user_id}')
          connect.commit()
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача статуса
Создатель: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдал ADMIN
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
""", parse_mode='html')
       else:
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь создателем бота!")
          
          
    if message.text.lower() == '+ хелпер':
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])

       reply_user_id = msg.reply_to_message.from_user.id

       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = user_status[0]

       if user_status == 'Rab':
          await message.reply(f"🤵 | Создатель: <a href='tg://user?id={user_id}'>{user_name}</a> выдал хелпера игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET user_status = "Helper_Admin" WHERE user_id = {reply_user_id}')
          connect.commit()
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача статуса
Создатель: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдал HELPER-ADMIN
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
""", parse_mode='html')
       else:
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь создателем бота!")


    if message.text.lower() == '+ овнер':
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])

       reply_user_id = msg.reply_to_message.from_user.id

       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = user_status[0]

       if user_status == 'Rab':
          await message.reply(f"🤵 | Создатель: <a href='tg://user?id={user_id}'>{user_name}</a> выдал owner игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET user_status = "Owner" WHERE user_id = {reply_user_id}')
          connect.commit()
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача статуса
Создатель: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдал OWNER
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
""", parse_mode='html')
       else:
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь создателем бота!")

    if message.text.lower() == '+ вип':
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])

       reply_user_id = msg.reply_to_message.from_user.id

       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = user_status[0]

       if user_status == 'Rab':
          await message.reply(f"🤵 | Создатель: <a href='tg://user?id={user_id}'>{user_name}</a> выдал ВИП игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET user_status = "Vip" WHERE user_id = {reply_user_id}')
          connect.commit()
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача статуса
Создатель: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдал ВИП
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
""", parse_mode='html')
       else:
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь создателем бота!")

    if message.text.lower() == '+ титан':
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])

       reply_user_id = msg.reply_to_message.from_user.id

       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = user_status[0]

       if user_status == 'Rab':
          await message.reply(f"🤵 | Создатель: <a href='tg://user?id={user_id}'>{user_name}</a> выдал TITANIUM игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET user_status = "Titanium" WHERE user_id = {reply_user_id}')
          connect.commit()
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача статуса
Создатель: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдал TITANIUM
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
""", parse_mode='html')
       else:
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь создателем бота!")

    if message.text.lower() == '+ делюкс':
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])

       reply_user_id = msg.reply_to_message.from_user.id

       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = user_status[0]

       if user_status == 'Rab':
          await message.reply(f"🤵 | Создатель: <a href='tg://user?id={user_id}'>{user_name}</a> выдал DELUXE игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET user_status = "Deluxe" WHERE user_id = {reply_user_id}')
          connect.commit()
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача статуса
Создатель: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдал DELUXE
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
""", parse_mode='html')
       else:
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь создателем бота!")

    if message.text.lower() == '+ чемпион':
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])

       reply_user_id = msg.reply_to_message.from_user.id

       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = user_status[0]

       if user_status == 'Rab':
          await message.reply(f"🤵 | Создатель: <a href='tg://user?id={user_id}'>{user_name}</a> выдал Chempion игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET user_status = "Chem" WHERE user_id = {reply_user_id}')
          connect.commit()
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача статуса
Создатель: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдал Чемпион
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
""", parse_mode='html')
       else:
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь создателем бота!")

    if message.text.lower() == '+ король':
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])

       reply_user_id = msg.reply_to_message.from_user.id

       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = user_status[0]

       if user_status == 'Rab':
          await message.reply(f"🤵 | Создатель: <a href='tg://user?id={user_id}'>{user_name}</a> выдал Korol игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET user_status = "Korol" WHERE user_id = {reply_user_id}')
          connect.commit()
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача статуса
Создатель: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдал KOROL
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
""", parse_mode='html')
       else:
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь создателем бота!")

    if message.text.lower() == '+ донатер':
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])

       reply_user_id = msg.reply_to_message.from_user.id

       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = user_status[0]

       if user_status == 'Rab':
          await message.reply(f"🤵 | Создатель: <a href='tg://user?id={user_id}'>{user_name}</a> выдал Donater игроку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET user_status = "Donater" WHERE user_id = {reply_user_id}')
          connect.commit()
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #выдача статуса
Создатель: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) Выдал DONATER
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
""", parse_mode='html')
       else:
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не являетесь создателем бота!")

    if message.text.lower() in ["Забрать права", "забрать права", "Забрать статус"]:
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = str(reply_user_name[0])

       reply_user_id = msg.reply_to_message.from_user.id

       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_status = user_status[0]

       if user_status in ['Rab', 'Owner']:
          await message.reply(f"🤵 | Администратор: <a href='tg://user?id={user_id}'>{user_name}</a> забрал права у игрока <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
          cursor.execute(f'UPDATE users SET user_status = "Donater" WHERE user_id = {reply_user_id}')
          connect.commit()
          await bot.send_message(cfg.log_group, f"""⚙️LOG: #отбор прав
Создатель: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) забрал права у
<a href="tg://user?id={reply_user_id}">{reply_user_name}</a>(<code>{reply_user_id}</code>)
""", parse_mode='html')
       else:
          await message.reply(f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, данная команда доступна от прав администрации OWNER")


########################################PROMO#########################################
    if message.text.lower() in ['очистить промо', 'reset промо']:
         user_id = message.from_user.id
         user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
         user_name = str(user_name[0])

         user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
         user_status = str(user_status[0])

         all_promo = cursor.execute(f'SELECT promo from promo').fetchall()

         if user_status in ['Owner', 'Rab']:
            cursor.execute(f'DELETE from promo')
            cursor.execute(f'DELETE from promo_active')
            connect.commit()
            all_dell_promo = 0

            for delete_promo in all_promo:
               all_dell_promo += 1
               await message.answer(f'🤖 промокод {delete_promo[0]} был удалён', parse_mode='html')

            await message.reply(f"👾 Всe промокоды были удалены\n🔢 Количество удалённых промокодов: {'{:,}'.format(all_dell_promo).replace(',','.')}")

            
         else:
            return await message.reply(f'🪄 Данная команда доступна от прав администратора <b>OWNER</b>', parse_mode='html')





    if message.text.startswith('промо') or message.text.startswith('Промо') or message.text.startswith('Промокод') or message.text.startswith('промокод'):
         user_id = message.from_user.id
         user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
         user_name = str(user_name[0])

         balance = cursor.execute(f'SELECT balance from users where user_id = {user_id}').fetchone()
         balance = int(balance[0])

         donate_coins = cursor.execute(f'SELECT donate_coins from users where user_id = {user_id}').fetchone()
         donate_coins = int(donate_coins[0])
         
         pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
         pet10 = int(pet10[0])

         all_promo = cursor.execute(f'SELECT promo from promo').fetchall()
         all_promo2 = []

         for item in all_promo:
            all_promo2.append(item[0])



         promo = str(message.text.split()[1])

         if str(promo) in str(all_promo2):
            
            proverka = cursor.execute(f'SELECT active from promo_active where user_id = {user_id} and promo = "{promo}"').fetchone()

            if proverka != None:
               return await message.reply(f'🪄 <b>Вы использовали промокод</b> <code>{promo}</code>', parse_mode='html')
            else:
               pass

            name_promo = cursor.execute(f'SELECT promo from promo where promo = "{promo}"').fetchone()
            name_promo = name_promo[0]

            status_promo = cursor.execute(f'SELECT status from promo where promo = "{promo}"').fetchone()
            status_promo = status_promo[0]

            owner_promo = cursor.execute(f'SELECT owner from promo where promo = "{promo}"').fetchone()
            owner_promo = owner_promo[0]

            priz_promo = cursor.execute(f'SELECT priz from promo where promo = "{promo}"').fetchone()
            priz_promo = int(priz_promo[0])
   
            active_promo = cursor.execute(f'SELECT active from promo where promo = "{promo}"').fetchone()
            active_promo = int(active_promo[0])

            ob_active_promo = cursor.execute(f'SELECT ob_active from promo where promo = "{promo}"').fetchone()
            ob_active_promo = int(ob_active_promo[0])

            if ob_active_promo == active_promo:
               return await message.reply(f'🪄 Промокод больше <b>не действительный</b>', parse_mode='html')
            else:
               pass
            

            if status_promo == 'money':
               priz2 = '{:,}'.format(priz_promo).replace(',', '.')
               priz = f'{priz2}$'
               new_balance = balance + priz_promo
               new_balance2 = '{:,}'.format(int(new_balance)).replace(',','.')
               update_profile = f'💸 <b>Теперь ваш текущий баланс:</b>  <code>{new_balance2}$</code>'
               cursor.execute(f'UPDATE promo SET ob_active = {ob_active_promo + 1} WHERE promo = "{promo}"')
               cursor.execute(f'UPDATE users SET balance = {int(new_balance)} where user_id = {user_id}')
               cursor.execute("INSERT INTO promo_active VALUES(?, ?, ?);",(user_id, promo,1))
            elif status_promo == 'donate_coins':
               priz2 = '{:,}'.format(priz_promo).replace(',', '.')
               priz = f'{priz2} 🍩'
               update_profile = ''
               cursor.execute(f'UPDATE promo SET ob_active = {ob_active_promo + 1} WHERE promo = "{promo}"')
               cursor.execute(f'UPDATE users SET donate_coins = {donate_coins + priz_promo} where user_id = {user_id}')
               cursor.execute("INSERT INTO promo_active VALUES(?, ?, ?);",(user_id, promo,1))
            elif status_promo == 'pet10':
               priz2 = '{:,}'.format(priz_promo).replace(',', '.')
               priz = f'Снековик ☃️'
               update_profile = ''
               cursor.execute(f'UPDATE promo SET ob_active = {ob_active_promo + 1} WHERE promo = "{promo}"')
               cursor.execute(f'UPDATE users SET pet1 = {0} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE users SET pet2 = {0} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE users SET pet3 = {0} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE users SET pet4 = {0} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE users SET pet5 = {0} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE users SET pet6 = {0} WHERE user_id = "{user_id}"')               
               cursor.execute(f'UPDATE users SET pet7 = {0} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE users SET pet8 = {0} WHERE user_id = "{user_id}"')               
               cursor.execute(f'UPDATE users SET pet9 = {0} WHERE user_id = "{user_id}"')               
               cursor.execute(f'UPDATE users SET pet11 = {0} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE users SET pet10 = {1} WHERE user_id = "{user_id}"') 
               cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
               cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
               cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
               cursor.execute("INSERT INTO promo_active VALUES(?, ?, ?);",(user_id, promo,1))
            else:
               return await message.reply(f'<b>Error: No status promo in [money, donate-coins,pet10]</b>', parse_mode='html')
            
            
            text = f'''
👤 <b>Вы успешно использовали промокод <code>{promo}</code></b>
➖➖➖➖➖➖➖➖➖➖➖➖➖
🪄 <b>Получили <code>{priz}</code></b>
➖➖➖➖➖➖➖➖➖➖➖➖➖
👾 <b>Создатель промокода:</b>  {owner_promo}
➖➖➖➖➖➖➖➖➖➖➖➖➖
{update_profile}
            '''

            await message.reply(text, parse_mode='html')
            await bot.send_message(cfg.log_group, f"""⚙️LOG: #промо
Игрок: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) использовал промо
🪄 Промокод: <code>{promo}</code>
➖➖➖➖➖➖➖➖➖➖➖➖➖
👾 <b>Создатель промокода:</b>  {owner_promo}
➖➖➖➖➖➖➖➖➖➖➖➖➖
🪄 <b>Получили <code>{priz}</code></b>
""", parse_mode='html')
         else:
            return await message.reply(f'🪄 Нету такого промокода')


    if message.text.startswith('+дон промо'):
      try:
         user_id = message.from_user.id
         user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
         user_name = str(user_name[0])

         if user_id <= 6648207013:
            if user_id >= 6648207015:
               return await message.reply(f'🪄 Данная команда доступна только KPECTIKу соси лох', parse_mode='html')
         else:
            pass
         new_promo = message.text.split()[2]

         status_promo = int(message.text.split()[3])

         summ_promo = int(message.text.split()[4])

         active_promo = int(message.text.split()[5])

         opis = message.text.split()[6:]

         all_promo = cursor.execute(f'SELECT promo from promo').fetchall()
         all_promo2 = []

         for all_promo3 in all_promo:
            all_promo2.append(all_promo3[0])

         if new_promo in all_promo2:
            return await message.reply(f'🪄 <b>Данный промокод <code>{new_promo}</code> уже существует</b>', parse_mode='html')
         else:
            pass


         if status_promo == 1:
            status = 'donate_coins'
            cursor.execute("INSERT INTO promo VALUES(?, ?, ?, ?, ?, ?);",(new_promo, status, user_name, summ_promo, active_promo, 0))
            text = f'''
🪄 <b>Промокод:</b> <code>{new_promo}</code>
🍩 <b>Содержит: 🍩</b>
👾 <b>Создатель:</b> <code>{user_name}</code>

👥 <b>Количество использований:</b> <code>{active_promo} раз(а)</code>
👤<b> На одного человека:</b> <code>{summ_promo} 🍩</code>
            '''
            return
         if status_promo == 2:
            status = 'pet10'
            cursor.execute("INSERT INTO promo VALUES(?, ?, ?, ?, ?, ?);",(new_promo, status, user_name, summ_promo, active_promo, 0))
            text = f'''
🪄 <b>Промокод:</b> <code>{new_promo}</code>
 <b>Содержит: Снеговик ☃️</b>
👾 <b>Создатель:</b> <code>{user_name}</code>

👥 <b>Количество использований:</b> <code>{active_promo} раз(а)</code>
👤<b> На одного человека:</b> <code>{summ_promo} </code>
            '''

         else:
            text = f'''
❗️ Неправильно ведены аргументы | пример: <code>+дон промо</code> <i>[название промокода] [номер статуса] [сумма на 1 человека]</i>  [количество активаций] 

❕ Номера статусов:
      1 - пончики
      2 - Снеговик
         '''
            return await message.reply(text, parse_mode='html')
      
         await message.reply(text, parse_mode='html')

      except IndexError:
         text = f'''
❗️ Неправильно ведены аргументы | пример: <code>+дон промо</code> <i>[название промокода] [номер статуса] [сумма на 1 человека]</i>  [количество активаций] 

❕ Номера статусов:
      1 - пончики
      2 - Снеговик
         '''
         await message.reply(text, parse_mode='html')


      except ValueError:
         text = f'''
❗️ Неправильно ведены аргументы | пример: <code>+дон промо</code> <i>[название промокода] [номер статуса] [сумма на 1 человека]</i>  [количество активаций] 

❕ Номера статусов:
      1 - пончики
      2 - Снеговик
         '''
         await message.reply(text, parse_mode='html')




    if message.text.startswith('+промокод') or message.text.startswith('+Промокод') or message.text.startswith('+Промо') or message.text.startswith('+промо'):
      try:
         user_id = message.from_user.id
         user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
         user_name = str(user_name[0])

         balance = cursor.execute(f'SELECT balance from users where user_id = {user_id}').fetchone()
         balance = int(balance[0])
      
         user_status = cursor.execute(f'SELECT user_status from users where user_id = {user_id}').fetchone()
         user_status = user_status[0]

         all_promo = cursor.execute(f'SELECT promo from promo').fetchall()
         all_promo2 = []

         for all_promo3 in all_promo:
            all_promo2.append(all_promo3[0])
         new_promo = str(message.text.split()[1])

         su1 = message.text.split()[2]
         su2 = (su1).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000').replace('все', 'всё')
         su3 = float(su2)
         summ = int(su3)

         su1_2 = message.text.split()[3]
         su2_2 = (su1_2).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
         su3_2 = float(su2_2)
         active_users = int(su3_2)

         opis = message.text.split()[4:]

         if summ < 0:
            return await message.reply(f'❗️ Cумма должна быть не меньше <code>0$</code>', parse_mode='html')
         else:
            pass

         if active_users > 1000000:
            return await message.reply(f'❗️ Вы не можете создать промокод больше чем на <b>1000000 использований</b>', parse_mode='html')
         else:
            pass
         
         if len(new_promo) < 3:
            return await message.reply(f'❗️ Промокод должен быть <b>больше 3 символов</b>', parse_mode='html')
         else:
            pass

         if new_promo in all_promo2:
            return await message.reply(f'❗️ <b>Данный промокод <code>{new_promo}</code> уже существует</b>', parse_mode='html')
         else:
            pass
         
         if summ > balance:
            return await message.reply(f'❗️ У вас <b>недостаточно средств</b>', parse_mode='html')
         else:
            pass

         if summ <= 0:
            return await message.reply(f'❗️ Сумма не должна быть отрицательным числом <b>[0 и меньше]</b>', parse_mode='html')
         else:
            pass
         
         user_summ = summ / active_users
         user_summ2 = int(user_summ)         

         text_opis = ' '.join(opis)

         if text_opis == '':
            opis2 = ''
         else:
            text_opis = ' '.join(opis)
            opis2 = f'<b>💭 Описание:</b> <code>{text_opis}</code>'

         text = f'''
🪄 Промокод: <code>{new_promo}</code>
➖➖➖➖➖➖➖➖➖➖➖➖➖
💰 Сумма: <code>{'{:,}'.format(summ).replace(',', '.')}$</code>
➖➖➖➖➖➖➖➖➖➖➖➖➖
👾 Создатель: <code>{user_name}</code>
➖➖➖➖➖➖➖➖➖➖➖➖➖
👤 Активаций: <code>{active_users}</code>
👤 На одного человека: <code>{'{:,}'.format(user_summ2).replace(',', '.')}$</code>
         '''

         if user_status in []:
            await message.reply('❗️ Администрации запрещено создавать промокоды')

            await message.bot.send_message(cfg.log_group, f'⛔️ Администратор <b>{user_name}</b> (<code>{user_id}</code>) только что попытался создать промокод.')
            return await message.bot.send_message(cfg.log_group, text, parse_mode='html')
            await message.bot.send_message(cfg.log_group, f"""⚙️LOG: #промо
Игрок: <a href="tg://user?id={user_id}">{user_name}</a>(<code>{user_id}</code>) создал промо
🪄 Промокод: <code>{new_promo}</code>
➖➖➖➖➖➖➖➖➖➖➖➖➖
💰 Сумма: <code>{'{:,}'.format(summ).replace(',', '.')}$</code>
➖➖➖➖➖➖➖➖➖➖➖➖➖
👾 Создатель: <code>{user_name}</code>
➖➖➖➖➖➖➖➖➖➖➖➖➖
👤 Активаций: <code>{active_users}</code>
👤 На одного человека: <code>{'{:,}'.format(user_summ2).replace(',', '.')}$</code>
""", parse_mode='html')
         else:
            pass
            
            
         status = 'money'
         try:
            cursor.execute("INSERT INTO promo VALUES(?, ?, ?, ?, ?, ?);",(new_promo, status, user_name, user_summ2, active_users, 0))
            cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
            connect.commit()
            await message.reply(text, parse_mode='html')
         except OverflowError:
            cursor.execute("INSERT INTO promo VALUES(?, ?, ?, ?, ?, ?);",(new_promo, status, user_name, 0, active_users, 0))
            cursor.execute(f'UPDATE promo SET priz = {user_summ2} WHERE promo = "{new_promo}"')
            cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
            connect.commit()
            await message.reply(text, parse_mode='html')
      except IndexError:
         text = f'''
❗️ Неправильно введены <b>аргументы!</b>
❕ <code>+промо</code> <b>[название] [сумма] [количество использований]</b>
         '''
         await message.reply(text, parse_mode='html')

      except ValueError:
         text = f'''
❗️ Неправильно введены <b>аргументы!</b>
❕ <code>+промо</code> <b>[название] [сумма] [количество использований]</b>
         '''
         await message.reply(text, parse_mode='html')
         



###########################################ПОМОЩЬ###########################################
    if message.text.lower() in ["/help", "помощь", "/help@Game_VEST_Bot", "/help@Game_VEST_Bot ", "/help@game_vest_bot"]:
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       help2 = InlineKeyboardMarkup(row_width=2)
       Osn2 = InlineKeyboardButton(text='💡 Основное', callback_data='Osn2')
       game2 = InlineKeyboardButton(text='🎮 Игры', callback_data='game2')
       Im2 = InlineKeyboardButton(text='🏘 Дом', callback_data='Im2')
       Osn = InlineKeyboardButton(text='❕Остальное', callback_data='ostal_menu')
       ded2 = InlineKeyboardButton(text='➡️ Дальше', callback_data='ded2')
       help2.add(Osn2, game2, Im2, Osn, ded2)

       await bot.send_message(message.chat.id, f'''
➖➖➖➖➖➖➖➖➖➖➖
📊 Канал - {cfg.channel}
💭 Чат - {cfg.chat}
❗️ По всем вопросам - {cfg.owner}
➖➖➖➖➖➖➖➖➖➖➖
🔎 Категории
├ 💡 Основное
├ 🎮 Игры
├ 🏘 Дом
└ ❕ Остальное
➖➖➖➖➖➖➖➖➖➖
Выберите одну кнопку ниже👇🏻
    ''', reply_markup=help2, disable_web_page_preview=True, parse_mode='html')
   

##################################################ДАЙК############################################

    if message.text.lower().startswith('дайк'):
      try:
         msg = message
         user_id = msg.from_user.id
         games = cursor.execute("SELECT game from users where user_id = ?", (message.from_user.id,)).fetchone()
         games = int(games[0])

         user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
         user_name = str(user_name[0])

         user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
         user_status = str(user_status[0])

         su = msg.text.split()[1]
         su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace('$', '').replace('м', '000000').replace('все', '{balance}').replace('всё', '{balance}')
         su3 = float(su2)
         summ = int(su3)

         summ2 = '{:,}'.format(summ).replace(',', '.')
         
         ore = str(msg.text.split()[2])


         balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
         balance = round(int(balance[0]))
         player = status_users(message.from_user.id)
         

         if user_status in ['Titanium', 'Donater']:
            period = 2
            tp = 'секунды'
         elif user_status in ['Admin', 'Helper_Admin', 'Owner']:
            period = 1
            tp = 'секунду'
         else:
            period = 5
            tp = 'секунд'



         get = cursor.execute("SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
         last_stavka = f"{int(get[0])}"
         stavkatime = time.time() - float(last_stavka)

         if stavkatime < period:
            return await message.reply(f'❗️ Играть можно раз в <b>{period} {tp}</b>', parse_mode='html')
         else:
            pass
         
         if balance < summ:
            return await message.reply(f'❗️ У вас <b>недостаточно средств</b>', parse_mode='html')
         else:
            pass
         
         if summ <= 0:
            return await message.reply('❗️ Ставка не может быть отрицательным числом <b>[0 и меньше]</b>', parse_mode='html')
         else:
            pass





         if ore in ["к", "К"]:
            r = random.randint(0, 101)
            
            if r in range(0, 50):
               stavka = int(summ * 0)
               stavka2 = '{:,}'.format(stavka).replace(',', '.')
               await message.reply(f"""{player} ➪ <a href="tg://user?id={user_id}">{user_name}</a>
🎱 Игра: Дайк
🗒 Проигрыш: -{stavka2}$
🎲 Выпала система [В]""", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
               connect.commit()



            if r in range(51, 101):
               
               stavka = int(summ * 2)
               stavka2 = '{:,}'.format(stavka).replace(',', '.')
               await message.bot.send_message(cfg.log_group, f"""{player} ➪ <a href="tg://user?id={user_id}">{user_name}</a>
🎱 Игра: Дайк
🧾 Выигрыш: +{stavka2}$
🎲 Выпала система [К]""", parse_mode='html')
               await message.reply(f"""{player} ➪ <a href="tg://user?id={user_id}">{user_name}</a>
🎱 Игра: Дайк
🧾 Выигрыш: +{stavka2}$
🎲 Выпала система [К]""", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 2)} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
               connect.commit()
         




         if ore in ["в", "В"]:
            r = random.randint(0, 101)
            
            if r in range(0, 50):
               stavka = int(summ * 0)
               stavka2 = '{:,}'.format(stavka).replace(',', '.')
               await message.reply(f"""{player} ➪ <a href="tg://user?id={user_id}">{user_name}</a>
🎱 Игра: Дайк
🧾 Проигрыш: -{stavka2}$
🎲 Выпала система [К]""", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
               connect.commit()



            if r in range(51, 100):
               
               stavka = int(summ * 2)
               stavka2 = '{:,}'.format(stavka).replace(',', '.')
               await message.reply(f"""{player} ➪ <a href="tg://user?id={user_id}">{user_name}</a>
🎱 Игра: Дайк
🗒 Выигрыш: +{stavka2}$
🎲 Выпала система [В]""", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 2)} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
               connect.commit()
      
      except IndexError:
         return await message.reply(f'❗️ <b>Вы не ввели сумму ставки, либо же то, на что хотите поставить - </b> <code>дайк 10к [к/в]</code> ', parse_mode='html')
      except ValueError:
         return await message.reply(f'❗️ <b>Не правильно введены аргументы - <code>дайк [сумма] [к/в]</code></b>', parse_mode='html')
          

##################################################КАЗИНО############################################

###########################################СПИН#############################################
    if message.text.lower().startswith("спин"):
        balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
        balance = int(balance[0])
        games = cursor.execute("SELECT game from users where user_id = ?", (message.from_user.id,)).fetchone()
        games = int(games[0])

        balance2 = '{:,}'.format(balance).replace(',', '.')
        msg = message
        user_id = msg.from_user.id
        chat_id = message.chat.id
        win = ['🙂', '😋', '😄', '🤑', '😃']
        loser = ['😔', '😕', '😣', '😞', '😢']
        rwin = random.choice(win)
        rloser = random.choice(loser)
        msg = message
        user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
        user_name = str(user_name[0])

        user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
        user_status = str(user_status[0])

        name = msg.from_user.full_name
        su = msg.text.split()[1]
        su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
        su3 = float(su2)
        summ = int(su3)

        summ2 = '{:,}'.format(summ).replace(',', '.')
        balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
        balance = round(int(balance[0]))

        if user_status in ['Titanium', 'Deluxe', 'Vip']:
           period = 3
           tp = 'секунды'
        elif user_status in ['Chem', 'Korol', 'Donater']:
           period = 2
           tp = 'секунды'
        elif user_status in ['Admin', 'Helper_Admin', 'Owner']:
           period = 1
           tp = 'секунду'
        else:
           period = 5
           tp = 'секунд'
         
        get = cursor.execute("SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
        last_stavka = f"{int(get[0])}"
        stavkatime = time.time() - float(last_stavka)
        if stavkatime > period:
            if balance >= summ:
                if summ > 0:
                    rx1 = await message.reply_dice(emoji="🎰")
                    rx = rx1.dice.value
                    if int(rx) in range(0, 38):
                        c = Decimal(summ * 0)
                        c2 = round(c)
                        c2 = '{:,}'.format(c2).replace(',', '.')

                        await bot.send_message(chat_id,
                                               f"<a href='tg://user?id={user_id}'>{user_name}</a>, ваша ствака умножилась на x0\n🎟️ Вы проиграли -{summ2}$ {rloser}",
                                               parse_mode='html')
                        cursor.execute(
                            f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"')
                        cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = "{user_id}"')
                        cursor.execute(f'UPDATE bot_time SET stavka_games=? WHERE user_id=?', (time.time(), user_id,))
                        connect.commit()
                        return

        if stavkatime > period:
            if balance >= summ:
                if summ > 0:
                    if int(rx) in range(38,50):
                        c = Decimal(summ * 1.25)
                        c2 = round(c)
                        c2 = '{:,}'.format(c2).replace(',', '.')
                        await message.bot.send_message(cfg.log_group, f"<a href='tg://user?id={user_id}'>{user_name}</a>, ваша ствака умножилась на x1.25\n🏅 Выигрыш: {rwin} - {c2}$", parse_mode='html')
                        
                        await bot.send_message(chat_id,
                                               f"<a href='tg://user?id={user_id}'>{user_name}</a>, ваша ствака умножилась на x1.25\n🏅 Выигрыш: + {c2}$ {rwin}",
                                               parse_mode='html')
                        cursor.execute(
                            f'UPDATE users SET balance = {(balance - summ) + (summ * 1.25)} WHERE user_id = "{user_id}"')
                        cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = "{user_id}"')
                        cursor.execute(f'UPDATE bot_time SET stavka_games=? WHERE user_id=?', (time.time(), user_id,))
                        connect.commit()
                        return
        if stavkatime > period:
            if balance >= summ:
                if summ > 0:
                    if int(rx) in range(51, 60):
                        c = Decimal(summ * 2)
                        c2 = round(c)
                        c2 = '{:,}'.format(c2).replace(',', '.')
                        await message.bot.send_message(cfg.log_group, f"<a href='tg://user?id={user_id}'>{user_name}</a>, ваша ствака умножилась на x2\n🏅 Выигрыш: + {c2}$ {rwin}",
                                               parse_mode='html')
                        await bot.send_message(chat_id,
                                               f"<a href='tg://user?id={user_id}'>{user_name}</a>, ваша ствака умножилась на x2\n🏅 Выигрыш:  + {c2}$ {rwin}",
                                               parse_mode='html')
                        cursor.execute(
                            f'UPDATE users SET balance = {(balance - summ) + (summ * 2)} WHERE user_id = "{user_id}"')
                        cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = "{user_id}"')
                        cursor.execute(f'UPDATE bot_time SET stavka_games=? WHERE user_id=?', (time.time(), user_id,))
                        connect.commit()
                        return                        
        if stavkatime > period:
            if balance >= summ:
                if summ > 0:
                    if int(rx) ==61:
                        c = Decimal(summ * 5)
                        c2 = round(c)
                        c2 = '{:,}'.format(c2).replace(',', '.')
                        await message.bot.send_message(cfg.log_group, f"<a href='tg://user?id={user_id}'>{user_name}</a>, ваша ствака умножилась на x5\n🏅 Выйгрыш составляет: +{c2}$ {rwin}",
                                               parse_mode='html')
                        await bot.send_message(chat_id,
                                               f"<a href='tg://user?id={user_id}'>{user_name}</a>, ваша ствака умножилась на x5\n🏅 Выйгрыш составляет: +{c2}$ {rwin}",
                                               parse_mode='html')
                        cursor.execute(
                            f'UPDATE users SET balance = {(balance - summ) + (summ * 5)} WHERE user_id = "{user_id}"')
                        cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = "{user_id}"')
                        cursor.execute(f'UPDATE bot_time SET stavka_games=? WHERE user_id=?', (time.time(), user_id,))
                        connect.commit()
                        return
                elif summ <= 1:
                    await bot.send_message(chat_id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, нельзя ставить отрицательное число! {rloser}",
                                           parse_mode='html')
            elif int(balance) <= int(summ):
                await bot.send_message(chat_id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
        else:
            await bot.send_message(chat_id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, извини. но играть можно только каждые <b>{period} {tp}</b>. {rloser}",
                                       parse_mode='html')


########################################ДАРТС################################################    
    if message.text.lower().startswith('дартс'):
       msg = message
       user_id = msg.from_user.id
       chat_id = message.chat.id

       win = ['🙂', '😋', '😄', '🤑', '😃']
       loser = ['😔', '😕', '😣', '😞', '😢']
       rand = random.randint(1,6)
       rwin = random.choice(win)
       rloser = random.choice(loser)

       msg = message
       name1 = message.from_user.get_mention(as_html=True)
       name = msg.from_user.last_name
       su = msg.text.split()[1]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       su3 = float(su2)
       summ = int(su3)
       games = cursor.execute("SELECT game from users where user_id = ?", (message.from_user.id,)).fetchone()
       games = int(games[0])
       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       period = 5
       get = cursor.execute("SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = f"{int(get[0])}"
       stavkatime = time.time() - float(last_stavka)
       if stavkatime > period:
          if balance >= summ:
             if summ > 0:
                rx1 = await message.reply_dice(emoji="🎯")
                rx = rx1.dice.value
                if int(rx) == 1:
                    c = Decimal(summ * 0)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, мимо цели\n🎟️ Вы проиграли: {c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 0)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')            
                    connect.commit()
                    return
                if int(rx) == 2:
                    c = Decimal(summ * 0)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, мимо!\n🎟️ Вы проиграли: {c2}$ {rloser}',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 0)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()
                    return
                if int(rx) == 3:
                    c = Decimal(summ * 0.5)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, еще немного!\n🎟️ Вы проиграли: {c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 0.5)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()
                    return
                if int(rx) == 4:
                    c = Decimal(summ * 1)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, очень близко!\n🎟 Ваши деньги остаются при вас',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()
                    return
                if int(rx) == 5:
                    c = Decimal(summ * 1.5)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await message.bot.send_message(cfg.log_group, f':<a href="tg://user?id={user_id}">{user_name}</a>, Почти в цель!\n🎟 Вы выиграли: {c2}$',
                                                   parse_mode='html')
                    await bot.send_message(chat_id, f':<a href="tg://user?id={user_id}">{user_name}</a>, Почти в цель!\n🎟 Вы выиграли: {c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 1.5)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()
                    return
                if int(rx) == 6:
                    c = Decimal(summ * 3)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await message.bot.send_message(cfg.log_group, f':<a href="tg://user?id={user_id}">{user_name}</a>, Точно в цель!!!\n🎟 Выигрыш составляет: {c2}$',
                                                   parse_mode='html')
                    await bot.send_message(chat_id, f':<a href="tg://user?id={user_id}">{user_name}</a>, Точно в цель!!!\n🎟 Выигрыш составляет: {c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 3)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()             
             
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя ставить отрицательное число", parse_mode='html')     
          else:
             await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нехватает средств", parse_mode='html')     
       else:
          await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, играть можно раз в 5 секунд", parse_mode='html')


########################################БАСКЕТБОЛ################################################    
    if message.text.lower().startswith('баскетбол'):
       msg = message
       user_id = msg.from_user.id
       chat_id = message.chat.id

       win = ['🙂', '😋', '😄', '🤑', '😃']
       loser = ['😔', '😕', '😣', '😞', '😢']
       rand = random.randint(1,6)
       rwin = random.choice(win)
       rloser = random.choice(loser)

       msg = message
       name1 = message.from_user.get_mention(as_html=True)
       name = msg.from_user.last_name
       su = msg.text.split()[1]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       su3 = float(su2)
       summ = int(su3)
       games = cursor.execute("SELECT game from users where user_id = ?", (message.from_user.id,)).fetchone()
       games = int(games[0])
       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       period = 5
       get = cursor.execute("SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = f"{int(get[0])}"
       stavkatime = time.time() - float(last_stavka)
       if stavkatime > period:
          if balance >= summ:
             if summ > 0:
                rx1 = await message.reply_dice(emoji="🏀")
                rx = rx1.dice.value
                if int(rx) == 1:
                    c = Decimal(summ * 2)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await message.bot.send_message(cfg.log_group, f'<a href="tg://user?id={user_id}">{user_name}</a>, невероятно,мяч в кольце\n🏅 Выйгрыш составляет: +{c2}$',
                                                   parse_mode='html')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, невероятно,мяч в кольце\n🏅 Выйгрыш составляет: +{c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 2)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')            
                    connect.commit()
                    return
                if int(rx) == 2:
                    c = Decimal(summ * 0)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, Судья не засчитал!\n🎫 Вы проиграли: -{c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 0)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()
                    return
                if int(rx) == 3:
                    c = Decimal(summ * 0.5)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, мяч не попал в кольцо!\n🎫 Вы проиграли: -{c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 0.5)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()
                    return
                if int(rx) == 4:
                    c = Decimal(summ * 1)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, очень близко кольцо!\n🎫 Ваши деньги остаются при вас',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()
                    return
                if int(rx) == 5:
                    c = Decimal(summ * 1.5)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await message.bot.send_message(cfg.log_group, f':<a href="tg://user?id={user_id}">{user_name}</a>, Судья не увидел и засчитал!!\n🎫 Вы выиграли: {c2}$',
                                                   parse_mode='html')
                    await bot.send_message(chat_id, f':<a href="tg://user?id={user_id}">{user_name}</a>, Судья не увидел и засчитал!!\n🎫 Вы выиграли: {c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 1.5)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()
                    return
                if int(rx) == 6:
                    c = Decimal(summ * 3)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await message.bot.send_message(cfg.log_group, f':<a href="tg://user?id={user_id}">{user_name}</a>, невероятно,мяч в кольце\n🏅 Выйгрыш составляет: +{c2}$',
                                                   parse_mode='html')
                    await bot.send_message(chat_id, f':<a href="tg://user?id={user_id}">{user_name}</a>, невероятно,мяч в кольце\n🏅 Выйгрыш составляет: +{c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 3)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()             
             
             else:
                await bot.send_message(message.chat.id, f"🏀 | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя ставить отрицательное число", parse_mode='html')     
          else:
             await bot.send_message(message.chat.id, f"🏀 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нехватает средств", parse_mode='html')     
       else:
          await bot.send_message(message.chat.id, f"🏀 | <a href='tg://user?id={user_id}'>{user_name}</a>, играть можно раз в 5 секунд", parse_mode='html')
                    

#################################################### ФУТБОЛ ########################################
    if message.text.lower().startswith('футбол'):
       msg = message
       user_id = msg.from_user.id
       chat_id = message.chat.id

       win = ['🙂', '😋', '😄', '🤑', '😃']
       loser = ['😔', '😕', '😣', '😞', '😢']
       rand = random.randint(1,6)
       rwin = random.choice(win)
       rloser = random.choice(loser)
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]

       msg = message
       name1 = message.from_user.get_mention(as_html=True)
       name = msg.from_user.last_name
       su = msg.text.split()[1]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       su3 = float(su2)
       summ = int(su3)
       games = cursor.execute("SELECT game from users where user_id = ?", (message.from_user.id,)).fetchone()
       games = int(games[0])
       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       period = 5
       get = cursor.execute("SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = f"{int(get[0])}"
       stavkatime = time.time() - float(last_stavka)
       if stavkatime > period:
          if balance >= summ:
             if summ > 0:
                rx1 = await message.reply_dice(emoji="⚽")
                rx = rx1.dice.value
                if int(rx) == 1:
                    c = Decimal(summ * 2)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await message.bot.send_message(cfg.log_group, f'<a href="tg://user?id={user_id}">{user_name}</a>, невероятно, мяч в воротах\n🏅 Выйгрыш составляет: +{c2}$',
                                                   parse_mode='html')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, невероятно, мяч в воротах\n🏅 Выйгрыш составляет: +{c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 2)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')            
                    connect.commit()
                    return
                if int(rx) == 2:
                    c = Decimal(summ * 0)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, Судья не засчитал!\n🎫 Вы проиграли: -{c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 0)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()
                    return
                if int(rx) == 3:
                    c = Decimal(summ * 0.5)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, мяч не попал в воротах!\n🎫 Вы проиграли: -{c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 0.5)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()
                    return
                if int(rx) == 4:
                    c = Decimal(summ * 1)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, очень близко!\n🎫 Ваши деньги остаются при вас',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()
                    return
                if int(rx) == 5:
                    c = Decimal(summ * 1.5)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await message.bot.send_message(cfg.log_group, f'<a href="tg://user?id={user_id}">{user_name}</a>, Судья не увидел и засчитал!!\n🎫 Вы выиграли: {c2}$',
                                                   parse_mode='html')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, Судья не увидел и засчитал!!\n🎫 Вы выиграли: {c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 1.5)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()
                    return
                if int(rx) == 6:
                    c = Decimal(summ * 3)
                    c2 = round(c)
                    c2 = '{:,}'.format(c2).replace(',', '.')
                    await message.bot.send_message(cfg.log_group, f'<a href="tg://user?id={user_id}">{user_name}</a>, невероятно, мяч в девятке!\n🏅 Выйгрыш составляет: +{c2}$',
                                                   parse_mode='html')
                    await bot.send_message(chat_id, f'<a href="tg://user?id={user_id}">{user_name}</a>, невероятно, мяч в девятке!\n🏅 Выйгрыш составляет: +{c2}$',
                                                   parse_mode='html')
                    cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 3)} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                    cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    connect.commit()             
             
             else:
                await bot.send_message(message.chat.id, f"⚽ | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя ставить отрицательное число", parse_mode='html')     
          else:
             await bot.send_message(message.chat.id, f"⚽ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нехватает средств", parse_mode='html')     
       else:
          await bot.send_message(message.chat.id, f"⚽ | <a href='tg://user?id={user_id}'>{user_name}</a>, играть можно раз в 5 секунд", parse_mode='html')
              
                            
##################################################Бой############################################
    
    if message.text.lower().startswith("бой"):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       user_id = message.from_user.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))

       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       c = 1
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11

       summ5 = message.text.split()[1]
       
       summ4 = (summ5).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000').replace('т','000000000000')
       summ3 = float(summ4)
       summ = int(summ3)
       summ2 = '{:,}'.format(summ).replace(',', '.')
       period = 5
       win = ['🙂', '😋', '😄', '🤑', '😃']
       rwin = random.choice(win)      
       games = cursor.execute("SELECT game from users where user_id = ?", (message.from_user.id,)).fetchone()
       games = int(games[0])
       get = cursor.execute("SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       rhp = random.randint(10, 20)
       reat = random.randint(10, 20)
       rmood = random.randint(10, 20)
       last_stavka = f"{int(get[0])}"
       stavkatime = time.time() - float(last_stavka)
       coff = random.randint(1,3)
       period1 = 5
       stavkatime1 = period1

       if time.time() >= stavkatime1:
          pass
       else:
          return

       period2 = 5
       stavkatime2 = period2

       if time.time() >= stavkatime2:
          pass
       else:
          return

       period3 = 5
       stavkatime3 = period3

       if time.time() >= stavkatime3:
          pass
       else:
          return
       if stavkatime > period:
          if balance >= summ:
             if summ > 0:
                if int(pets) >= 1:
                   if pet_hp >= 20:
                      if pet_eat >= 20:
                         if pet_mood >= 20:  
                            if coff == 1:
                               c = Decimal(summ * 2)
                               c2 = round(c)
                               c2 = '{0:,}'.format(c2).replace(',', '.')
                               await message.bot.send_message(cfg.log_group, f"🎉 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец победил в сражении! Ваш выигрыш: {c2}\n❤️ | ХП: -{rhp}\n🍗 | Сытость: -{reat}\n☀️ | Настроение: -{rmood}", parse_mode='html')
                               await bot.send_message(chat_id, f"🎉 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец победил в сражении! Ваш выигрыш: {c2}\n❤️ | ХП: -{rhp}\n🍗 | Сытость: -{reat}\n☀️ | Настроение: -{rmood}", parse_mode='html')
                               cursor.execute(f'UPDATE users SET balance = {balance - summ + (summ * 2)} WHERE user_id = "{user_id}"')
                               cursor.execute(f'UPDATE users SET pet_hp = {pet_hp - rhp} WHERE user_id = "{user_id}"')
                               cursor.execute(f'UPDATE users SET pet_eat = {pet_eat - reat} WHERE user_id = "{user_id}"')
                               cursor.execute(f'UPDATE users SET pet_mood = {pet_mood - rmood} WHERE user_id = "{user_id}"')
                               cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = "{user_id}"')
                               cursor.execute(f'UPDATE bot_time SET stavka_games=? WHERE user_id=?', (time.time(), user_id,))
                               connect.commit() 
                               return 
                            else:
                               c = Decimal(summ)
                               c2 = round(c)
                               c2 = '{0:,}'.format(c2).replace(',', '.')
                               await bot.send_message(chat_id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец проиграл в сражении! Ваш проигрыш: {c2}\n❤️ | ХП: -{rhp}\n🍗 | Сытость: -{reat}\n☀️ | Настроение: -{rmood}", parse_mode='html')
                               cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"')
                               cursor.execute(f'UPDATE users SET pet_hp = {pet_hp - rhp} WHERE user_id = "{user_id}"')
                               cursor.execute(f'UPDATE users SET pet_eat = {pet_eat - reat} WHERE user_id = "{user_id}"')
                               cursor.execute(f'UPDATE users SET pet_mood = {pet_mood - rmood} WHERE user_id = "{user_id}"')
                               cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = "{user_id}"')
                               cursor.execute(f'UPDATE bot_time SET stavka_games=? WHERE user_id=?', (time.time(), user_id,))
                               connect.commit() 
                         if pet_mood == 0:
                            await bot.send_message(chat_id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вашего питомца нету настроения! {rloser}", parse_mode='html')
                      if pet_eat == 0:
                         await bot.send_message(chat_id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец голоден! {rloser}", parse_mode='html')
                   if pet_hp == 0:
                      await bot.send_message(chat_id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вашего питомца недостаточно здоровья! {rloser}", parse_mode='html')
                if int(pets) == 0:
                   await bot.send_message(chat_id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету питомца! {rloser}", parse_mode='html') 
             elif summ <= 0:
                  await bot.send_message(chat_id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя ставить отрицательное число! {rloser}", parse_mode='html')                                                    
          elif int(balance) <= int(summ):
               await bot.send_message(chat_id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
       else:
        await bot.send_message(chat_id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, играть можно раз в 5 секунд! {rloser}", parse_mode='html')


##############################################ОХОТА##################################################
    if message.text.lower().startswith("охота"):
       msg = message
       user_id = msg.from_user.id
       
       win = ['🙂', '😋', '😄', '🤑', '😃']
       loser = ['😔', '😕', '😣', '😞', '😢']
       rx = random.randint(0,110)
       rand = random.randint(1,4)
       rwin = random.choice(win)
       rloser = random.choice(loser)
       
       games = cursor.execute("SELECT game from users where user_id = ?", (message.from_user.id,)).fetchone()
       games = int(games[0])

       user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
       user_status = str(user_status[0])

       su = msg.text.split()[1]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       su3 = float(su2)
       summ = int(su3)
       summ2 = '{:,}'.format(summ).replace(',', '.')

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])


       rx = random.randint(0, 930)
 
       if user_status in ['Titanium', 'Deluxe', 'Vip']:
          period = 3
          tp = 'секунды'
       elif user_status in ['Chem', 'Korol', 'Donater']:
          period = 2
          tp = 'секунды'
       elif user_status in ['Admin', 'Helper_Admin', 'Owner']:
          period = 1
          tp = 'секунду'
       else:
          period = 5
          tp = 'секунд'

       get = cursor.execute("SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = f"{int(get[0])}"
       stavkatime = time.time() - float(last_stavka)
       if stavkatime > period:
          if balance >= summ:
             if summ > 0:
                if int(rx) in range(0,50):
                   i = summ * 3
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Охота
💸 | Ставка: {summ2}$
💡 | Выводы: Вы поймали медведя! 🐻
{rwin} | Выигрыш: {i3}$ [3X] 
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 3)} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(51,150):
                   i = summ - summ * 0.25
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Охота
💸 | Ставка: {summ2}$
💡 | Выводы: Вас покусали обезьяны 🐒
{rloser} | Выигрыш: {i3}$ [0.25X]
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance - (summ * 0.25)} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(151,300):
                   i = summ - summ * 0.5
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Охота
💸 | Ставка: {summ2}$
💡 | Выводы: Вас покусали мыши 🐭
{rloser} | Выигрыш: {i3}$ [0.5X]
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance - (summ * 0.5)} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(301,450):
                   i = summ - summ * 0.75
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Охота
💸 | Ставка: {summ2}$
💡 | Выводы: Вас покусали комары 🦟
{rloser} | Выигрыш: {i3}$ [0.75X]
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance - (summ * 0.75)} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(451,540):
                   i = summ - summ * 0
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Охота
💸 | Ставка: {summ2}$
💡 | Выводы: Вас съели! 🦴
{rloser} | Выигрыш: {i3}$ [0X]
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(541,750):
                   i = summ * 1.5
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Охота
💸 | Ставка: {summ2}$
💡 | Выводы: Вы поймали зайца! 🐰
{rwin} | Выигрыш: {i3}$ [1.5X] 
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 1.5)} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(751, 820):
                   i = summ
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Охота
💸 | Ставка: {summ2}$
💡 | Выводы: Вы никого не поймали 🕸
{rwin} | Остаются: {i3}$ [1X] 
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {(balance - summ) + summ} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(821, 830):
                   i = summ * 5
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Охота
💸 | Ставка: {summ2}$
💡 | Выводы: Вы поймали льва! 🦁
{rwin} | Выигрыш: {i3}$ [5X] 
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 5)} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя ставить отрицательное число", parse_mode='html')     
          else:
             await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! У вас нехватает средств!", parse_mode='html')     
       else:
          await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, играть можно раз в {period} {tp} ", parse_mode='html')

###########################################РЫБАЛКА#ИГРА##################################################
    if message.text.lower().startswith("рыбалка"):
       msg = message
       user_id = msg.from_user.id
       
       win = ['🙂', '😋', '😄', '🤑', '😃']
       loser = ['😔', '😕', '😣', '😞', '😢']
       rx = random.randint(0,110)
       rand = random.randint(1,4)
       rwin = random.choice(win)
       rloser = random.choice(loser)
       
       games = cursor.execute("SELECT game from users where user_id = ?", (message.from_user.id,)).fetchone()
       games = int(games[0])

       user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
       user_status = str(user_status[0])

       su = msg.text.split()[1]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       su3 = float(su2)
       summ = int(su3)
       summ2 = '{:,}'.format(summ).replace(',', '.')

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])


       rx = random.randint(0,920)
 
       if user_status in ['Titanium', 'Deluxe', 'Vip']:
          period = 3
          tp = 'секунды'
       elif user_status in ['Chem', 'Korol', 'Donater']:
          period = 2
          tp = 'секунды'
       elif user_status in ['Admin', 'Helper_Admin', 'Owner']:
          period = 1
          tp = 'секунду'
       else:
          period = 5
          tp = 'секунд'

       get = cursor.execute("SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = f"{int(get[0])}"
       stavkatime = time.time() - float(last_stavka)
       if stavkatime > period:
          if balance >= summ:
             if summ > 0:
                if int(rx) in range(0,90):
                   i = summ * 3
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Рыбалка
💸 | Ставка: {summ2}$
🎣 | Выводы: Вы поймали рыбу-фугу 🐡
{rwin} | Выигрыш: {i3}$ [3X] 
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 3)} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(91,179):
                   i = summ - summ * 0
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Рыбалка
💸 | Ставка: {summ2}$
🎣 | Выводы: Вас съела акула 🦈
{rloser} | Выигрышь: {i3}$ [0X]
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(180,300):
                   i = summ * 1.5
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Рыбалка
💸 | Ставка: {summ2}$
🎣 | Выводы: Вы поймали лосося 🐟 
{rwin} | Выигрыш: {i3}$ [1.5X] 
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 1.5)} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(301,500):
                   i = summ
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Рыбалка
💸 | Ставка: {summ2}$
🎣 | Выводы: Не клюёт ⚓️
{rwin} | Остаются: {i3}$ [1X] 
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {(balance - summ) + summ} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(501,700):
                   i = summ * 0.5
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Рыбалка
💸 | Ставка: {summ2}$
🎣 | Выводы: Вас покусал краб 🦀
{rwin} | Проигрышь: {i3}$ [0.5X] 
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance - (summ * 0.5)} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(701, 800):
                   i = summ * 0.25
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Рыбалка
💸 | Ставка: {summ2}$
🎣 | Выводы: Вас покусали пираньи 🐋
{rwin} | Проигрышь: {i3}$ [0.25X] 
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance - (summ * 0.5)} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(801,900):
                   i = summ * 0.75
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Рыбалка
💸 | Ставка: {summ2}$
🎣 | Выводы: Вас покусала жаба 🐸
{rwin} | Проигрышь: {i3}$ [0.75X] 
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance - (summ * 0.75)} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
                if int(rx) in range(901, 920):
                   i = summ * 5
                   i2 = int(i)
                   i3 = '{:,}'.format(i2).replace(',', '.')
                   await bot.send_message(message.chat.id, f"""
💽 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a> 
🎮 | Игра: Рыбалка
💸 | Ставка: {summ2}$
🎣 | Выводы: Вы поймали осьминога 🐙
{rwin} | Выигрыш: {i3}$ [5X] 
""", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 5)} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                   connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя ставить отрицательное число", parse_mode='html')     
          else:
             await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! У вас нехватает средств!", parse_mode='html')     
       else:
          await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, играть можно раз в <b>{period} {p}</b>", parse_mode='html')

##################################################ФЛИП############################################

    if message.text.lower().startswith('флип'):
      try:
         msg = message
         user_id = msg.from_user.id
         games = cursor.execute("SELECT game from users where user_id = ?", (message.from_user.id,)).fetchone()
         games = int(games[0])

         user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
         user_name = str(user_name[0])

         user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
         user_status = str(user_status[0])

         su = msg.text.split()[1]
         su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace('$', '').replace('м', '000000').replace('все', '{balance}').replace('всё', 'balance')
         su3 = float(su2)
         summ = int(su3)

         summ2 = '{:,}'.format(summ).replace(',', '.')
         
         ore = str(msg.text.split()[2])


         balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
         balance = round(int(balance[0]))
         

         if user_status in ['Korol', 'Donater']:
            period = 2
            tp = 'секунды'
         elif user_status in ['Admin', 'Helper_Admin', 'Owner', 'Rab']:
            period = 1
            tp = 'секунду'
         else:
            period = 5
            tp = 'секунд'



         get = cursor.execute("SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
         last_stavka = f"{int(get[0])}"
         stavkatime = time.time() - float(last_stavka)

         if stavkatime < period:
            return await message.reply(f'❗️ Играть можно раз в <b>{period} {tp}</b>', parse_mode='html')
         else:
            pass
         
         if balance < summ:
            return await message.reply(f'❗️ У вас <b>недостаточно средств</b>', parse_mode='html')
         else:
            pass
         
         if summ <= 0:
            return await message.reply('❗️ Ставка не может быть отрицательным числом <b>[0 и меньше]</b>', parse_mode='html')
         else:
            pass





         if ore in ['орел', 'о', 'Орел', 'О']:
            r = random.randint(0, 101)
            
            if r in range(0, 50):
               stavka = int(summ * 0)
               stavka2 = '{:,}'.format(stavka).replace(',', '.')
               await message.reply(f"Вы поставили <code>{summ2}</code>$ на <b>🦅 Орла</b>, а вам выпала <b>🪙 Решка</b>, вы выиграли <code>{stavka2}</code>$", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
               connect.commit()



            if r in range(51, 101):
               
               stavka = int(summ * 2)
               stavka2 = '{:,}'.format(stavka).replace(',', '.')
               
               await message.reply(f"Вы поставили <code>{summ2}</code>$ на <b>🦅 Орла</b>, а вам выпал <b>🦅 Орел</b>, вы выиграли <code>{stavka2}</code>$", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 2)} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
               connect.commit()
         




         if ore in ['решка', 'р', 'Решка', 'Р']:
            r = random.randint(0, 101)
            
            if r in range(0, 50):
               stavka = int(summ * 0)
               stavka2 = '{:,}'.format(stavka).replace(',', '.')
               await message.reply(f"Вы поставили <code>{summ2}</code>$ на <b>🪙 Решку</b>, а вам выпал <b>🦅 Орел</b>, вы выиграли <code>{stavka2}</code>$", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
               connect.commit()



            if r in range(51, 101):
               
               stavka = int(summ * 2)
               stavka2 = '{:,}'.format(stavka).replace(',', '.')
               
               await message.reply(f"Вы поставили <code>{summ2}</code>$ на <b>🪙 Решку</b>, а вам выпала <b>🪙 Решка</b>, вы выиграли <code>{stavka2}</code>$", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 2)} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE users SET game = {games + 1} WHERE user_id = {user_id}')
               cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
               connect.commit()
      
      except IndexError:
         return await message.reply(f'❗️ <b>Вы не ввели сумму ставки, либо же то, на что хотите поставить - </b> <code>флип 10к [о/р]</code> ', parse_mode='html')
      except ValueError:
         return await message.reply(f'❗️ <b>Не правильно введены аргументы - <code>флип [сумма] [о/р]</code></b>', parse_mode='html')


######
    if message.text.lower() == 'кости':
        msg = message
        user_id = msg.from_user.id
        mci = msg.chat.id
        user_name = cursor.execute(
            "SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
        user_name = str(user_name[0])
        await bot.send_message(mci, f"""<b><a href='tg://user?id={user_id}'>{user_name}</a>, вот информация за игру кости.
        
🎰 | После ставки вам и боту падает рандом число от 1 до 12 и у кого больше выпадет тот и выйграл x2! 
💸 | Минимальная ставка 10,000$

Команда: <code>Кости </code>[Ставка]</b>""", parse_mode='html')
    if message.text.lower() in ['Кости все', 'Кости всё', 'кости все', 'кости всё']:
        msg = message
        user_id = msg.from_user.id
        mci = message.chat.id
        user_name = cursor.execute(
            "SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
        user_name = str(user_name[0])
        balance = cursor.execute(
            "SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
        balance = int(balance[0])
        games = cursor.execute(
            "SELECT games from users where user_id = ?", (message.from_user.id,)).fetchone()
        games = int(games[0])
        rb = random.randint(2, 12)
        rp = random.randint(1, 11)
        period = 9
        su2 = balance
        summ = int(su2)
        summ2 = '{:,}'.format(summ)
        get = cursor.execute(
            "SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
        last_stavka = int(get[0])
        stavkatime = time.time() - float(last_stavka)
        if summ >= 10000:
           if summ >= 0:
                if summ <= balance:
                    if stavkatime >= period:
                        if rb == rp:
                            await bot.send_message(mci, f"""<b>
🎰Игра в кости
👤 | Ник: <a href='tg://user?id={user_id}'>{user_name}</a>
🎲 | Число бота: {rb}
🎲 | Ваше число: {rp}
💸 | Сумма ставки: {summ2}$
❓ | Итоги: ❎Ничья❎
                      </b>""", parse_mode='html')
                            cursor.execute(
                                f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = "{user_id}"')
                            cursor.execute(
                                f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')
                            connect.commit()
                            return
                        if rp > rb:
                            await message.bot.send_message(cfg.log_group, f"""<b>
🎰Игра в кости
👤 | Ник: <a href='tg://user?id={user_id}'>{user_name}</a>
🎲 | Число бота: {rb}
🎲 | Ваше число: {rp}
💸 | Сумма ставки: {summ2}$
❓ | Итоги: ✅Вы выйграли!✅
➕ | {summ2}$
                      </b>""", parse_mode='html')
                            await bot.send_message(mci, f"""<b>
🎰Игра в кости
👤 | Ник: <a href='tg://user?id={user_id}'>{user_name}</a>
🎲 | Число бота: {rb}
🎲 | Ваше число: {rp}
💸 | Сумма ставки: {summ2}$
❓ | Итоги: ✅Вы выйграли!✅
➕ | {summ2}$
                      </b>""", parse_mode='html')
                            cursor.execute(
                                f'UPDATE users SET balance = {balance + summ} WHERE user_id = "{user_id}"')
                            cursor.execute(
                                f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = "{user_id}"')
                            cursor.execute(
                                f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')
                            connect.commit()
                            return
                        if rb > rp:
                            await bot.send_message(mci, f"""<b>
🎰Игра в кости
👤 | Ник: <a href='tg://user?id={user_id}'>{user_name}</a>
🎲 | Число бота: {rb}
🎲 | Ваше число: {rp}
💸 | Сумма ставки: {summ2}$
❓ | Итоги: ⭕Вы проиграли!⭕
➖ | {summ2}$
                      </b>""", parse_mode='html')
                            cursor.execute(
                                f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"')
                            cursor.execute(
                                f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')
                            cursor.execute(
                                f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = "{user_id}"')
                            connect.commit()
                            return
                    else:
                        await message.reply("<b>⏳ | Ставить ставку можно каждые 9 секунд!</b>", parse_mode='html')
                else:
                    await message.reply("<b>💸 | Нельзя ставить ставку выше чем ваш баланс!</b>", parse_mode='html')
    
    if message.text.lower().startswith("кости"):
        msg = message
        user_id = msg.from_user.id
        mci = message.chat.id
        user_name = cursor.execute(
            "SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
        user_name = str(user_name[0])
        balance = cursor.execute(
            "SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
        balance = int(balance[0])
        games = cursor.execute(
            "SELECT games from users where user_id = ?", (message.from_user.id,)).fetchone()
        games = int(games[0])
        su = str(msg.text.split()[1]).replace('k', '000').replace('е', 'e').replace(
            'к', '000').replace('м', '000000').replace('m', '000000').replace('.', '').replace(',', '').replace('$', '').replace(' ', '')
        su2 = float(su)
        summ = int(su2)
        summ2 = '{:,}'.format(summ)
        period = 9
        rb = random.randint(2, 12)
        rp = random.randint(1, 11)
        get = cursor.execute(
            "SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
        last_stavka = int(get[0])
        stavkatime = time.time() - float(last_stavka)
        if summ >= 10000:
            if summ >= 0:
                if summ <= balance:
                    if stavkatime >= period:
                        if rb == rp:
                            await bot.send_message(mci, f"""<b>
🎰Игра в кости
👤 | Ник: <a href='tg://user?id={user_id}'>{user_name}</a>
🎲 | Число бота: {rb}
🎲 | Ваше число: {rp}
💸 | Сумма ставки: {summ2}$
❓ | Итоги: ❎Ничья❎
                      </b>""", parse_mode='html')
                            cursor.execute(
                                f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = "{user_id}"')
                            cursor.execute(
                                f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')
                            connect.commit()
                            return
                        if rp > rb:
                            await message.bot.send_message(cfg.log_group, f"""<b>
🎰Игра в кости
👤 | Ник: <a href='tg://user?id={user_id}'>{user_name}</a>
🎲 | Число бота: {rb}
🎲 | Ваше число: {rp}
💸 | Сумма ставки: {summ2}$
❓ | Итоги: ✅Вы выйграли!✅
➕ | {summ2}$
                      </b>""", parse_mode='html')
                            await bot.send_message(mci, f"""<b>
🎰Игра в кости
👤 | Ник: <a href='tg://user?id={user_id}'>{user_name}</a>
🎲 | Число бота: {rb}
🎲 | Ваше число: {rp}
💸 | Сумма ставки: {summ2}$
❓ | Итоги: ✅Вы выйграли!✅
➕ | {summ2}$
                      </b>""", parse_mode='html')
                            cursor.execute(
                                f'UPDATE users SET balance = {balance + summ} WHERE user_id = "{user_id}"')
                            cursor.execute(
                                f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = "{user_id}"')
                            cursor.execute(
                                f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')
                            connect.commit()
                            return
                        if rb > rp:
                            await bot.send_message(mci, f"""<b>
🎰Игра в кости
👤 | Ник: <a href='tg://user?id={user_id}'>{user_name}</a>
🎲 | Число бота: {rb}
🎲 | Ваше число: {rp}
💸 | Сумма ставки: {summ2}$
❓ | Итоги: ⭕Вы проиграли!⭕
➖ | {summ2}$
                      </b>""", parse_mode='html')
                            cursor.execute(
                                f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"')
                            cursor.execute(
                                f'UPDATE users SET games = {games + 1} WHERE user_id = "{user_id}"')
                            cursor.execute(
                                f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = "{user_id}"')
                            connect.commit()
                            return
                    else:
                        await message.reply("<b>⏳ | Ставить ставку можно каждые 9 секунд!</b>", parse_mode='html')
                else:
                    await message.reply("<b>💸 | Нельзя ставить ставку выше чем ваш баланс!</b>", parse_mode='html')
            else:
                await message.reply("<b>💸 | Нельзя ставить ставку выше чем 100,000,000,000,000$!</b>", parse_mode='html')
        else:
            await message.reply("<b>💸 | Нельзя ставить ставку ниже чем 10,000$!</b>", parse_mode='html')


##################################################РУЛЕТКА##########################################################

    if message.text.lower().startswith('рулетка'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
       user_status = user_status[0]

       game = cursor.execute("SELECT game from users where user_id = ?", (message.from_user.id,)).fetchone()
       game = int(game[0])

       black_red = str(message.text.split()[1])
       su = msg.text.split()[2]
       su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       su3 = float(su2)
       summ = int(su3)

       balance2 = '{:,}'.format(balance).replace(',', '.')

       period = 5
       
       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       get = cursor.execute("SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = int(get[0])
       stavkatime = time.time() - float(last_stavka)
       if balance >= summ:
        if summ > 0:
          if black_red in ['ч',"черное","Ч", "Черное"]:
             rx = random.randint(0,1000)

             if rx in range(0,850):
                await bot.send_message(message.chat.id, f"""
<a href='tg://user?id={user_id}'>{user_name}</a>
🖲 Выпало - 🔴 
⚫️ Проигрыш - 0$
               """, parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET game = {game + 1} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                connect.commit()
             if rx in range(851, 999):
                summ3 = summ * 2
                summ4 = '{:,}'.format(summ3).replace(',', '.')
                await message.bot.send_message(cfg.log_group, f"""
<a href='tg://user?id={user_id}'>{user_name}</a>
🖲 Выпало - ⚫️
✅ Выигрыш -  {summ4}$
               """, parse_mode='html')  

                await bot.send_message(message.chat.id, f"""
<a href='tg://user?id={user_id}'>{user_name}</a>
🖲 Выпало - ⚫️
✅ Выигрыш -  {summ4}$
               """, parse_mode='html')  
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance + summ3} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET game = {game + 1} WHERE user_id = {user_id}')
                cursor.exencute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                connect.commit()   
             if rx == 1000:

                await bot.send_message(message.chat.id, f"""
<a href='tg://user?id={user_id}'>{user_name}</a>
🖲 Выпало - 🟢
⚫️ Проигрыш - 0$
               """, parse_mode='html')   
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET game = {game + 1} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                connect.commit() 
          if black_red in ['к',"красное","К", "Красное"]:
             rx = random.randint(0,1000)

             if rx in range(0,850):
                await bot.send_message(message.chat.id, f"""
<a href='tg://user?id={user_id}'>{user_name}</a>
🖲 Выпало - ⚫️ 
🔴 Проигрыш - 0$
               """, parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET game = {game + 1} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                connect.commit()
             if rx in range(851, 999):

                await bot.send_message(message.chat.id, f"""
<a href='tg://user?id={user_id}'>{user_name}</a>
🖲 Выпало - 🟢
🔴 Проигрыш - 0$
               """, parse_mode='html')   
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET game = {game + 1} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                connect.commit()
             if rx == 1000:
                summ3 = summ * 2
                summ4 = '{:,}'.format(summ3).replace(',', '.')
                await message.bot.send_message(cfg.log_group, f"""
<a href='tg://user?id={user_id}'>{user_name}</a>
🖲 Выпало - 🔴
✅ Выигрыш - {summ4}$
               """, parse_mode='html')  

                await bot.send_message(message.chat.id, f"""
<a href='tg://user?id={user_id}'>{user_name}</a>
🖲 Выпало - 🔴
✅ Выигрыш - {summ4}$
               """, parse_mode='html')  
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance + summ3} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET game = {game + 1} WHERE user_id = {user_id}')
                cursor.exencute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                    

##################################################НИК############################################         
         
    if message.text.startswith('Сменить ник') or message.text.startswith('сменить ник'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       usern = cursor.execute("SELECT user_name from ivent where user_id = ?",(message.from_user.id,)).fetchone()
       usern = usern[0]
       chat_id = message.chat.id
       user_id = message.from_user.id
       name = message.text.split()[2:]
       name2 = ' '.join(name)
       full_name = (name2)

       if len(full_name) < 5:
         return await message.reply('❗️ Название ника должна быть больше <b>4 символов</b>', parse_mode='html')
       elif len(full_name) > 20:
         return await message.reply(f'❗️ Название ника должна быть меньше <b>20 символов</b>', parse_mode='html')
       else:
         pass

       all_name = cursor.execute('SELECT user_name from users').fetchall()
       all_name2 = []

       for all_name3 in all_name:
         all_name2.append(all_name3[0])
      
       if full_name in all_name2:
         return await message.reply(f'❗️ Ник с названием «<b>{full_name}</b>» уже существует', parse_mode='html')
       else:
         pass

       await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a> , вы успешно поменяли свое имя на: {full_name}!", parse_mode='html')
       cursor.execute(f'UPDATE users SET user_name = \"{full_name}\" WHERE user_id = "{user_id}"')
       cursor.execute(f'UPDATE ivent SET user_name = \"{full_name}\" WHERE user_id = "{user_id}"')
       all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
       all_family2 = []
       proverka_family = 0
       for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])
          
       user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()
        
       if user_id_family != None:
         cursor.execute(f'UPDATE user_family SET user_name = \"{name}\" WHERE user_id = "{user_id}"')
       else:
         pass
          
       if user_id in all_family2:
         cursor.execute(f'UPDATE family SET owner_name = \"{name}\" WHERE owner_id = "{user_id}"')
       else:
         pass
          
##################################################КРИПТО###########################################
    if message.text.lower() == 'лайткоин курс':
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       c = api.get_price(ids='ethereum', vs_currencies='rub')['ethereum']['rub']
       c2 = int(c)
       c3 = '{:,}'.format(c2)

       lite_photo = open('imges/lite.jpg', 'rb')
       await bot.send_photo(chat_id=message.chat.id, photo=lite_photo, caption=f"""🟦 <a href='tg://user?id={user_id}'>{user_name}</a>, Вот курс лайткоина: {c3}$ 🔹

Чтобы купить 🔹 введите команду:  
Лайткоин купить [количество]

Чтобы продать 🔹 введите команду:  
Лайткоин продать [количество] """, parse_mode='html')


    if message.text.startswith('Лайткоин') or message.text.startswith('лайткоин'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id
       
       i = str(message.text.split()[1])
       d = int(message.text.split()[2])
       d2 = '{:,}'.format(d)
       c = api.get_price(ids='ethereum', vs_currencies='rub')['ethereum']['rub']
       c2 = int(c)
       c3 = '{:,}'.format(c2)

       litecoin = cursor.execute("SELECT litecoin from users where user_id = ?", (message.from_user.id,)).fetchone()
       litecoin = int(litecoin[0])

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))

       summ = d * c2
       summ2 = '{:,}'.format(summ)


       if i == 'купить':
          if summ <= balance:
             if d > 0:
                await bot.send_message(message.chat.id, f" 🔹 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {d2} лайткоина 🔹 за {summ2}$", parse_mode='html')
                cursor.execute(f'UPDATE users SET litecoin = {litecoin + d}  WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE users SET balance = {balance - summ}  WHERE user_id = "{user_id}"')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🔹 | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя покупать отрицательное число ", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"🔹 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств ", parse_mode='html')
       if i == 'продать':
          if d <= litecoin:
             if d > 0:
                await bot.send_message(message.chat.id, f" 🔹 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали {d2} лайткоина 🔹 за {summ2}$", parse_mode='html')
                cursor.execute(f'UPDATE users SET litecoin = {litecoin - d}  WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE users SET balance = {balance + summ}  WHERE user_id = "{user_id}"')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🔹 | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя покупать отрицательное число ", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"🔹 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств ", parse_mode='html')
    
        
    if message.text.lower() == 'биткоин курс':
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       c = api.get_price(ids='bitcoin', vs_currencies='rub')['bitcoin']['rub']
       c2 = int(c)
       c3 = '{:,}'.format(c2).replace(",", ".")

       lite_photo = open('imges/btc.jpg', 'rb')
       await bot.send_photo(chat_id=message.chat.id, photo=lite_photo, caption=f"""🌐 | <a href='tg://user?id={user_id}'>{user_name}</a>,Вот курс биткоина: {c3}$ 🌐

Чтобы купить 🌐 введите команду:  
Биткоин купить [количество]

Чтобы продать 🌐 введите команду:  
Биткоин продать [количество] """, parse_mode='html')


    if message.text.startswith('Биткоин') or message.text.startswith('биткоин'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id
       
       i = str(message.text.split()[1])
       d = int(message.text.split()[2])
       d2 = '{:,}'.format(d)
       c = api.get_price(ids='bitcoin', vs_currencies='rub')['bitcoin']['rub']
       c2 = int(c)
       c3 = '{:,}'.format(c2)

       bitcoin = cursor.execute("SELECT bitcoin from users where user_id = ?", (message.from_user.id,)).fetchone()
       bitcoin = int(bitcoin[0])

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))

       summ = d * c2
       summ2 = '{:,}'.format(summ)


       if i == 'купить':
          if summ <= balance:
             if d > 0:
                await bot.send_message(message.chat.id, f"🌐 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {d2} btc за {summ2}$", parse_mode='html')
                cursor.execute(f'UPDATE users SET bitcoin = {bitcoin + d}  WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE users SET balance = {balance - summ}  WHERE user_id = "{user_id}"')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🌐️ | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя покупать отрицательное число btc", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"🌐️ | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств", parse_mode='html')
       if i == 'продать':
          if d <= bitcoin:
             if d > 0:
                await bot.send_message(message.chat.id, f"🌐 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали {d2} btc за {summ2}$", parse_mode='html')
                cursor.execute(f'UPDATE users SET bitcoin = {bitcoin - d}  WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE users SET balance = {balance + summ}  WHERE user_id = "{user_id}"')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"️🌐 | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя покупать отрицательное число btc", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"🌐️ | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно btc", parse_mode='html')


    if message.text.lower() == 'эфириум курс':
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       c = api.get_price(ids='bitcoin', vs_currencies='gbp')['bitcoin']['gbp']
       c2 = int(c)
       c3 = '{:,}'.format(c2)

       lite_photo = open('imges/efir.jpg', 'rb')
       await bot.send_photo(chat_id=message.chat.id, photo=lite_photo, caption=f"""🟪 | <a href='tg://user?id={user_id}'>{user_name}</a>,Вот курс эфириума: {c3}$ 🟣

Чтобы купить 🟣 введите команду:  
Эфириум купить [количество]

Чтобы продать 🟣 введите команду:  
Эфириум продать [количество] """, parse_mode='html')


    if message.text.startswith('Эфириум') or message.text.startswith('эфириум'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id
       
       i = str(message.text.split()[1])
       d = int(message.text.split()[2])
       d2 = '{:,}'.format(d)
       c = api.get_price(ids='bitcoin', vs_currencies='gbp')['bitcoin']['gbp']
       c2 = int(c)
       c3 = '{:,}'.format(c2)

       ethereum = cursor.execute("SELECT ethereum from users where user_id = ?", (message.from_user.id,)).fetchone()
       ethereum = int(ethereum[0])

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))

       summ = d * c2
       summ2 = '{:,}'.format(summ)


       if i == 'купить':
          if summ <= balance:
             if d > 0:
                await bot.send_message(message.chat.id, f" 🟣 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {d2} эфириума 🟣 за {summ2}$", parse_mode='html')
                cursor.execute(f'UPDATE users SET ethereum = {ethereum + d}  WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE users SET balance = {balance - summ}  WHERE user_id = "{user_id}"')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🟣 | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя покупать отрицательное число ", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"🟣 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств ", parse_mode='html')
       if i == 'продать':
          if d <= ethereum:
             if d > 0:
                await bot.send_message(message.chat.id, f" 🟣 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали {d2} эфириума 🟣 за {summ2}$", parse_mode='html')
                cursor.execute(f'UPDATE users SET ethereum = {ethereum - d}  WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE users SET balance = {balance + summ}  WHERE user_id = "{user_id}"')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🟣 | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя покупать отрицательное число ", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"🟣 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств ", parse_mode='html')  


    if message.text.lower() == 'фантом курс':
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       c = api.get_price(ids='bitcoin', vs_currencies='usd')['bitcoin']['usd']
       c2 = int(c)
       c3 = '{:,}'.format(c2)

       lite_photo = open('imges/fantom.jpg', 'rb')
       await bot.send_photo(chat_id=message.chat.id, photo=lite_photo, caption=f"""💠 | <a href='tg://user?id={user_id}'>{user_name}</a>, вот курс фантома: {c3}$ 💠

Чтобы купить 💠 введите команду:  
Фантом купить [количество]

Чтобы продать 💠 введите команду:  
Фантом продать [количество] """, parse_mode='html')


    if message.text.startswith('Фантом') or message.text.startswith('фантом'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id
       
       i = str(message.text.split()[1])
       d = int(message.text.split()[2])
       d2 = '{:,}'.format(d)
       c = api.get_price(ids='bitcoin', vs_currencies='usd')['bitcoin']['usd']
       c2 = int(c)
       c3 = '{:,}'.format(c2)

       fantom = cursor.execute("SELECT fantom from users where user_id = ?", (message.from_user.id,)).fetchone()
       fantom = int(fantom[0])

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))

       summ = d * c2
       summ2 = '{:,}'.format(summ)

       if i == 'купить':
          if summ <= balance:
             if d > 0:
                await bot.send_message(message.chat.id, f" 💠 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {d2} фантомов 💠 за {summ2}$", parse_mode='html')
                cursor.execute(f'UPDATE users SET fantom = {fantom + d}  WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE users SET balance = {balance - summ}  WHERE user_id = "{user_id}"')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"💠 | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя покупать отрицательное число ", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"💠 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств ", parse_mode='html')
       if i == 'продать':
          if d <= fantom:
             if d > 0:
                await bot.send_message(message.chat.id, f" 💠 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали {d2} фантомов 💠 за {summ2}$", parse_mode='html')
                cursor.execute(f'UPDATE users SET fantom = {fantom - d}  WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE users SET balance = {balance + summ}  WHERE user_id = "{user_id}"')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"💠 | <a href='tg://user?id={user_id}'>{user_name}</a>, нельзя покупать отрицательное число ", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"💠 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств ", parse_mode='html')

#######################################ОГРАБА####ОГРАБИТЬ##################################################
    if message.text.lower() == 'ограбить банк':
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])
       user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
       user_status = user_status[0]
       player=status_users(user_id)
       
       x = random.randint(1,3)
       get = cursor.execute("SELECT stavka_bank FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = int(get[0])
       stavkatime = time.time() - float(last_stavka)
       if user_status in ['Player', 'Vip', 'Titanium', 'Deluxe']:
           period = 86400
           per = '24 часа'
           rx = random.randint(100000000,2500000000)
           rx2 = '{:,}'.format(rx).replace(',', '.')
       elif user_status in ['Chem', 'Korol']:
           period = 43200
           per = '12 часов'
           rx = random.randint(200000000,5000000000)
           rx2 = '{:,}'.format(rx).replace(',', '.')
       elif user_status in ['Donater']:
           period = 21600
           per = '6 часов'
           rx = random.randint(300000000,7500000000)
           rx2 = '{:,}'.format(rx).replace(',', '.')
       elif user_status in ['Admin', 'Owner', 'Helper_Admin']:
           period = 21600
           per = '6 часов'
           rx = random.randint(5000000000,950000000000)
           rx2 = '{:,}'.format(rx).replace(',', '.')
       else:
           period = 600
           per = '10 минут'
           rx = random.randint(100000000000000,250000000000000000000000000)
           rx2 = '{:,}'.format(rx).replace(',', '.')
       if stavkatime > period:
          if int(x) in range(2,3):
             await bot.send_message(message.chat.id, f"🏦 | {player} ➪ <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно ограбили банк на {rx2}$ ✅", parse_mode='html')
             cursor.execute(f'UPDATE users SET balance = {balance + rx} WHERE user_id ="{user_id}"')
             cursor.execute(f'UPDATE bot_time SET stavka_bank = {time.time()} WHERE user_id = "{user_id}"')
             connect.commit()
          else:
             await bot.send_message(message.chat.id, f"🆘 | {player} ➪ <a href='tg://user?id={user_id}'>{user_name}</a>, вам не удалось ограбить банк", parse_mode='html')
             cursor.execute(f'UPDATE bot_time SET stavka_bank = {time.time()} WHERE user_id = "{user_id}"')
       else:
          await bot.send_message(message.chat.id, f"🆘 | {player} ➪ <a href='tg://user?id={user_id}'>{user_name}</a>, грабить банк можно раз в {per}⏳", parse_mode='html')
    
    


############################################ПОПОЛНЕНИЯ###############################################
    
    if message.text.startswith("Пополнить") or message.text.startswith("пополнить"):
        if message.chat.type == 'private':
            user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
            user_name = user_name[0]
            user_id = message.from_user.id
            loser = ['😔', '😕', '😣', '😞', '😢']
            rloser = random.choice(loser)

            try:
                summ = int(message.text.split()[1])
            except:
                await message.reply('‼️  Не хватает аргументов!\nПример: Пополнить число ')
                return

            message_money = int(summ)
            if message_money >= 2:
                comment = str(message.from_user.id) + \
                          "_" + str(random.randint(1000, 9999))
                bill = p2p.bill(amount=message_money,
                                lifetime=15, comment=comment)
                add_check(message.from_user.id,
                          message_money, bill.bill_id)
                await bot.send_message(message.from_user.id,
                                       f"Нажмите на ссылку ниже для оплаты счета\nСсылку:{bill.pay_url}",
                                       reply_markup=buy_menu(url=bill.pay_url, bill=bill.bill_id))
            else:
                await bot.send_message(message.chat.id,
                                       f'‼️ <a href="tg://user?id={user_id}">{user_name}</a>,Минимальная сумма 2 руб{rloser}',
                                       parse_mode='html')

        else:
            loser = ['😔', '😕', '😣', '😞', '😢']
            rloser = random.choice(loser)
            await bot.send_message(message.chat.id,
                                   f'<a href="tg://user?id={user_id}">{user_name}</a>, Пополнить можно только в лс {rloser}',
                                   parse_mode='html')


######################################РП КОМАНДЫ#################################################
    if message.text.lower() in ["рп-команды", "РП-команды", "Рп", "рп"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id
       await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, список РП-команд:\n🤗 | Обнять\n🧊 | Ударить об лёд\n❄️ | Кинуть снежок\n👏 | Похлопать\n👨‍💻 | Заскамить\n☕️ | Пригласить на чай\n👉👌 | Изнасиловать\n🤝 | Взять за руку\n📱 | Подарить айфон\n😬 | Укусить\n🤛 | Ударить\n🤲 | Прижать\n💋 | Чмок\n💋 | Поцеловать\n😼 | Кусь\n🤲 | Прижать\n🔪 | Убить\n🤜 | Уебать\n💰 | Украсть\n🔞 | Выебать\n👅 | Отсосать\n👅 | Отлизать\n🔞 | Трахнуть\n🔥 | Сжечь\n💐 | Подарить цветы", parse_mode='html')

    if message.text.lower() in ["чмок", "Чмок"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"💋 | <a href='tg://user?id={user_id}'>{user_name}</a> чмокнул(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["кусь", "Кусь"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"😼 | <a href='tg://user?id={user_id}'>{user_name}</a> кусьнул(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["обнять", "Обнять"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"🤗 | <a href='tg://user?id={user_id}'>{user_name}</a> обнял(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["подарить цветы", "Подарить цветы"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"💐 | <a href='tg://user?id={user_id}'>{user_name}</a> подарил(-а) цветы <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')

    if message.text.lower() in ["поцеловать", "Поцеловать"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"💋 | <a href='tg://user?id={user_id}'>{user_name}</a> поцеловал(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')

    if message.text.lower() in ["подарить айфон", "Подарить айфон"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"📱 | <a href='tg://user?id={user_id}'>{user_name}</a> подарил(-а) айфон <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["ударить об лед", "Ударить об лед", "Ударить об лёд", "ударить об лёд"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"🧊 | <a href='tg://user?id={user_id}'>{user_name}</a> ударил(-а) головой об лёд <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["ударить", "Ударить"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"🤛 | <a href='tg://user?id={user_id}'>{user_name}</a> ударил(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["заскамить", "Заскамить"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"👨‍💻 | <a href='tg://user?id={user_id}'>{user_name}</a> заскамил(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["прижать", "Прижать"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"🤲 | <a href='tg://user?id={user_id}'>{user_name}</a> прижал(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["укусить", "Укусить"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"😬 | <a href='tg://user?id={user_id}'>{user_name}</a> укусил(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["взять за руку", "Взять за руку"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"🤝 | <a href='tg://user?id={user_id}'>{user_name}</a> взял(-а) за руку <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["кинуть снежок", "Кинуть снежок"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"❄️ | <a href='tg://user?id={user_id}'>{user_name}</a> кинул(-а) снежок в <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["прижать", "Прижать"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"🤲 | <a href='tg://user?id={user_id}'>{user_name}</a> прижал(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["похлопать", "Похлопать"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"👏 | <a href='tg://user?id={user_id}'>{user_name}</a> похлопал(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["изнасиловать", "Изнасиловать"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"👉👌 | <a href='tg://user?id={user_id}'>{user_name}</a> изнасиловал(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["пригласить на чай", "Пригласить на чай"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"☕️ | <a href='tg://user?id={user_id}'>{user_name}</a> пригласил(-а) на чай <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["убить", "Убить"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"🔪 | <a href='tg://user?id={user_id}'>{user_name}</a> убил(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["уебать", "Уебать"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"🤜 | <a href='tg://user?id={user_id}'>{user_name}</a> уебал(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')
    if message.text.lower() in ["украсть", "Украсть"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a> украл(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')

    if message.text.lower() in ["отсосать", "Отсосать"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"👅 | <a href='tg://user?id={user_id}'>{user_name}</a> отсосал(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')

    if message.text.lower() in ["отлизать", "Отлизать"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"👅 | <a href='tg://user?id={user_id}'>{user_name}</a> отлизал(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')

    if message.text.lower() in ["выебать", "Выебать"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"🔞 | <a href='tg://user?id={user_id}'>{user_name}</a> выебал(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')

    if message.text.lower() in ["сжечь", "Сжечь"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"🔥 | <a href='tg://user?id={user_id}'>{user_name}</a> сжёг <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')

    if message.text.lower() in ["трахнуть", "Трахнуть"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_user_name = reply_user_name[0]
       reply = message.reply_to_message
       user_id = message.from_user.id
       reply_user_id = message.reply_to_message.from_user.id
       if reply:
          replyuser = reply.from_user
          await bot.send_message(message.chat.id, f"🔞 | <a href='tg://user?id={user_id}'>{user_name}</a> трахнул(-а) <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>", parse_mode='html')


############################### ВДЗУ - ВЫДАЧА ДЕНЕГ ЗА УЧАСТНИКОВ ################################################
    if message.text.startswith('вдзу статус') or message.text.startswith('Вдзу статус'):

         user_id = message.from_user.id
         user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
         user_name = str(user_name[0])

         status = str(message.text.split()[2])

         if user_id == cfg.owner_id:
            if status == 'выкл':
               cursor.execute(f"UPDATE wdzy SET wdz ='off' WHERE chat_id={message.chat.id}")
               connect.commit()
               text = f'♻️ <b>ВДЗУ выключена </b>'
            elif status == 'вкл':
               cursor.execute(f"UPDATE wdzy SET wdz ='on' WHERE chat_id={message.chat.id}")
               connect.commit()
               text = f'♻️ <b>ВДЗУ включена </b>'
            else:
               text = f'❗️ Не распознано «<b>{status}</b>» | Пример: <code>вдзу</code> <i>[выкл/вкл]</i>'

            await message.reply(text, parse_mode='html')
         else:
            return await message.reply(f'❗️ Данная команда доступна только <b>владельцу бота</b>', parse_mode='html')

    if message.text.startswith('вдзу сумма') or message.text.startswith('Вдзу сумма'):

         user_id = message.from_user.id
         user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
         user_name = str(user_name[0])

         su = message.text.split()[2]
         su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
         su3 = float(su2)
         summ = int(su3)

         if user_id == cfg.owner_id:
            cursor.execute(f'UPDATE wdzy SET summ = {summ} WHERE chat_id={message.chat.id}')
            connect.commit()

            text = f'''
♻️ <b>Обновлена</b> сумма за 1 участника - <code>{'{:,}'.format(summ).replace(',','.')}$</code>
            '''
            await message.reply(text, parse_mode='html')
         else:
            return await message.reply(f'❗️ Данная команда доступна только <b>владельцу бота</b>', parse_mode='html')


    if message.text.startswith('!чат') or message.text.startswith('!Чат'):
         user_id = message.from_user.id

         if user_id == cfg.owner_id:
            if message.text.split()[1]=="бинд":
               wdz=cursor.execute(f"SELECT wdz FROM wdzy WHERE chat_id={message.chat.id}")
               wdz=cursor.fetchone()
               if wdz is None:
                   wdz="off"
                   cursor.execute(f'INSERT INTO wdzy VALUES (?, ?, ?, ?);', (100, wdz, message.chat.id,0,))
                   connect.commit()
                   text = f'''♻️ <b>ВДЗУ привязана к чату </b>'''
                   await message.reply(text, parse_mode='html')

            if message.text.split()[1]=="анбинд":
            	cursor.execute(f"SELECT wdz FROM wdzy WHERE chat_id={message.chat.id}")
            	if cursor.fetchone != None:
            		cursor.execute("DELETE FROM wdzy WHERE chat_id= ?", (message.chat.id,))
            		connect.commit()
            		text = f'''♻️ <b>ВДЗУ отвязана от чата </b>'''
            		await message.reply(text, parse_mode='html')


###############################################БРАК############################################ 
    if message.text.lower() in ["Брак", "брак"]:
       data = await get_rang(message)
       if data is None:
          return await message.reply(f"🚫 <b>Не найден в базе данных.</b>\n\n"
                                   f"/start в лс у бота!")
       user = message.from_user
       usid = user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(usid,)).fetchone()
       user_name = user_name[0]
       reply = message.reply_to_message
       if reply:
          replyuser = reply.from_user
          rid = replyuser.id
          ruser_name = cursor.execute("SELECT user_name from users where user_id = ?",(rid,)).fetchone()
          ruser_name = ruser_name[0] 
          if data[36] == 0:
             if replyuser.id == user.id:
                return await message.reply(f"ℹ️ | Вы не можете сделать брак с самим собой.")
             replydata = await reply_get_rang(message)
             if replydata[36] == 0:
                marry_me.append(user.id)
                marry_rep.append(replyuser.id)
                await bot.send_message(message.chat.id, f"💍 <a href='tg://user?id={rid}'>{ruser_name}</a>, минуточку внимания.\n💖 <a href='tg://user?id={usid}'>{user_name}</a> сделал вам предложение руки и сердца.\n😍 Принять решение можно нажав на одну из кнопок ниже.",  parse_mode='html' , reply_markup=button_marry)
             else:
                replyuser = reply.from_user
                rid = replyuser.id
                repuser_name = cursor.execute("SELECT user_name from users where user_id = ?",(rid,)).fetchone()
                repuser_name = repuser_name[0]
                marry = cursor.execute("SELECT marry FROM users WHERE user_id=?", (rid,)).fetchall()
                marry1 = int(marry[0][0])
                m_name = cursor.execute("SELECT user_name from users where user_id = ?",(marry1,)).fetchone()
                m_name = m_name[0]
                return await message.reply(f"ℹ️ | <a href='tg://user?id={rid}'>{repuser_name}</a> уже находится в браке с <a href='tg://user?id={marry1}'>{m_name}</a>!",  parse_mode='html')
          else:
            user = message.from_user
            usid = user.id
            marry = cursor.execute("SELECT marry FROM users WHERE user_id=?", (usid,)).fetchall()
            marry1 = int(marry[0][0])
            m_name = cursor.execute("SELECT user_name from users where user_id = ?",(marry1,)).fetchone()
            m_name = m_name[0]
            return await message.reply(f"ℹ️ | Вы уже находитесь в браке с <a href='tg://user?id={marry1}'>{m_name}</a>!",  parse_mode='html')

    if message.text.lower() in ["Развод", "развод"]:
       data = await get_rang(message)
       if data is None:
          return await message.reply(f"🚫 <b>Не найден в базе данных.</b>\n\n"
                                     f"/start в лс у бота!")
       user = message.from_user
       name = quote_html(user.full_name)
       if data[36] == 0:
          return await message.reply(f"ℹ️ Вы не состоите не с кем в браке!")
       else:
          marry = cursor.execute("SELECT marry FROM users WHERE user_id=?", (user.id,)).fetchall()
          marred = await bot.get_chat(str(marry[0][0]))
          mname = quote_html(marred.full_name)
          divorce_me.append(user.id)
          divorce_rep.append(marred.id)
          await bot.send_message(message.chat.id, f"📝 Убедить что вы согласны разводится.\n💔 Принять решение можно нажав на одну из кнопок ниже.",  parse_mode='html', reply_markup=button_divorce)

    if message.text.lower() in ["Мой брак", "мой брак"]:
       data = await get_rang(message)
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id
       if data[36] == 0:
          await bot.send_message(message.chat.id, f"💔 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы пока не состоите ни с кем в браке",  parse_mode='html')
       else:
          marry = cursor.execute("SELECT marry FROM users WHERE user_id = ?",(message.from_user.id,)).fetchone()
          marry = int(marry[0])
          mname = cursor.execute("SELECT user_name FROM users WHERE user_id=?", (marry,)).fetchone()
          mname = mname[0]

          get = cursor.execute("SELECT marry_date FROM users WHERE user_id=?", (message.from_user.id,)).fetchall()
          date_time = datetime.fromisoformat(get[0][0])
          times = date_time.strftime( "%d.%m.%Y %H:%M:%S" ) 
          await bot.send_message(message.chat.id, f"❤️ Брак между <a href='tg://user?id={user_id}'>{user_name}</a> и <a href='tg://user?id={marry}'>{mname}</a>:\n📆 Зарегистрирован: {times}",  parse_mode='html')


######################################ПИТОМЦЫ#################################################
    if message.text.lower() in ["питомцы", "Питомцы"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       chat_id = message.chat.id
       user_id = message.from_user.id
       await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, доступные питомцы:\n🐥 1. Цыплёнок - 1.000.000$\n🐈 2. Кот - 100.000.000$\n🐕 3. Пёс - 500.000.000$\n🦜 4. Попугай - 1.000.000.000$\n🦄 5. Единорог - 50.000.000.000$\n🐒 6. Обезьяна - 100.000.000.000$\n🐬 7. Дельфин - 500.000.000.000$\n🐅 8. Тигр - 10.000.000.000.000$\n🐉 9. Дракон - 100.000.000.000.000$\n\n🛒 Для покупки питомца введите: Купить питомца [номер]\nℹ Для просмотра информации о своем питомце введите: Мой питомец", parse_mode='html')

    if message.text.lower() in ["купить питомца 1", "Купить питомца 1"]:     
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 1000000
       c = 1
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if int(pets) == 0:
          if pet1 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🐥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили цыплёнка за 1.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet1 = {pet1 + c} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
                return
          if pet1 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данный питомец! {rloser}", parse_mode='html')     
             return
       if pets == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть питомец! {rloser}", parse_mode='html')     

    if message.text.lower() in ["купить питомца 2", "Купить питомца 2"]:    
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 100000000
       c = 1
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 +pet10 + pet11
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if int(pets) == 0:
          if pet2 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🐈 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили кота за 100.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet2 = {pet2 + c} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
                return
          if pet2 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данный питомец! {rloser}", parse_mode='html')     
             return
       if pets == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть питомец! {rloser}", parse_mode='html')     

    if message.text.lower() in ["купить питомца 3", "Купить питомца 3"]:     
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 500000000
       c = 1
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if int(pets) == 0:
          if pet3 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🐕 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили пса за 500.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet3 = {pet3 + c} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
                return
          if pet3 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данный питомец! {rloser}", parse_mode='html')     
             return
       if pets == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть питомец! {rloser}", parse_mode='html') 

    if message.text.lower() in ["купить питомца 4", "Купить питомца 4"]:   
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 1000000000
       c = 1
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if int(pets) == 0:
          if pet4 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🦜 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили попугая за 1.000.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet4 = {pet4 + c} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
                return
          if pet4 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данный питомец! {rloser}", parse_mode='html')     
             return
       if pets == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть питомец! {rloser}", parse_mode='html') 

    if message.text.lower() in ["купить питомца 5", "Купить питомца 5"]:     
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 50000000000
       c = 1
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if int(pets) == 0:
          if pet5 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🦄 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили единорога за 50.000.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet5 = {pet5 + c} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
                return
          if pet5 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данный питомец! {rloser}", parse_mode='html')     
             return
       if pets == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть питомец! {rloser}", parse_mode='html')  

    if message.text.lower() in ["купить питомца 6", "Купить питомца 6"]:      
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 100000000000
       c = 1
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if int(pets) == 0:
          if pet6 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🐒 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили обезьяну за 100.000.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet6 = {pet6 + c} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
                return
          if pet6 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данный питомец! {rloser}", parse_mode='html')     
             return
       if pets == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть питомец! {rloser}", parse_mode='html')                        

    if message.text.lower() in ["купить питомца 7", "Купить питомца 7"]:    
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 500000000000
       c = 1
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       print(pets)
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if int(pets) == 0:
          if pet7 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🐬 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили дельфина за 500.000.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet7 = {pet7 + c} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
                return
          if pet7 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данный питомец! {rloser}", parse_mode='html')     
             return
       if pets == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть питомец! {rloser}", parse_mode='html') 

    if message.text.lower() in ["купить питомца 8", "Купить питомца 8"]:     
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 10000000000000
       c = 1
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if int(pets) == 0:
          if pet8 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🐅 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили тигра за 10.000.000.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet8 = {pet8 + c} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
                return
          if pet8 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данный питомец! {rloser}", parse_mode='html')     
             return
       if pets == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть питомец! {rloser}", parse_mode='html') 

    if message.text.lower() in ["купить питомца 9", "Купить питомца 9"]:     
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 100000000000000
       c = 1
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if int(pets) == 0:
          if pet9 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🐉 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили дракона за 100.000.000.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet9 = {pet9 + c} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
                return
          if pet9 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данный питомец! {rloser}", parse_mode='html')     
             return
       if pets == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть питомец! {rloser}", parse_mode='html') 

    if message.text.lower() in ["мой питомец", "Мой питомец"]:        
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       user_id = message.from_user.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       if pets == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету питомца! {rloser}", parse_mode='html')    
       if pet1 == 1:
          photo = open('imges/pet1.jpg', 'rb')
          await message.bot.send_photo(chat_id=message.chat.id, photo=photo, caption=f"🐥 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец: цыплёнок \n✏️ | Имя питомца: {pet_name}\n❤️ | ХП: {pet_hp} \n🍗 | Сытость: {pet_eat}\n☀️ | Настроение: {pet_mood} \n\n✏ | Питомец имя [имя] - изменить имя питомца\n❤ | Вылечить питомца - вылечить питомца\n🍗 | Покормить питомца - покормить питомца\n🌳 | Выгулять питомца - поднять настроение питомцу", parse_mode='html')            
       if pet2 == 1:     
          photo = open('imges/pet2.jpg', 'rb')
          await message.bot.send_photo(chat_id=message.chat.id, photo=photo, caption=f"🐈 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец: кот \n✏️ | Имя питомца: {pet_name}\n❤️ | ХП: {pet_hp} \n🍗 | Сытость: {pet_eat}\n☀️ | Настроение: {pet_mood} \n\n✏ | Питомец имя [имя] - изменить имя питомца\n❤ | Вылечить питомца - вылечить питомца\n🍗 | Покормить питомца - покормить питомца\n🌳 | Выгулять питомца - поднять настроение питомцу", parse_mode='html')                    
       if pet3 == 1:   
          photo = open('imges/pet3.jpg', 'rb')
          await message.bot.send_photo(chat_id=message.chat.id, photo=photo, caption=f"🐕 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец: пёс \n✏️ | Имя питомца: {pet_name}\n❤️ | ХП: {pet_hp} \n🍗 | Сытость: {pet_eat}\n☀️ | Настроение: {pet_mood} \n\n✏ | Питомец имя [имя] - изменить имя питомца\n❤ | Вылечить питомца - вылечить питомца\n🍗 | Покормить питомца - покормить питомца\n🌳 | Выгулять питомца - поднять настроение питомцу", parse_mode='html')                            
       if pet4 == 1:           
          photo = open('imges/pet4.jpg', 'rb')
          await message.bot.send_photo(chat_id=message.chat.id, photo=photo, caption=f"🦜 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец: попугай \n✏️ | Имя питомца: {pet_name}\n❤️ | ХП: {pet_hp} \n🍗 | Сытость: {pet_eat}\n☀️ | Настроение: {pet_mood} \n\n✏ | Питомец имя [имя] - изменить имя питомца\n❤ | Вылечить питомца - вылечить питомца\n🍗 | Покормить питомца - покормить питомца\n🌳 | Выгулять питомца - поднять настроение питомцу", parse_mode='html')                            
       if pet5 == 1:
          photo = open('imges/pet5.jpg', 'rb')
          await message.bot.send_photo(chat_id=message.chat.id, photo=photo, caption=f"🦄 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец: единорог \n✏️ | Имя питомца: {pet_name}\n❤️ | ХП: {pet_hp} \n🍗 | Сытость: {pet_eat}\n☀️ | Настроение: {pet_mood} \n\n✏ | Питомец имя [имя] - изменить имя питомца\n❤ | Вылечить питомца - вылечить питомца\n🍗 | Покормить питомца - покормить питомца\n🌳 | Выгулять питомца - поднять настроение питомцу", parse_mode='html')                                       
       if pet6 == 1:
          photo = open('imges/pet6.jpg', 'rb')
          await message.bot.send_photo(chat_id=message.chat.id, photo=photo, caption=f"🐒 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец: обезьяна \n✏️ | Имя питомца: {pet_name}\n❤️ | ХП: {pet_hp} \n🍗 | Сытость: {pet_eat}\n☀️ | Настроение: {pet_mood} \n\n✏ | Питомец имя [имя] - изменить имя питомца\n❤ | Вылечить питомца - вылечить питомца\n🍗 | Покормить питомца - покормить питомца\n🌳 | Выгулять питомца - поднять настроение питомцу", parse_mode='html')                                       
       if pet7 == 1:
          photo = open('imges/lpet7.jpg', 'rb')
          await message.bot.send_photo(chat_id=message.chat.id, photo=photo, caption=f"🐬 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец: дельфин \n✏️ | Имя питомца: {pet_name}\n❤️ | ХП: {pet_hp} \n🍗 | Сытость: {pet_eat}\n☀️ | Настроение: {pet_mood} \n\n✏ | Питомец имя [имя] - изменить имя питомца\n❤ | Вылечить питомца - вылечить питомца\n🍗 | Покормить питомца - покормить питомца\n🌳 | Выгулять питомца - поднять настроение питомцу", parse_mode='html')                                       
       if pet8 == 1:
          photo = open('imges/pet8.jpg', 'rb')
          await message.bot.send_photo(chat_id=message.chat.id, photo=photo, caption=f"🐅 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец: тигр \n✏️ | Имя питомца: {pet_name}\n❤️ | ХП: {pet_hp} \n🍗 | Сытость: {pet_eat}\n☀️ | Настроение: {pet_mood} \n\n✏ | Питомец имя [имя] - изменить имя питомца\n❤ | Вылечить питомца - вылечить питомца\n🍗 | Покормить питомца - покормить питомца\n🌳 | Выгулять питомца - поднять настроение питомцу", parse_mode='html')                                       
       if pet9 == 1: 
          photo = open('imges/pet9.jpg', 'rb')
          await message.bot.send_photo(chat_id=message.chat.id, photo=photo, caption=f"🐉 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец: дракон \n✏️ | Имя питомца: {pet_name}\n❤️ | ХП: {pet_hp} \n🍗 | Сытость: {pet_eat}\n☀️ | Настроение: {pet_mood} \n\n✏ | Питомец имя [имя] - изменить имя питомца\n❤ | Вылечить питомца - вылечить питомца\n🍗 | Покормить питомца - покормить питомца\n🌳 | Выгулять питомца - поднять настроение питомцу", parse_mode='html')                                      
       if pet10 == 1:
          photo = open('imges/pet10.jpg', 'rb')
          await message.bot.send_photo(chat_id=message.chat.id, photo=photo, caption=f"☃️ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец: снеговик \n✏️ | Имя питомца: {pet_name}\n❤️ | ХП: {pet_hp} \n🍗 | Сытость: {pet_eat}\n☀️ | Настроение: {pet_mood} \n\n✏ | Питомец имя [имя] - изменить имя питомца\n❤ | Вылечить питомца - вылечить питомца\n🍗 | Покормить питомца - покормить питомца\n🌳 | Выгулять питомца - поднять настроение питомцу", parse_mode='html')                                       
       if pet11 == 1:
          photo = open('imges/pet11.jpg', 'rb')
          await message.bot.send_photo(chat_id=message.chat.id, photo=photo, caption=f"🐰  | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец: пасхальный кролик \n✏️ | Имя питомца: {pet_name}\n❤️ | ХП: {pet_hp} \n🍗 | Сытость: {pet_eat}\n☀️ | Настроение: {pet_mood} \n\n✏ | Питомец имя [имя] - изменить имя питомца\n❤ | Вылечить питомца - вылечить питомца\n🍗 | Покормить питомца - покормить питомца\n🌳 | Выгулять питомца - поднять настроение питомцу", parse_mode='html') 

    if message.text.lower() in ["вылечить питомца", "Вылечить питомца"]:   
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       user_id = message.from_user.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       c = Decimal((100 - pet_hp) * 10000)
       c3 = '{0:,}'.format(c).replace(',', '.')
       c2 = (100 - pet_hp) * 10000
       hp = 100 - pet_hp
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if pets == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету питомца! {rloser}", parse_mode='html')  
       if pet1 == 1:
          if pet_hp < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы вылечили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {pet_hp + hp} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_hp == 100:
             await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не нуждается в лечении!", parse_mode='html')
       if pet2 == 1:
          if pet_hp < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы вылечили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {pet_hp + hp} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_hp == 100:
             await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не нуждается в лечении!", parse_mode='html')
       if pet3 == 1:
          if pet_hp < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы вылечили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {pet_hp + hp} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_hp == 100:
             await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не нуждается в лечении!", parse_mode='html')
       if pet4 == 1:
          if pet_hp < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы вылечили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {pet_hp + hp} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_hp == 100:
             await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не нуждается в лечении!", parse_mode='html')
       if pet5 == 1:
          if pet_hp < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы вылечили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {pet_hp + hp} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_hp == 100:
             await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не нуждается в лечении!", parse_mode='html')
       if pet6 == 1:
          if pet_hp < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы вылечили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {pet_hp + hp} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_hp == 100:
             await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не нуждается в лечении!", parse_mode='html')
       if pet7 == 1:
          if pet_hp < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы вылечили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {pet_hp + hp} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_hp == 100:
             await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не нуждается в лечении!", parse_mode='html')
       if pet8 == 1:
          if pet_hp < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы вылечили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {pet_hp + hp} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_hp == 100:
             await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не нуждается в лечении!", parse_mode='html')
       if pet9 == 1:
          if pet_hp < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы вылечили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {pet_hp + hp} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_hp == 100:
             await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не нуждается в лечении!", parse_mode='html')
       if pet10 == 1:
          if pet_hp < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы вылечили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {pet_hp + hp} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_hp == 100:
             await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не нуждается в лечении!", parse_mode='html')
       if pet11 == 1:
          if pet_hp < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы вылечили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_hp = {pet_hp + hp} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_hp == 100:
             await bot.send_message(message.chat.id, f"❤ | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не нуждается в лечении!", parse_mode='html')

    if message.text.lower() in ["покормить питомца", "Покормить питомца"]:   
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       user_id = message.from_user.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       c = Decimal((100 - pet_eat) * 10000)
       c3 = '{0:,}'.format(c).replace(',', '.')
       c2 = (100 - pet_eat) * 10000
       eat = 100 - pet_eat
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if pets == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету питомца! {rloser}", parse_mode='html')  
       if pet1 == 1:
          if pet_eat < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы покормили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {pet_eat + eat} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_eat == 100:
             await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не голоден! {rloser}", parse_mode='html')
       if pet2 == 1:
          if pet_eat < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы покормили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {pet_eat + eat} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_eat == 100:
             await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не голоден! {rloser}", parse_mode='html')
       if pet3 == 1:
          if pet_eat < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы покормили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {pet_eat + eat} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_eat == 100:
             await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не голоден! {rloser}", parse_mode='html')
       if pet4 == 1:
          if pet_eat < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы покормили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {pet_eat + eat} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_eat == 100:
             await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не голоден! {rloser}", parse_mode='html')
       if pet5 == 1:
          if pet_eat < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы покормили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {pet_eat + eat} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_eat == 100:
             await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не голоден! {rloser}", parse_mode='html')
       if pet6 == 1:
          if pet_eat < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы покормили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {pet_eat + eat} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_eat == 100:
             await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не голоден! {rloser}", parse_mode='html')
       if pet7 == 1:
          if pet_eat < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы покормили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {pet_eat + eat} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_eat == 100:
             await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не голоден! {rloser}", parse_mode='html')
       if pet8 == 1:
          if pet_eat < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы покормили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {pet_eat + eat} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_eat == 100:
             await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не голоден! {rloser}", parse_mode='html')
       if pet9 == 1:
          if pet_eat < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы покормили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {pet_eat + eat} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_eat == 100:
             await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не голоден! {rloser}", parse_mode='html')
       if pet10 == 1:
          if pet_eat < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы покормили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {pet_eat + eat} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_eat == 100:
             await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не голоден! {rloser}", parse_mode='html')
       if pet11 == 1:
          if pet_eat < 100:
             if c <= balance:
                await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы покормили своего питомца за {c3}!", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - c2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET pet_eat = {pet_eat + eat} WHERE user_id = "{user_id}"')
             if c > balance:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')
          if pet_eat == 100:
             await bot.send_message(message.chat.id, f"🍗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не голоден! {rloser}", parse_mode='html')

    if message.text.lower() in ["выгулять питомца", "Выгулять питомца"]:  
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       user_id = message.from_user.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       c = Decimal((100 - pet_mood) * 10000)
       mood = 100 - pet_mood
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if pets == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету питомца! {rloser}", parse_mode='html')  
       if pet1 == 1:
          if pet_mood < 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, вы выгуляли своего питомца!", parse_mode='html')
             cursor.execute(f'UPDATE users SET pet_mood = {pet_mood + mood} WHERE user_id = "{user_id}"')
          if pet_mood == 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не хочет гулять!", parse_mode='html')
       if pet2 == 1:
          if pet_mood < 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, вы выгуляли своего питомца!", parse_mode='html')
             cursor.execute(f'UPDATE users SET pet_mood = {pet_mood + mood} WHERE user_id = "{user_id}"')
          if pet_mood == 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не хочет гулять!", parse_mode='html')
       if pet3 == 1:
          if pet_mood < 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, вы выгуляли своего питомца!", parse_mode='html')
             cursor.execute(f'UPDATE users SET pet_mood = {pet_mood + mood} WHERE user_id = "{user_id}"')
          if pet_mood == 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не хочет гулять!", parse_mode='html')
       if pet4 == 1:
          if pet_mood < 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, вы выгуляли своего питомца!", parse_mode='html')
             cursor.execute(f'UPDATE users SET pet_mood = {pet_mood + mood} WHERE user_id = "{user_id}"')
          if pet_mood == 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не хочет гулять!", parse_mode='html')
       if pet5 == 1:
          if pet_mood < 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, вы выгуляли своего питомца!", parse_mode='html')
             cursor.execute(f'UPDATE users SET pet_mood = {pet_mood + mood} WHERE user_id = "{user_id}"')
          if pet_mood == 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не хочет гулять!", parse_mode='html')
       if pet6 == 1:
          if pet_mood < 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, вы выгуляли своего питомца!", parse_mode='html')
             cursor.execute(f'UPDATE users SET pet_mood = {pet_mood + mood} WHERE user_id = "{user_id}"')
          if pet_mood == 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не хочет гулять!", parse_mode='html')
       if pet7 == 1:
          if pet_mood < 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, вы выгуляли своего питомца!", parse_mode='html')
             cursor.execute(f'UPDATE users SET pet_mood = {pet_mood + mood} WHERE user_id = "{user_id}"')
          if pet_mood == 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не хочет гулять!", parse_mode='html')
       if pet8 == 1:
          if pet_mood < 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, вы выгуляли своего питомца!", parse_mode='html')
             cursor.execute(f'UPDATE users SET pet_mood = {pet_mood + mood} WHERE user_id = "{user_id}"')
          if pet_mood == 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не хочет гулять!", parse_mode='html')
       if pet9 == 1:
          if pet_mood < 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, вы выгуляли своего питомца!", parse_mode='html')
             cursor.execute(f'UPDATE users SET pet_mood = {pet_mood + mood} WHERE user_id = "{user_id}"')
          if pet_mood == 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не хочет гулять!", parse_mode='html')
       if pet10 == 1:
          if pet_mood < 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, вы выгуляли своего питомца!", parse_mode='html')
             cursor.execute(f'UPDATE users SET pet_mood = {pet_mood + mood} WHERE user_id = "{user_id}"')
          if pet_mood == 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не хочет гулять!", parse_mode='html')
       if pet11 == 1:
          if pet_mood < 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, вы выгуляли своего питомца!", parse_mode='html')
             cursor.execute(f'UPDATE users SET pet_mood = {pet_mood + mood} WHERE user_id = "{user_id}"')
          if pet_mood == 100:
             await bot.send_message(message.chat.id, f"🌳 <a href='tg://user?id={user_id}'>{user_name}</a>, ваш питомец не хочет гулять!", parse_mode='html')

    if message.text.startswith("питомец имя"): 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       user_id = message.from_user.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       name = " ".join(message.text.split()[2:])
       if len(name) <= 20:
          pass
       else: 
          await bot.send_message(message.chat.id, f"ℹ️️ | <a href='tg://user?id={user_id}'>{user_name}</a> , ник питомца не может быть длинее 20 символов!", parse_mode='html')
          return
       if pets == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету питомца! {rloser}", parse_mode='html')
       if pet1 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet2 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet3 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet4 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet5 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet6 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet7 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet8 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet9 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet10 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet11 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')

    if message.text.startswith("Питомец имя"): 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       user_id = message.from_user.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       name = " ".join(message.text.split()[2:])
       if len(name) <= 20:
          pass
       else: 
          await bot.send_message(message.chat.id, f"ℹ️️ | <a href='tg://user?id={user_id}'>{user_name}</a> , ник питомца не может быть длинее 20 символов!", parse_mode='html')
          return
       if len(name) <= 4:
          await bot.send_message(message.chat.id, f"ℹ️️ | <a href='tg://user?id={user_id}'>{user_name}</a> , ник питомца не может быть меньше 5 символов!", parse_mode='html')
          return

       if pets == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету питомца! {rloser}", parse_mode='html')
       if pet1 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet2 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet3 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet4 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet5 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet6 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet7 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet8 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet9 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet10 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')
       if pet11 == 1:
          await bot.send_message(message.chat.id, f"✏️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поменяли имя своего питомца на: {name}!", parse_mode='html')
          cursor.execute(f'UPDATE users SET pet_name = \"{name}\" WHERE user_id = "{user_id}"')

    if message.text.lower() in ["продать питомца", "Продать питомца"]:  
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       pet1 = cursor.execute("SELECT pet1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet1 = int(pet1[0])
       pet2 = cursor.execute("SELECT pet2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet2 = int(pet2[0])
       pet3 = cursor.execute("SELECT pet3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet3 = int(pet3[0])
       pet4 = cursor.execute("SELECT pet4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet4 = int(pet4[0])
       pet5 = cursor.execute("SELECT pet5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet5 = int(pet5[0])
       pet6 = cursor.execute("SELECT pet6 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet6 = int(pet6[0])
       pet7 = cursor.execute("SELECT pet7 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet7 = int(pet7[0])
       pet8 = cursor.execute("SELECT pet8 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet8 = int(pet8[0])
       pet9 = cursor.execute("SELECT pet9 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet9 = int(pet9[0])
       pet10 = cursor.execute("SELECT pet10 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet10 = int(pet10[0])
       pet11 = cursor.execute("SELECT pet11 from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet11 = int(pet11[0])
       pet_name = cursor.execute("SELECT pet_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_name = str(pet_name[0])
       pet_hp = cursor.execute("SELECT pet_hp from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_hp = int(pet_hp[0])
       pet_eat = cursor.execute("SELECT pet_eat from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_eat = int(pet_eat[0])
       pet_mood = cursor.execute("SELECT pet_mood from users where user_id = ?",(message.from_user.id,)).fetchone()
       pet_mood = int(pet_mood[0])
       chat_id = message.chat.id
       user_id = message.from_user.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       c = 1
       pets = pet1 + pet2 + pet3 + pet4 + pet5 + pet6 + pet7 + pet8 + pet9 + pet10 + pet11
       if pets == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету питомца! {rloser}", parse_mode='html')
       if pet1 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали своего питомца за 750.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 750000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet1 = {pet1 - c} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
       if pet2 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали своего питомца за 75.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 75000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet2 = {pet2 - c} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
       if pet3 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали своего питомца за 375.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 375000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet3 = {pet3 - c} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
       if pet4 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали своего питомца за 750.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 750000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet4 = {pet4 - c} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
       if pet5 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали своего питомца за 37.500.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 37500000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet5 = {pet5 - c} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
       if pet6 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали своего питомца за 75.000.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 75000000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet6 = {pet6 - c} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"')
       if pet7 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали своего питомца за 375.000.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 375000000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet7 = {pet7 - c} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
       if pet8 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали своего питомца за 7.500.000.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 7500000000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet8 = {pet8 - c} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"')
       if pet9 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали своего питомца за 75.000.000.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 75000000000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet9 = {pet9 - c} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
       if pet10 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали своего питомца за 22.000.000.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 22000000000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet10 = {pet10 - c} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 
       if pet11 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали своего питомца за 10.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 10000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet11 = {pet11 - c} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_hp = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_eat = {100} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET pet_mood = {100} WHERE user_id = "{user_id}"') 


########################################ДОМА########################################
    if message.text.startswith('Продать дом') or message.text.startswith('продать дом'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       house = cursor.execute("SELECT house from house where user_id = ?", (message.from_user.id,)).fetchone()
       house = int(house[0])

       if house == 1:
          house2 = 'Дом'
          summ = 500000
          summ2 = '{:,}'.format(summ)
          member_house = 1


       if house == 2:
          house2 = 'Квартира'
          summ = 3000000
          summ2 = '{:,}'.format(summ)
          member_house = 2
      
       if house == 3:
          house2 = 'Огромный дом'
          summ = 5000000
          summ2 = '{:,}'.format(summ)
          member_house = 3
      
       if house == 4:
          house2 = 'Коттедж'
          summ = 7000000
          summ2 = '{:,}'.format(summ)
          member_house = 4
      
       if house == 5:
          house2 = 'Бурдж Кхалифа'
          summ = 10000000
          summ2 = '{:,}'.format(summ)
          member_house = 5

       if house == 6:
          house2 = 'Россия'
          summ = 50000000
          summ2 = '{:,}'.format(summ)
          member_house = 6

       if house == 7:
          house2 = 'Половина земли'
          summ = 100000000
          summ2 = '{:,}'.format(summ)
          member_house = 7

       if house == 8:
          house2 = 'Марс'
          summ = 100000000000000
          summ2 = '{:,}'.format(summ)
          member_house = 8

       if house > 0:
          await bot.send_message(message.chat.id, f"🏡 <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали дом {house2} за {summ2}$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + summ} WHERE user_id = {user_id}')
          cursor.execute(f'UPDATE house SET house = {0} WHERE user_id = {user_id}')
          connect.commit()
          return
       else:
          await bot.send_message(message.chat.id, f"""
<a href='tg://user?id={user_id}'>{user_name}</a>, <b>доступные дома:

🏠 1. Дом - 500.000.000$
🏠 2. Квартира - 3.000.000.000$
🏠 3. Огромный дом - 5.000.000.000$
🏠 4. Коттедж - 7.000.000.000$
🏠 5. Бурдж Кхалифа - 10.000.000.000$
🏠 6. Россия - 50.000.000.000$
🏠 7. Половина земли - 100.000.000.000$
🏠 8. Свой марс - 100e12$

🛒 Для покупки дома введите:</b> <code>Купить дом</code> <b>[номер]</b>
       """, parse_mode='html')
          return

    if message.text.startswith('купить дом') or message.text.startswith('Купить дом'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       house = cursor.execute("SELECT house from house where user_id = ?", (message.from_user.id,)).fetchone()
       house = int(house[0])

       member = int(message.text.split()[2])

       if member == 1:
          house2 = 'Дом'
          summ = 500000000
          summ2 = '{:,}'.format(summ)
          member_house = 1


       if member == 2:
          house2 = 'Квартира'
          summ = 3000000000
          summ2 = '{:,}'.format(summ)
          member_house = 2
      
       if member == 3:
          house2 = 'Огромный дом'
          summ = 5000000000
          summ2 = '{:,}'.format(summ)
          member_house = 3
      
       if member == 4:
          house2 = 'Коттедж'
          summ = 7000000000
          summ2 = '{:,}'.format(summ)
          member_house = 4
      
       if member == 5:
          house2 = 'Бурдж Кхалифа'
          summ = 10000000000
          summ2 = '{:,}'.format(summ)
          member_house = 5

       if member == 6:
          house2 = 'Россия'
          summ = 50000000000
          summ2 = '{:,}'.format(summ)
          member_house = 6

       if member == 7:
          house2 = 'Половина земли'
          summ = 100000000000
          summ2 = '{:,}'.format(summ)
          member_house = 7

       if member == 8:
          house2 = 'Марс'
          summ = 100000000000000
          summ2 = '{:,}'.format(summ)
          member_house = 8

       if house == 0:
          if member > 0:
             if member < 9:
                if summ <= balance:
                   await bot.send_message(message.chat.id, f"🏡 <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили дом {house2} за {summ2}$", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE house SET house = {member_house} WHERE user_id = {user_id}')
                   connect.commit()
                else:
                   await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, у вас нехватает средств!", parse_mode='html')               
             else:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, подождите! Нету такого номера дома!", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, подождите! Нету такого номера дома!", parse_mode='html')
       else:
          await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, подождите! У вас уже есть дом, что бы продать дом введите команду <code>Продать дом</code>", parse_mode='html')


    if message.text.lower() in ["Мой дом", "мой дом"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       house = cursor.execute("SELECT house from house where user_id = ?", (message.from_user.id,)).fetchone()
       house = int(house[0])

       if house == 1:
          house2 = 'Дом'
          summ = 100000
          summ2 = '{:,}'.format(summ)

       if house == 2:
          house2 = 'Квартира'
          summ = 300000
          summ2 = '{:,}'.format(summ)

       if house == 3:
          house2 = 'Огромный дом'
          summ = 500000
          summ2 = '{:,}'.format(summ)

       if house == 4:
          house2 = 'Коттедж'
          summ = 700000
          summ2 = '{:,}'.format(summ)

       if house == 5:
          house2 = 'Бурдж Кхалифа'
          summ = 1000000
          summ2 = '{:,}'.format(summ)
      
       if house == 6:
          house2 = 'Россия'
          summ = 5000000
          summ2 = '{:,}'.format(summ)

       if house == 7:
          house2 = 'Половина земли'
          summ = 10000000
          summ2 = '{:,}'.format(summ)

       if house == 8:
          house2 = 'Свой Марс'          
          summ = 50000000
          summ2 = '{:,}'.format(summ)

       if house == 8:
          mars_photo = open('imges/mars.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=mars_photo, caption=f"""🏡 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш дом {house2}
💸 | Стоимость аредны: {summ2} $
""", parse_mode='html')         
       if house == 7:
          world_photo = open('imges/world2.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=world_photo, caption=f"""🏡 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш дом {house2}
💸 | Стоимость аредны: {summ2} $
""", parse_mode='html')
       if house == 6:
          russia_photo = open('imges/russia.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=russia_photo, caption=f"""🏡 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш дом {house2}
💸 | Стоимость аредны: {summ2} $
""", parse_mode='html')
       if house == 5:
          burdj_photo = open('imges/burdj.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=burdj_photo, caption=f"""🏡 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш дом {house2}
💸 | Стоимость аредны: {summ2} $
""", parse_mode='html')
       if house == 4:
          dubai_photo = open('imges/dubai.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=dubai_photo, caption=f"""🏡 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш дом {house2}
💸 | Стоимость аредны: {summ2} $
""", parse_mode='html')
       if house == 3:
          dom_photo = open('imges/dom.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=dom_photo, caption=f"""🏡 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш дом {house2}
💸 | Стоимость аредны: {summ2} $
""", parse_mode='html')
       if house == 2:
          kvartira_photo = open('imges/kvartira.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=kvartira_photo, caption=f"""🏡 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш дом {house2}
💸 | Стоимость аредны: {summ2} $
""", parse_mode='html')
       if house == 1:
          domjr_photo = open('imges/domjr.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=domjr_photo, caption=f"""🏡 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваш дом {house2}
💸 | Стоимость аредны: {summ2} $
""", parse_mode='html')
    
       if house <= 0:
          await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>,<b> у вас нету дома 😔</b>", parse_mode='html')
    if message.text.lower() in ["Дома", "дома"]:
        await bot.send_message(message.chat.id, f"""
<a href='tg://user?id={user_id}'>{user_name}</a>, <b>вот список доступныx домoв:

🏠 1. Дом - 500.000.000$
🏠 2. Квартира - 3.000.000.000$
🏠 3. Огромный дом - 5.000.000.000$
🏠 4. Коттедж - 7.000.000.000$
🏠 5. Бурдж Кхалифа - 10.000.000.000$
🏠 6. Россия - 50.000.000.000$
🏠 7. Половина земли - 100.000.000.000$
🏠 8. Свой марс - 100e12$

🛒 Для покупки дома введите:</b> <code>Купить дом</code> <b>[номер]</b>
       """, parse_mode='html')


    if message.text.lower() in ['аренда дом', 'Аренда дом']:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id
       house = cursor.execute("SELECT house from house where user_id = ?", (message.from_user.id,)).fetchone()
       house = int(house[0])
       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(message.from_user.id,)).fetchone()
       donate_coins = int(donate_coins[0])

       period = 43200 #43200s 12h
       get = cursor.execute("SELECT stavka_depozit FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = f"{int(get[0])}"
       stavkatime = time.time() - float(last_stavka)

       if house == 1:
         if stavkatime > period:
            await bot.send_message(message.chat.id, f"Вы успешно арендовали свой дом и заработали 100.000.000.000")
            cursor.execute(f'UPDATE users SET balance = {balance + 100000000000} WHERE user_id = {user_id}')
            cursor.execute(f'UPDATE bot_time SET stavka_depozit = {time.time()}  WHERE user_id = {user_id}')
            connect.commit()
            return
         else:
            await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , извините но арендовать можно раз в 12 часа", parse_mode='html')


       if house == 2:
         if stavkatime > period:
            await bot.send_message(message.chat.id, f"Вы успешно арендовали свою квартиру и заработали 300.000.000.000")
            cursor.execute(f'UPDATE users SET balance = {balance + 300000000000} WHERE user_id = {user_id}')
            cursor.execute(f'UPDATE bot_time SET stavka_depozit = {time.time()}  WHERE user_id = {user_id}')
            connect.commit()
            return
         else:
            await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , извините но арендовать можно раз в 12 часа", parse_mode='html')

       if house == 3:
         if stavkatime > period:
            await bot.send_message(message.chat.id, f"Вы успешно арендовали свой огромный дом и заработали 500.000.000.000")
            cursor.execute(f'UPDATE users SET balance = {balance + 500000000000} WHERE user_id = {user_id}')
            cursor.execute(f'UPDATE bot_time SET stavka_depozit = {time.time()}  WHERE user_id = {user_id}')
            connect.commit()
            return
         else:
            await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , извините но арендовать можно раз в 12 часа", parse_mode='html')


       if house == 4:
         if stavkatime > period:
            await bot.send_message(message.chat.id, f"Вы успешно арендовали свой коттедж и заработали 100.000.000.000")
            cursor.execute(f'UPDATE users SET balance = {balance + 100000000000} WHERE user_id = {user_id}')
            cursor.execute(f'UPDATE bot_time SET stavka_depozit = {time.time()}  WHERE user_id = {user_id}')
            connect.commit()
            return
         else:
            await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , извините но арендовать можно раз в 12 часа", parse_mode='html')

       if house == 5:
         if stavkatime > period:
            await bot.send_message(message.chat.id, f"Вы успешно арендовали свою бурдж кхалифу и заработали 500.000.000.000")
            cursor.execute(f'UPDATE users SET balance = {balance + 5000000000000} WHERE user_id = {user_id}')
            cursor.execute(f'UPDATE bot_time SET stavka_depozit = {time.time()}  WHERE user_id = {user_id}')
            connect.commit()
            return
         else:
            await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , извините но арендовать можно раз в 12 часа", parse_mode='html')

       if house == 6:
         if stavkatime > period:
            await bot.send_message(message.chat.id, f"Вы успешно арендовали свою россию и заработали 1.000.000.000.000")
            cursor.execute(f'UPDATE users SET balance = {balance + 1000000000000} WHERE user_id = {user_id}')
            cursor.execute(f'UPDATE bot_time SET stavka_depozit = {time.time()}  WHERE user_id = {user_id}')
            connect.commit()
            return
         else:
            await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , извините но арендовать можно раз в 12 часа", parse_mode='html')

       if house == 7:
         if stavkatime > period:
            await bot.send_message(message.chat.id, f"Вы успешно арендовали свою половину земли и заработали 10.000.000.000.000")
            cursor.execute(f'UPDATE users SET balance = {balance + 10000000000000} WHERE user_id = {user_id}')
            cursor.execute(f'UPDATE bot_time SET stavka_depozit = {time.time()}  WHERE user_id = {user_id}')
            connect.commit()
            return
         else:
            await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , извините но арендовать можно раз в 12 часа", parse_mode='html')

       if house == 8:
         if stavkatime > period:
            await bot.send_message(message.chat.id, f"Вы успешно арендовали свой марс и заработали 50.000.000.000.000")
            cursor.execute(f'UPDATE users SET balance = {balance + 50000000000000} WHERE user_id = {user_id}')
            cursor.execute(f'UPDATE bot_time SET stavka_depozit = {time.time()}  WHERE user_id = {user_id}')
            connect.commit()
            return
         else:
            await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a> , извините но арендовать можно раз в 12 часа", parse_mode='html')

       if house <= 0:
          await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! У вас нету дома, что бы купить дом введите команду \"Дома\"", parse_mode='html')

    if message.text.lower() in ['Аренда', 'аренда']:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       arenda_photo = open('arenda/arenda.jpg', 'rb')
       await bot.send_photo(chat_id=message.chat.id, photo=arenda_photo, caption=f"""
<a href='tg://user?id={user_id}'>{user_name}</a>, вы можете cдать свое имущество в аренду и получать доход
   Доход зависит от крутости вашего имущества

   Арендовать дом > аренда дом    
       """, parse_mode='html') 


###########################################АВТОМОБИЛИ###########################################
    if message.text.lower() in ["моя машина", "Моя машина"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       cars = cursor.execute("SELECT cars from cars where user_Id = ?", (message.from_user.id,)).fetchone()
       cars = int(cars[0])

       hp = cursor.execute("SELECT hp from cars where user_Id = ?", (message.from_user.id,)).fetchone()
       hp = int(hp[0])

       benz = cursor.execute("SELECT benz from cars where user_Id = ?", (message.from_user.id,)).fetchone()
       benz = int(benz[0])

       if benz in range(90, 100):
          benz2 = '100%'
       if benz in range(80, 89):
          benz2 = '90%'
       if benz in range(70, 79):
          benz2 = '80%'
       if benz in range(60, 69):
          benz2 = '70%'
       if benz in range(50, 59):
          benz2 = '60%'
       if benz in range(40, 49):
          benz2 = '50%'
       if benz in range(30, 39):
          benz2 = '40%'
       if benz in range(20, 29):
          benz2 = '30%'
       if benz in range(10, 19):
          benz2 = '20%'
       if benz in range(1, 9):
          benz2 = '10%'
          
       if benz < 0:
             benz2 = 0
       else:
          benz2 = benz
          
       if cars == 1:
          cars_name = 'ВАЗ 2107'
          cars_summ = 10000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 2:
          cars_name = 'Lada Vesta'
          cars_summ = 50000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 3:
          cars_name = 'Lada XRAY Cross'
          cars_summ = 100000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 4:
          cars_name = 'Audi Q7'
          cars_summ = 500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 5:
          cars_name = 'BMW X6'
          cars_summ = 750000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 6:
          cars_name = 'Hyundai Solaris'
          cars_summ = 1000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 7:
          cars_name = 'Toyota Supra'
          cars_summ = 1500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 8:
          cars_name = 'Lamborghini Veneno'
          cars_summ = 3000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 9:
          cars_name = 'Bugatti Veyron'
          cars_summ = 10000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 10:
          cars_name = 'Tesla Roadster'
          cars_summ = 50000000000
          cars_summ2 = '{:,}'.format(cars_summ)

       
       if hp in range(76,100):
          hp2 = 'Хорошое 🟩'

       if hp in range(51,75):
          hp2 = 'Среднее 🟧 '
         
       if hp in range(26,50):
          hp2 = 'Плохое 🟥'

       if hp in range(2,25):
          hp2 = 'Ужасное 🛑'

       if hp < 2:
          hp2 = 'Требуется ремонт ⛔️'

       else:
          if hp == 100:
             hp2 = 'Хорошое 🟩'
          if hp == 76:
             hp2 = 'Хорошо '
          if hp == 65:
             hp2 = 'Среднее 🟧'
          if hp == 51:
             hp2 = 'Средне '
          if hp == 43:
             hp2 = 'Плохое 🟥'
          if hp == 36:
             hp2 = 'Плохо '
          if hp == 25:
             hp2 = 'Ужасное 🛑'
          if hp == 12:
             hp2 = 'Ужасно '    
    

       if cars == 10:
          tesla_photo = open('cars/Tesla.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=tesla_photo, caption=f"""🚗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваша машина: {cars_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {benz2}%
""", parse_mode='html')
       if cars == 9:
          toyota_photo = open('cars/Veyron.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=toyota_photo, caption=f"""🚗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваша машина: {cars_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {benz2}%
""", parse_mode='html')
       if cars == 8:
          honda_photo = open('cars/Lamborghini.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=honda_photo, caption=f"""🚗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваша машина: {cars_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {benz2}%
""", parse_mode='html')
       if cars == 7:
          lexus_photo = open('cars/Toyota.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=lexus_photo, caption=f"""🚗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваша машина: {cars_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {benz2}%
""", parse_mode='html')
       if cars == 6:
          kia_photo = open('cars/Hyundai_Solaris.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=kia_photo, caption=f"""🚗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваша машина: {cars_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {benz2}%
""", parse_mode='html')
       if cars == 5:
          opel_photo = open('cars/bmw.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=opel_photo, caption=f"""🚗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваша машина: {cars_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {benz2}%
""", parse_mode='html')
       if cars == 4:
          bentley_photo = open('cars/Audi.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=bentley_photo, caption=f"""🚗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваша машина: {cars_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {benz2}%
""", parse_mode='html')
       if cars == 3:
          uaz_photo = open('cars/lada_xray_cross.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=uaz_photo, caption=f"""🚗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваша машина: {cars_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {benz2}%
""", parse_mode='html')
       if cars == 2:
          moto_photo = open('cars/Lada_Vesta.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=moto_photo, caption=f"""🚗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваша машина: {cars_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {benz2}%
""", parse_mode='html')
       if cars == 1:
          gyro_photo = open('cars/lada.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=gyro_photo, caption=f"""🚗 | <a href='tg://user?id={user_id}'>{user_name}</a>, ваша машина: {cars_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {benz2}%
""", parse_mode='html')
          return
    
       if cars <= 0:
          await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, <b>у вас нету машины 😔 </b>", parse_mode='html')
    if message.text.lower() in ["Машины", "машины"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id
       await bot.send_message(message.chat.id, f"""<a href='tg://user?id={user_id}'>{user_name}</a>, вот список доступных машин:<b>

🚗 1. ВАЗ 2107 - 10.000.000$
🚗 2. Lada Vesta - 50.000.000$
🚗 3. Lada XRAY Cross - 100.000.000$
🚗 4. Audi Q7 - 500.000.000$
🚗 5. BMW X6 - 750.000.000$
🚗 6. Hyundai Solaris - 1.000.000.000$
🚗 7. Toyota Supra - 1.500.000.000$
🚗 8. Lamborghini Veneno - 3.000.000.000$
🚗 9. Bugatti Veyron - 10.000.000.000$
🚗 10. Tesla Roadster - 50.000.000.000$

🛒 Для покупки машины введите:</b> <code>Купить машину</code> <b>[номер]</b>
   """, parse_mode='html')


    if message.text.startswith('Продать машину') or message.text.startswith('продать машину'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(message.from_user.id,)).fetchone()
       donate_coins = int(donate_coins[0])

       cars = cursor.execute("SELECT cars from cars where user_Id = ?", (message.from_user.id,)).fetchone()
       cars = int(cars[0])

       if cars == 1:
          cars_name = 'ВАЗ 2107'
          cars_summ = 10000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 2:
          cars_name = 'Lada Vesta'
          cars_summ = 50000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 3:
          cars_name = 'Lada XRAY Cross'
          cars_summ = 100000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 4:
          cars_name = 'Audi Q7'
          cars_summ = 500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 5:
          cars_name = 'BMW X6'
          cars_summ = 750000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 6:
          cars_name = 'Hyundai Solaris'
          cars_summ = 1000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 7:
          cars_name = 'Toyota Supra'
          cars_summ = 1500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 8:
          cars_name = 'Lamborghini Veneno'
          cars_summ = 3000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 9:
          cars_name = 'Bugatti Veyron'
          cars_summ = 10000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 10:
          cars_name = 'Tesla Roadster'
          cars_summ = 50000000000
          cars_summ2 = '{:,}'.format(cars_summ)


       if cars > 0:
          await bot.send_message(message.chat.id, f"🚗 <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали машину {cars_name} за {cars_summ2}$", parse_mode='html')
          cursor.execute(f'UPDATE cars SET cars = {0} WHERE user_id = {user_id}')
          cursor.execute(f'UPDATE cars SET hp = {0} WHERE user_id = {user_id}')
          cursor.execute(f'UPDATE cars SET benz = {0} WHERE user_id = {user_id}')
          cursor.execute(f'UPDATE users SET balance = {balance + cars_summ} WHERE user_id = {user_id}')
          connect.commit()

          return

    if message.text.startswith('Купить машину') or message.text.startswith('купить машину'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       cars = cursor.execute("SELECT cars from cars where user_Id = ?", (message.from_user.id,)).fetchone()
       cars = int(cars[0])

       member = int(message.text.split()[2])
       
       if member == 1:
          cars_name = 'ВАЗ 2107'
          cars_summ = 10000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if member == 2:
          cars_name = 'Lada Vesta'
          cars_summ = 50000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if member == 3:
          cars_name = 'Lada XRAY Cross'
          cars_summ = 100000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if member == 4:
          cars_name = 'Audi Q7'
          cars_summ = 500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if member == 5:
          cars_name = 'BMW X6'
          cars_summ = 750000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if member == 6:
          cars_name = 'Hyundai Solaris'
          cars_summ = 1000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if member == 7:
          cars_name = 'Toyota Supra'
          cars_summ = 1500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if member == 8:
          cars_name = 'Lamborghini Veneno'
          cars_summ = 3000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if member == 9:
          cars_name = 'Bugatti Veyron'
          cars_summ = 10000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if member == 10:
          cars_name = 'Tesla Roadster'
          cars_summ = 50000000000
          cars_summ2 = '{:,}'.format(cars_summ)


       if member > 0:
          if member <= 10:
             if cars == 0:
                if balance >= cars_summ:
                   await bot.send_message(message.chat.id, f"🚗 <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили машину {cars_name} за {cars_summ2}$", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance - cars_summ} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE cars SET cars = {member} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE cars SET hp = {100} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE cars SET benz = {100} WHERE user_id = {user_id}')
                   connect.commit()
                else:
                   await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
             else:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Ошибка! У вас уже есть машина", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Подождите! Нету такого номера машины", parse_mode='html')
       else:
          await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Подождите! Нету такого номера машины", parse_mode='html')
          
          
##МиниОбнова
    if message.text.startswith('Гонка') or message.text.startswith('гонка'):
       
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id
       summ5 = message.text.split()[1]
       
       
       summ4 = (summ5).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       summ3 = float(summ4)
       summ = int(summ3)
       summ2 = '{:,}'.format(summ).replace(',', '.')
       
       loser = ['😐', '😕','😟','😔','😓']
       rloser = random.choice(loser)

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       cars = cursor.execute("SELECT cars from cars where user_id = ?", (message.from_user.id,)).fetchone()
       cars = cars[0]

       hp = cursor.execute("SELECT hp from cars where user_id = ?", (message.from_user.id,)).fetchone()
       hp = int(hp[0])

       benz = cursor.execute("SELECT benz from cars where user_id = ?", (message.from_user.id,)).fetchone()
       benz = int(benz[0])

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))

       if cars == 1:
          cars_name = 'ВАЗ 2107'
          cars_summ = 10000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 2:
          cars_name = 'Lada Vesta'
          cars_summ = 50000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 3:
          cars_name = 'Lada XRAY Cross'
          cars_summ = 100000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 4:
          cars_name = 'Audi Q7'
          cars_summ = 500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 5:
          cars_name = 'BMW X6'
          cars_summ = 750000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 6:
          cars_name = 'Hyundai Solaris'
          cars_summ = 1000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 7:
          cars_name = 'Toyota Supra'
          cars_summ = 1500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 8:
          cars_name = 'Lamborghini Veneno'
          cars_summ = 3000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 9:
          cars_name = 'Bugatti Veyron'
          cars_summ = 10000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 10:
          cars_name = 'Tesla Roadster'
          cars_summ = 50000000000
          cars_summ2 = '{:,}'.format(cars_summ)




       rx = random.randint(0,1000)
       rx2 = random.randint(1,25)
       summ3 = summ * 2
       summ4 = '{:,}'.format(summ3)

       period = 5
       getе = cursor.execute("SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = int(getе[0])
       stavkatime = time.time() - float(last_stavka)
       if stavkatime > period:
          if summ <= balance:
            if summ > 0:
             if cars > 0:
                if hp > 0:
                   if cars == 11:
                      await bot.send_message(message.chat.id, f"""👤 <a href='tg://user?id={user_id}'>{user_name}</a>\n
Ставка принята Через 5 секунд начинается гонка""", parse_mode='html')
                      return
                   if benz > 0:
                      await bot.send_message(message.chat.id, f"""👤 <a href='tg://user?id={user_id}'>{user_name}</a>\n
Ставка принята Через 5 секунд начинается гонка
                      
                      """, parse_mode='html')
                      time.sleep(5)
                      if int(rx) in range(0,600):
                         await bot.send_message(message.chat.id, f"""👤 <a href='tg://user?id={user_id}'>{user_name}</a>
🏎 Машина: {cars_name}
🧾 Выигрыш: 0$""", parse_mode='html')
                         cursor.execute(f'UPDATE cars SET hp = {hp - rx2} WHERE user_id = {user_id}')
                         cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
                         cursor.execute(f'UPDATE cars SET benz = {benz - rx2} WHERE user_id = {user_id}')
                         cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                         connect.commit()
                      if int(rx) in range(601, 1000):
                         await message.bot.send_message(cfg.log_group, f"""👤 <a href='tg://user?id={user_id}'>{user_name}</a>
🏎 Машина: {cars_name}
🧾 Выигрыш: {summ4}$""", parse_mode='html')
                         await bot.send_message(message.chat.id, f"""👤 <a href='tg://user?id={user_id}'>{user_name}</a>
🏎 Машина: {cars_name}
🧾 Выигрыш: {summ4}$""", parse_mode='html')
                         cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 2)} WHERE user_id = {user_id}')
                         cursor.execute(f'UPDATE cars SET hp = {hp - rx2} WHERE user_id = {user_id}')
                         cursor.execute(f'UPDATE cars SET benz = {benz - rx2} WHERE user_id = {user_id}')
                         cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                         connect.commit()
                   else:
                      await bot.send_message(message.chat.id, f"🛠 <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! У вас закончился бензин в автомобиле давайте поедим в мастерскую: <code>мастерская</code>", parse_mode='html')
                else:
                   await bot.send_message(message.chat.id, f"🛠 <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! У вас поломался автомобиль , вы не можете участвовать в гонках давайте поедим в мастерскую: <code>мастерская</code>", parse_mode='html')
             else:
                await bot.send_message(message.chat.id, f"🛠 <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! Какие гонки без автомобиля? Купите автомобиль", parse_mode='html') 
          else:
             await bot.send_message(message.chat.id, f"🛠 <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! У вас нехватает средств", parse_mode='html') 
       else:
          await bot.send_message(message.chat.id, f"🛠 <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! играть можно раз в {period} секунд", parse_mode='html')

##МиниОбнова
    if message.text.lower() == 'мой грузовик':
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       truck = cursor.execute("SELECT truck from truck where user_Id = ?", (message.from_user.id,)).fetchone()
       truck = int(truck[0])

       hp = cursor.execute("SELECT hp from truck where user_Id = ?", (message.from_user.id,)).fetchone()
       hp = int(hp[0])

       fuel = cursor.execute("SELECT fuel from truck where user_Id = ?", (message.from_user.id,)).fetchone()
       fuel = int(fuel[0])

       if fuel in range(90, 100):
          fuel2 = '100%'
       if fuel in range(80, 89):
          fuel2 = '90%'
       if fuel in range(70, 79):
          fuel2 = '80%'
       if fuel in range(60, 69):
          fuel2 = '70%'
       if fuel in range(50, 59):
          fuel2 = '60%'
       if fuel in range(40, 49):
          fuel2 = '50%'
       if fuel in range(30, 39):
          fuel2 = '40%'
       if fuel in range(20, 29):
          fuel2 = '30%'
       if fuel in range(10, 19):
          fuel2 = '20%'
       if fuel in range(1, 9):
          fuel2 = '10%'
          
       if fuel < 0:
             fuel2 = 0
       else:
          fuel2 = fuel
          
       if truck == 1:
          truck_name = 'Daf'
          truck_summ = 10000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 2:
          truck_name = 'Scania'
          truck_summ = 50000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 3:
          truck_name = 'Nissan'
          truck_summ = 100000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 4:
          truck_name = 'Renault'
          truck_summ = 500000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 5:
          truck_name = 'Volvo'
          truck_summ = 750000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 6:
          truck_name = 'Man'
          truck_summ = 1000000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 7:
          truck_name = 'Mercedes Benz'
          truck_summ = 1500000000
          truck_summ2 = '{:,}'.format(truck_summ)

       
       if hp in range(76,100):
          hp2 = 'Хорошое 🟩'

       if hp in range(51,75):
          hp2 = 'Среднее 🟧 '
         
       if hp in range(26,50):
          hp2 = 'Плохое 🟥'

       if hp in range(2,25):
          hp2 = 'Ужасное 🛑'

       if hp < 2:
          hp2 = 'Требуется ремонт ⛔️'

       else:
          if hp == 100:
             hp2 = 'Хорошое 🟩'
          if hp == 76:
             hp2 = 'Хорошо '
          if hp == 65:
             hp2 = 'Среднее 🟧'
          if hp == 51:
             hp2 = 'Средне '
          if hp == 43:
             hp2 = 'Плохое 🟥'
          if hp == 36:
             hp2 = 'Плохо '
          if hp == 25:
             hp2 = 'Ужасное 🛑'
          if hp == 12:
             hp2 = 'Ужасно '    
    

       if truck == 7:
          lexus_photo = open('truck/Mercedes.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=lexus_photo, caption=f"""<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за ваш грузовик🚛

👤 | Владелец: {user_name}
🚛 | Грузовик: {truck_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {fuel2}%
💰 | Стоимость: {truck_summ2}$

ℹ️ Чтобы продать грузовик введите команду <code>Грузовик продать</code> 

⛽️ Поехать на заправку <code>заправка</code>
🏁 Поехать на рейс: <code>рейс</code> ставка""", parse_mode='html')
       if truck == 6:
          kia_photo = open('truck/Man.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=kia_photo, caption=f"""<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за ваш грузовик🚛

👤 | Владелец: {user_name}
🚛 | Грузовик: {truck_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {fuel2}%
💰 | Стоимость: {truck_summ2}$

ℹ️ Чтобы продать грузовик введите команду <code>Грузовик продать</code> 

⛽️ Поехать на заправку <code>заправка</code>
🏁 Поехать на рейс: <code>рейс</code> ставка""", parse_mode='html')
       if truck == 5:
          opel_photo = open('truck/Volvo.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=opel_photo, caption=f"""<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за ваш грузовик🚛

👤 | Владелец: {user_name}
🚛 | Грузовик: {truck_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {fuel2}%
💰 | Стоимость: {truck_summ2}$

ℹ️ Чтобы продать грузовик введите команду <code>Грузовик продать</code> 

⛽️ Поехать на заправку <code>заправка</code>
🏁 Поехать на рейс: <code>рейс</code> ставка""", parse_mode='html')
       if truck == 4:
          bentley_photo = open('truck/Renault.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=bentley_photo, caption=f"""<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за ваш грузовик🚛

👤 | Владелец: {user_name}
🚛 | Грузовик: {truck_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {fuel2}%
💰 | Стоимость: {truck_summ2}$

ℹ️ Чтобы продать грузовик введите команду <code>Грузовик продать</code> 

⛽️ Поехать на заправку <code>заправка</code>
🏁 Поехать на рейс: <code>рейс</code> ставка""", parse_mode='html')
       if truck == 3:
          uaz_photo = open('truck/Nissan.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=uaz_photo, caption=f"""<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за ваш грузовик🚛

👤 | Владелец: {user_name}
🚛 | Грузовик: {truck_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {fuel2}%
💰 | Стоимость: {truck_summ2}$

ℹ️ Чтобы продать грузовик введите команду <code>Грузовик продать</code> 

⛽️ Поехать на заправку <code>заправка</code>
🏁 Поехать на рейс: <code>рейс</code> ставка""", parse_mode='html')
       if truck == 2:
          moto_photo = open('truck/Scania.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=moto_photo, caption=f"""<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за ваш грузовик🚛

👤 | Владелец: {user_name}
🚛 | Грузовик: {truck_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {fuel2}%
💰 | Стоимость: {truck_summ2}$

ℹ️ Чтобы продать грузовик введите команду <code>Грузовик продать</code> 

⛽️ Поехать на заправку <code>заправка</code>
🏁 Поехать на рейс: <code>рейс</code> ставка""", parse_mode='html')
       if truck == 1:
          gyro_photo = open('truck/Daf.jpg', 'rb')
          await bot.send_photo(chat_id=message.chat.id, photo=gyro_photo, caption=f"""<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за ваш грузовик🚛

👤 | Владелец: {user_name}
🚛 | Грузовик: {truck_name}
🚨 | Состояние: {hp2}
⛽️ | Бензин: {fuel2}%
💰 | Стоимость: {truck_summ2}$

ℹ️ Чтобы продать грузовик введите команду <code>Грузовик продать</code> 

⛽️ Поехать на заправку <code>заправка</code>
🏁 Поехать на рейс: <code>рейс</code> ставка""", parse_mode='html')
          return
    
       if truck <= 0:
          await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, Подождите! У вас и так нету грузовика", parse_mode='html')    


    if message.text.lower() == 'грузовик продать':
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(message.from_user.id,)).fetchone()
       donate_coins = int(donate_coins[0])

       truck = cursor.execute("SELECT truck from truck where user_Id = ?", (message.from_user.id,)).fetchone()
       truck = int(truck[0])

       if truck == 1:
          truck_name = 'Daf'
          truck_summ = 10000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 2:
          truck_name = 'Scania'
          truck_summ = 50000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 3:
          truck_name = 'Nissan'
          truck_summ = 100000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 4:
          truck_name = 'Renault'
          truck_summ = 500000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 5:
          truck_name = 'Volvo'
          truck_summ = 750000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 6:
          truck_name = 'Man'
          truck_summ = 1000000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 7:
          truck_name = 'Mercedes Benz'
          truck_summ = 1500000000
          truck_summ2 = '{:,}'.format(truck_summ)


       if truck > 0:
          await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно продали грузовик 🚛 {truck_name} за {truck_summ2}$", parse_mode='html')
          cursor.execute(f'UPDATE truck SET truck = {0} WHERE user_id = {user_id}')
          cursor.execute(f'UPDATE truck SET hp = {0} WHERE user_id = {user_id}')
          cursor.execute(f'UPDATE truck SET fuel = {0} WHERE user_id = {user_id}')
          cursor.execute(f'UPDATE users SET balance = {balance + truck_summ} WHERE user_id = {user_id}')
          connect.commit()
          return
       else:
          await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, Подождите! У вас и так нету грузовика", parse_mode='html')
          return

    if message.text.startswith("купить грузовик") or message.text.startswith("Купить грузовик"):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       truck = cursor.execute("SELECT truck from truck where user_Id = ?", (message.from_user.id,)).fetchone()
       truck = int(truck[0])

       member = int(message.text.split()[2])
       
       if member == 1:
          truck_name = 'Daf'
          truck_summ = 10000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if member == 2:
          truck_name = 'Scania'
          truck_summ = 50000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if member == 3:
          truck_name = 'Nissan'
          truck_summ = 100000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if member == 4:
          truck_name = 'Renault'
          truck_summ = 500000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if member == 5:
          truck_name = 'Volvo'
          truck_summ = 750000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if member == 6:
          truck_name = 'Man'
          truck_summ = 1000000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if member == 7:
          truck_name = 'Mercedes Benz'
          truck_summ = 1500000000
          truck_summ2 = '{:,}'.format(truck_summ)


       if member > 0:
          if member < 8:
             if truck == 0:
                if balance >= truck_summ:
                   await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно купили грузовик 🚛 {truck_name} за {truck_summ2}$", parse_mode='html')
                   cursor.execute(f'UPDATE users SET balance = {balance - truck_summ} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE truck SET truck = {member} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE truck SET hp = {100} WHERE user_id = {user_id}')
                   cursor.execute(f'UPDATE truck SET fuel = {100} WHERE user_id = {user_id}')
                   connect.commit()
                else:
                   await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, Ошибка! У вас уже есть грузовик", parse_mode='html')
          else:
             await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, Подождите! Нету такого номера грузовика", parse_mode='html')
       else:
          await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, Подождите! Нету такого номера грузовика", parse_mode='html')
          
          
                        
    if message.text.lower() in ["грузовики", "Грузовики"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       chat_id = message.chat.id
       user_id = message.from_user.id
       await bot.send_message(message.chat.id, f"""<a href='tg://user?id={user_id}'>{user_name}</a>, доступные грузовики:
🚛 1. Daf - 10.000.000$
🚛 2. Scania - 50.000.000$
🚛 3. Nissan - 100.000.000$
🚛 4. Renault - 500.000.000$
🚛 5. Volvo - 750.000.000$
🚛 6. Man - 1.000.000.000$
🚛 7. Mercedes Benz - 1.500.000.000$

🛒 Для покупки грузовика введите: Купить грузовик [номер]\nℹ Для просмотра информации о своей грузовика: Мой грузовик""", parse_mode='html')

    if message.text.startswith('Рейс') or message.text.startswith('рейс'):
       
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id
       summ5 = message.text.split()[1]
       user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
       user_status = str(user_status[0])

              
       summ4 = (summ5).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
       summ3 = float(summ4)
       summ = int(summ3)
       summ2 = '{:,}'.format(summ).replace(',', '.')
       
       loser = ['😐', '😕','😟','😔','😓']
       rloser = random.choice(loser)

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       truck = cursor.execute("SELECT truck from truck where user_id = ?", (message.from_user.id,)).fetchone()
       truck = truck[0]

       hp = cursor.execute("SELECT hp from truck where user_id = ?", (message.from_user.id,)).fetchone()
       hp = int(hp[0])

       fuel = cursor.execute("SELECT fuel from truck where user_id = ?", (message.from_user.id,)).fetchone()
       fuel = int(fuel[0])

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))

       if truck == 1:
          truck_name = 'Daf'
          truck_summ = 10000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 2:
          truck_name = 'Scania'
          truck_summ = 50000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 3:
          truck_name = 'Nissan'
          truck_summ = 100000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 4:
          truck_name = 'Renault'
          truck_summ = 500000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 5:
          truck_name = 'Volvo'
          truck_summ = 750000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 6:
          truck_name = 'Man'
          truck_summ = 1000000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 7:
          truck_name = 'Mercedes Benz'
          truck_summ = 1500000000
          truck_summ2 = '{:,}'.format(truck_summ)




       rx = random.randint(0,1000)
       rx2 = random.randint(1,20)
       summ3 = summ * 2
       summ4 = '{:,}'.format(summ3)

       if user_status in ['Titanium', 'Deluxe', 'Vip']:
          period = 3
          tp = 'секунды'
       elif user_status in ['Chem', 'Korol', 'Donater']:
          period = 2
          tp = 'секунды'
       elif user_status in ['Admin', 'Helper_Admin', 'Owner', 'Rab']:
          period = 1
          tp = 'секунду'
       elif user_status in ['Player', 'Player']:
          period = 5
          tp = 'секунд'
       getе = cursor.execute("SELECT stavka_games FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = int(getе[0])
       stavkatime = time.time() - float(last_stavka)
       if stavkatime > period:
          if summ <= balance:
            if summ > 0:
             if truck > 0:
                if hp > 0:
                    if fuel > 0:
                        if int(rx) in range(0,400):
                            await bot.send_message(message.chat.id, f"""👤 <a href='tg://user?id={user_id}'>{user_name}</a>
🚚 Грузовик: {truck_name}
🧾 Выигрыш: 0$ [0X]""", parse_mode='html')
                            cursor.execute(f'UPDATE truck SET hp = {hp - rx2} WHERE user_id = {user_id}')
                            cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = {user_id}')
                            cursor.execute(f'UPDATE truck SET fuel = {fuel - rx2} WHERE user_id = {user_id}')
                            cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                            connect.commit()
                        if int(rx) in range(401, 700):
                            i = summ * 0.5
                            i2 = int(i)
                            i3 = '{:,}'.format(i2).replace(',', '.')
                            await bot.send_message(message.chat.id, f"""👤 <a href='tg://user?id={user_id}'>{user_name}</a>
🚚 Грузовик: {truck_name}
🧾 Проигрыш: {i3}$ [0.5X]""", parse_mode='html')
                            cursor.execute(f'UPDATE users SET balance = {(balance - summ) - (summ*0.5)} WHERE user_id = {user_id}')
                            cursor.execute(f'UPDATE truck SET hp = {hp - rx2} WHERE user_id = {user_id}')
                            cursor.execute(f'UPDATE truck SET fuel = {fuel - rx2} WHERE user_id = {user_id}')
                            cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                            connect.commit()
                        if int(rx) in range(701, 1000):
                            i = summ * 1.5
                            i2 = int(i)
                            i3 = '{:,}'.format(i2).replace(',', '.')
                            await bot.send_message(message.chat.id, f"""👤 <a href='tg://user?id={user_id}'>{user_name}</a>
🚚 Грузовик: {truck_name}
🧾 Выигрыш: {i3}$ [1.5X]""", parse_mode='html')
                            cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 1.5)} WHERE user_id = {user_id}')
                            cursor.execute(f'UPDATE truck SET hp = {hp - rx2} WHERE user_id = {user_id}')
                            cursor.execute(f'UPDATE truck SET fuel = {fuel - rx2} WHERE user_id = {user_id}')
                            cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                            connect.commit()
                        if int(rx) in range(1001, 1200):
                           await bot.send_message(message.chat.id, f"""👤 <a href='tg://user?id={user_id}'>{user_name}</a>
🚚 Грузовик: {truck_name}
🧾 Выигрыш: {summ4}$ [2X]""", parse_mode='html')
                           cursor.execute(f'UPDATE users SET balance = {(balance - summ) + (summ * 2)} WHERE user_id = {user_id}')
                           cursor.execute(f'UPDATE truck SET hp = {hp - rx2} WHERE user_id = {user_id}')
                           cursor.execute(f'UPDATE truck SET fuel = {fuel - rx2} WHERE user_id = {user_id}')
                           cursor.execute(f'UPDATE bot_time SET stavka_games = {time.time()} WHERE user_id = {user_id}')
                           connect.commit()
                    else:
                       await bot.send_message(message.chat.id, f"🛠 <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! У вас закончился бензин в грузовике давайте поедим на заправку: <code>Заправка</code>", parse_mode='html')
                else:
                   await bot.send_message(message.chat.id, f"🛠 <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! У вас поломался грузовик , вы не можете поехать на рейс! Давайте поедим на заправку: <code>Заправка</code>", parse_mode='html')
             else:
                await bot.send_message(message.chat.id, f"🛠 <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! Какий рейс без грузовика? Купите грузовик", parse_mode='html') 
          else:
             await bot.send_message(message.chat.id, f"🛠 <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! У вас нехватает средств", parse_mode='html') 
       else:
          await bot.send_message(message.chat.id, f"🛠 <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! играть можно раз в <b>{period} {tp}</b>", parse_mode='html') 

###############################################МАСТЕРСКАЯ############################################
    if message.text.startswith('Мастерская') or message.text.startswith('мастерская'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       hp = cursor.execute("SELECT hp from cars where user_id = ?", (message.from_user.id,)).fetchone()
       hp = int(hp[0])
       
       benz = cursor.execute("SELECT benz from cars where user_Id = ?", (message.from_user.id,)).fetchone()
       benz = int(benz[0])

       cars = cursor.execute("SELECT cars from cars where user_Id = ?", (message.from_user.id,)).fetchone()
       cars = int(cars[0])

       
       if cars == 1:
          cars_name = 'ВАЗ 2107'
          cars_summ = 10000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 2:
          cars_name = 'Lada Vesta'
          cars_summ = 50000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 3:
          cars_name = 'Lada XRAY Cross'
          cars_summ = 100000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 4:
          cars_name = 'Audi Q7'
          cars_summ = 500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 5:
          cars_name = 'BMW X6'
          cars_summ = 750000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 6:
          cars_name = 'Hyundai Solaris'
          cars_summ = 1000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 7:
          cars_name = 'Toyota Supra'
          cars_summ = 1500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 8:
          cars_name = 'Lamborghini Veneno'
          cars_summ = 3000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 9:
          cars_name = 'Bugatti Veyron'
          cars_summ = 10000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 10:
          cars_name = 'Tesla Roadster'
          cars_summ = 50000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 11:
          cars_name = 'Koenigsegg'
          cars_summ = 100000000000
          cars_summ2 = '{:,}'.format(cars_summ)


       if hp in range(81,100):
          hp2 = 'Хорошое 🟩'
         
       if hp in range(71,80):
          hp2 = 'Хорошое 🟩'

       if hp in range(61,70):
          hp2 = 'Среднее 🟧 '

       if hp in range(51,60):
          hp2 = 'Среднее 🟧 '
        
       if hp in range(41,50):
          hp2 = 'Плохое 🟥'

       if hp in range(31,40):
          hp2 = 'Плохое 🟥'          

       if hp in range(21,30):
          hp2 = 'Ужасное 🛑'

       if hp in range(11,20):
          hp2 = 'Ужасное 🛑'

       if hp in range(1,10):
          hp2 = 'Ужасное 🛑'          

       if hp < 2:
          hp2 = 'Требуется ремонт ⛔️'

       else:
          if hp == 100:
             hp2 = 'Хорошое 🟩'
          if hp == 80:
             hp2 = 'Хорошо '
          if hp == 70:
             hp2 = 'Среднее 🟧'
          if hp == 60:
             hp2 = 'Средне '
          if hp == 50:
             hp2 = 'Плохое 🟥'
          if hp == 40:
             hp2 = 'Плохо '
          if hp == 30:
             hp2 = 'Ужасное 🛑'
          if hp == 20:
             hp2 = 'Ужасно '


       if hp < 80:
          if hp > 70:
             summ = 20000
             summ2 = '{:,}'.format(summ)

       if hp < 70:
          if hp > 60:
             summ = 30000
             summ2 = '{:,}'.format(summ)
      
       if hp < 60:
          if hp > 50:
             summ = 40000
             summ2 = '{:,}'.format(summ)

       if hp < 50:
          if hp > 40:
             summ = 50000
             summ2 = '{:,}'.format(summ)

       if hp < 40:
          if hp > 30:
             summ = 60000
             summ2 = '{:,}'.format(summ)

       if hp < 30:
          if hp > 20:
             summ = 70000
             summ2 = '{:,}'.format(summ)

       if hp < 30:
          if hp > 20:
             summ = 80000
             summ2 = '{:,}'.format(summ)

       if hp < 20:
          if hp > 10:
             summ = 90000
             summ2 = '{:,}'.format(summ)

       if hp < 10:
          summ = 100000
          summ2 = '{:,}'.format(summ)

       if hp <= 100:
          if hp > 90:
             summ = 5000
             summ2 = '{:,}'.format(summ)

       if hp <= 90:
          if hp > 80:
             summ = 10000
             summ2 = '{:,}'.format(summ)
             
       
       if benz in range(90, 100):
          benz2 = '100%'
       
       if benz in range(80, 89):
          benz2 = '90%'
       
       if benz in range(70, 79):
          benz2 = '80%'
       
       if benz in range(60, 69):
          benz2 = '70%'
       
       if benz in range(50, 59):
          benz2 = '60%'
       
       if benz in range(40, 49):
          benz2 = '50%'
       
       if benz in range(30, 39):
          benz2 = '40%'
       
       if benz in range(20, 29):
          benz2 = '30%'
       
       if benz in range(10, 19):
          benz2 = '20%'
       
       if benz in range(1, 9):
          benz2 = '10%'
       
       if benz < 0:
             benz2 = 0
       
       else:
          benz2 = benz

       if benz2 < 80:
          if benz2 > 70:
             summ = 20000
             summ2 = '{:,}'.format(summ)

       if benz2 < 70:
          if benz2 > 60:
             summ = 30000
             summ2 = '{:,}'.format(summ)
      
       if benz2 < 60:
          if benz2 > 50:
             summ = 40000
             summ2 = '{:,}'.format(summ)

       if benz2 < 50:
          if benz2 > 40:
             summ = 50000
             summ2 = '{:,}'.format(summ)

       if benz2 < 40:
          if benz2 > 30:
             summ = 60000
             summ2 = '{:,}'.format(summ)

       if benz2 < 30:
          if benz2 > 20:
             summ = 70000
             summ2 = '{:,}'.format(summ)

       if benz2 < 30:
          if benz2 > 20:
             summ = 80000
             summ2 = '{:,}'.format(summ)

       if benz2 < 20:
          if benz2 > 10:
             summ = 90000
             summ2 = '{:,}'.format(summ)

       if benz2 < 10:
          summ = 100000
          summ2 = '{:,}'.format(summ)             


       master_photo = open('imges/usta.jpg', 'rb')
       await bot.send_photo(chat_id=message.chat.id, photo=master_photo, caption=f"""
<a href='tg://user?id={user_id}'>{user_name}</a> › добро пожаловать в заправку
Стоимость бензина не зависит от вашей машины.
Вы отдаёте 10.000 $

Ваша машина > {cars_name}
Состояние > {hp2}
Бензин > {benz2}%

Состояние {hp2}
Стоимость ремонта {summ2}$

Заправлено {benz2}% / 100%
Стоимость ремонта {summ2}$

Напишите чтобы починить машину <code>починить</code>
Напишите чтобы заправить машину <code>заправить</code>

       """, parse_mode='html')

#######Заправка
    if message.text.startswith('Заправить') or message.text.startswith('заправить'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       cars = cursor.execute("SELECT cars from cars where user_Id = ?", (message.from_user.id,)).fetchone()
       cars = int(cars[0])

       benz = cursor.execute("SELECT benz from cars where user_Id = ?", (message.from_user.id,)).fetchone()
       benz = int(benz[0])

       
       if cars == 1:
          cars_name = 'ВАЗ 2107'
          cars_summ = 10000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 2:
          cars_name = 'Lada Vesta'
          cars_summ = 50000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 3:
          cars_name = 'Lada XRAY Cross'
          cars_summ = 100000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 4:
          cars_name = 'Audi Q7'
          cars_summ = 500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 5:
          cars_name = 'BMW X6'
          cars_summ = 750000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 6:
          cars_name = 'Hyundai Solaris'
          cars_summ = 1000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 7:
          cars_name = 'Toyota Supra'
          cars_summ = 1500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 8:
          cars_name = 'Lamborghini Veneno'
          cars_summ = 3000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 9:
          cars_name = 'Bugatti Veyron'
          cars_summ = 10000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 10:
          cars_name = 'Tesla Roadster'
          cars_summ = 50000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 11:
          cars_name = 'Koenigsegg'
          cars_summ = 100000000000
          cars_summ2 = '{:,}'.format(cars_summ)


       if benz <= 80:
          if benz > 70:
             if balance > 20000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили машину 🚘 {cars_name} за 20.000$", parse_mode='html')
                cursor.execute(f'UPDATE cars SET benz = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 20000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
       else:
          await bot.send_message(message.chat.id, f" 🆘 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a>, у вашей машины полно бензина", parse_mode='html')
          

       if benz <= 70:
          if benz > 60:
             if balance > 30000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили машину 🚘 {cars_name} за 30.000$", parse_mode='html')
                cursor.execute(f'UPDATE cars SET benz = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 30000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                return

       if benz <= 60:
          if benz > 50:
             if balance > 40000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили машину 🚘 {cars_name} за 40.000$", parse_mode='html')
                cursor.execute(f'UPDATE cars SET benz = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 40000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                return

       if benz <= 50:
          if benz > 40:
             if balance > 50000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили машину 🚘 {cars_name} за 50.000$", parse_mode='html')
                cursor.execute(f'UPDATE cars SET benz = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 50000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                return

       if benz <= 40:
          if benz > 30:
             if balance > 60000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили машину 🚘 {cars_name} за 60.000$", parse_mode='html')
                cursor.execute(f'UPDATE cars SET benz = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 60000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                return

       if benz <= 30:
          if benz > 20:
             if balance > 70000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили машину 🚘 {cars_name} за 70.000$", parse_mode='html')
                cursor.execute(f'UPDATE cars SET benz = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 70000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                return

       if benz <= 20:
          if benz > 10:
             if balance > 80000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили машину 🚘 {cars_name} за 80.000$", parse_mode='html')
                cursor.execute(f'UPDATE cars SET benz = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 80000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                return

       if benz <= 10:
             if balance > 90000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили машину 🚘 {cars_name} за 90.000$", parse_mode='html')
                cursor.execute(f'UPDATE cars SET benz = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 90000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                

#######Починка
    if message.text.startswith('Починить') or message.text.startswith('починить'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       hp = cursor.execute("SELECT hp from cars where user_Id = ?", (message.from_user.id,)).fetchone()
       hp = int(hp[0])

       cars = cursor.execute("SELECT cars from cars where user_Id = ?", (message.from_user.id,)).fetchone()
       cars = int(cars[0])


       if cars == 1:
          cars_name = 'ВАЗ 2107'
          cars_summ = 10000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 2:
          cars_name = 'Lada Vesta'
          cars_summ = 50000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 3:
          cars_name = 'Lada XRAY Cross'
          cars_summ = 100000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 4:
          cars_name = 'Audi Q7'
          cars_summ = 500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 5:
          cars_name = 'BMW X6'
          cars_summ = 750000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 6:
          cars_name = 'Hyundai Solaris'
          cars_summ = 1000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 7:
          cars_name = 'Toyota Supra'
          cars_summ = 1500000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 8:
          cars_name = 'Lamborghini Veneno'
          cars_summ = 3000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 9:
          cars_name = 'Bugatti Veyron'
          cars_summ = 10000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 10:
          cars_name = 'Tesla Roadster'
          cars_summ = 50000000000
          cars_summ2 = '{:,}'.format(cars_summ)
       if cars == 11:
          cars_name = 'Koenigsegg'
          cars_summ = 100000000000
          cars_summ2 = '{:,}'.format(cars_summ)



       
       if hp in range(76,100):
          hp2 = 'Хорошое 🟩'

       if hp in range(51,75):
          hp2 = 'Среднее 🟧 '
         
       if hp in range(26,50):
          hp2 = 'Плохое 🟥'

       if hp in range(2,25):
          hp2 = 'Ужасное 🛑'

       if hp < 2:
          hp2 = 'Требуется ремонт ⛔️'

       else:
          if hp == 100:
             hp2 = 'Хорошое 🟩'
          if hp == 76:
             hp2 = 'Хорошо '
          if hp == 65:
             hp2 = 'Среднее 🟧'
          if hp == 51:
             hp2 = 'Средне '
          if hp == 43:
             hp2 = 'Плохое 🟥'
          if hp == 36:
             hp2 = 'Плохо '
          if hp == 25:
             hp2 = 'Ужасное 🛑'
          if hp == 12:
             hp2 = 'Ужасно '

       if hp <= 80:
          if hp > 70:
             if balance > 20000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили машину 🚘 {cars_name} за 20.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 20000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE cars SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
       else:
          await bot.send_message(message.chat.id, f" 🆘 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a>, ваша машина еше несломалась", parse_mode='html')
          

       if hp <= 70:
          if hp > 60:
             if balance > 30000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили машину 🚘 {cars_name} за 30.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 30000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE cars SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
             

       if hp <= 60:
          if hp > 50:
             if balance > 40000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили машину 🚘 {cars_name} за 40.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 40000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE cars SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')


       if hp <= 50:
          if hp > 40:
             if balance > 50000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили машину 🚘 {cars_name} за 20.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 20000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE cars SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
             

       if hp <= 40:
          if hp > 30:
             if balance > 60000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили машину 🚘 {cars_name} за 60.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 60000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE cars SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
             

       if hp <= 30:
          if hp >20:
             if balance > 70000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили машину 🚘 {cars_name} за 70.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 70000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE cars SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
             

       if hp <= 20:
          if hp > 10:
             if balance > 80000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили машину 🚘 {cars_name} за 80.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 80000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE cars SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
             

       if hp <= 10:
             if balance > 90000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили машину 🚘 {cars_name} за 90.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 90000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE cars SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')


##МиниОбнова
    if message.text.startswith('Заправка') or message.text.startswith('заправка'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       hp = cursor.execute("SELECT hp from truck where user_id = ?", (message.from_user.id,)).fetchone()
       hp = int(hp[0])
       
       fuel = cursor.execute("SELECT fuel from truck where user_Id = ?", (message.from_user.id,)).fetchone()
       fuel = int(fuel[0])

       truck = cursor.execute("SELECT truck from truck where user_Id = ?", (message.from_user.id,)).fetchone()
       truck = int(truck[0])

       
       if truck == 1:
          truck_name = 'Daf'
          truck_summ = 10000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 2:
          truck_name = 'Scania'
          truck_summ = 50000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 3:
          truck_name = 'Nissan'
          truck_summ = 100000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 4:
          truck_name = 'Renault'
          truck_summ = 500000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 5:
          truck_name = 'Volvo'
          truck_summ = 750000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 6:
          truck_name = 'Man'
          truck_summ = 1000000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 7:
          truck_name = 'Mercedes Benz'
          truck_summ = 1500000000
          truck_summ2 = '{:,}'.format(truck_summ)


       if hp in range(81,100):
          hp2 = 'Хорошое 🟩'
         
       if hp in range(71,80):
          hp2 = 'Хорошое 🟩'

       if hp in range(61,70):
          hp2 = 'Среднее 🟧 '

       if hp in range(51,60):
          hp2 = 'Среднее 🟧 '
        
       if hp in range(41,50):
          hp2 = 'Плохое 🟥'

       if hp in range(31,40):
          hp2 = 'Плохое 🟥'          

       if hp in range(21,30):
          hp2 = 'Ужасное 🛑'

       if hp in range(11,20):
          hp2 = 'Ужасное 🛑'

       if hp in range(1,10):
          hp2 = 'Ужасное 🛑'          

       if hp < 2:
          hp2 = 'Требуется ремонт ⛔️'

       else:
          if hp == 100:
             hp2 = 'Хорошое 🟩'
          if hp == 80:
             hp2 = 'Хорошо '
          if hp == 70:
             hp2 = 'Среднее 🟧'
          if hp == 60:
             hp2 = 'Средне '
          if hp == 50:
             hp2 = 'Плохое 🟥'
          if hp == 40:
             hp2 = 'Плохо '
          if hp == 30:
             hp2 = 'Ужасное 🛑'
          if hp == 20:
             hp2 = 'Ужасно '


       if hp < 80:
          if hp > 70:
             summ = 20000
             summ2 = '{:,}'.format(summ)

       if hp < 70:
          if hp > 60:
             summ = 30000
             summ2 = '{:,}'.format(summ)
      
       if hp < 60:
          if hp > 50:
             summ = 40000
             summ2 = '{:,}'.format(summ)

       if hp < 50:
          if hp > 40:
             summ = 50000
             summ2 = '{:,}'.format(summ)

       if hp < 40:
          if hp > 30:
             summ = 60000
             summ2 = '{:,}'.format(summ)

       if hp < 30:
          if hp > 20:
             summ = 70000
             summ2 = '{:,}'.format(summ)

       if hp < 30:
          if hp > 20:
             summ = 80000
             summ2 = '{:,}'.format(summ)

       if hp < 20:
          if hp > 10:
             summ = 90000
             summ2 = '{:,}'.format(summ)

       if hp < 10:
          summ = 100000
          summ2 = '{:,}'.format(summ)

       if hp <= 100:
          if hp > 90:
             summ = 5000
             summ2 = '{:,}'.format(summ)

       if hp <= 90:
          if hp > 80:
             summ = 10000
             summ2 = '{:,}'.format(summ)
             
       
       if fuel in range(90, 100):
          fuel2 = '100%'
       
       if fuel in range(80, 89):
          fuel2 = '90%'
       
       if fuel in range(70, 79):
          fuel2 = '80%'
       
       if fuel in range(60, 69):
          fuel2 = '70%'
       
       if fuel in range(50, 59):
          fuel2 = '60%'
       
       if fuel in range(40, 49):
          benz2 = '50%'
       
       if fuel in range(30, 39):
          fuel2 = '40%'
       
       if fuel in range(20, 29):
          fuel2 = '30%'
       
       if fuel in range(10, 19):
          fuel2 = '20%'
       
       if fuel in range(1, 9):
          fuel2 = '10%'
       
       if fuel < 0:
             fuel2 = 0
       
       else:
          fuel2 = fuel

       if fuel2 < 80:
          if fuel2 > 70:
             summ = 20000
             summ2 = '{:,}'.format(summ)

       if fuel2 < 70:
          if fuel2 > 60:
             summ = 30000
             summ2 = '{:,}'.format(summ)
      
       if fuel2 < 60:
          if fuel2 > 50:
             summ = 40000
             summ2 = '{:,}'.format(summ)

       if fuel2 < 50:
          if fuel2 > 40:
             summ = 50000
             summ2 = '{:,}'.format(summ)

       if fuel2 < 40:
          if fuel2 > 30:
             summ = 60000
             summ2 = '{:,}'.format(summ)

       if fuel2 < 30:
          if fuel2 > 20:
             summ = 70000
             summ2 = '{:,}'.format(summ)

       if fuel2 < 30:
          if fuel2 > 20:
             summ = 80000
             summ2 = '{:,}'.format(summ)

       if fuel2 < 20:
          if fuel2 > 10:
             summ = 90000
             summ2 = '{:,}'.format(summ)

       if fuel2 < 10:
          summ = 100000
          summ2 = '{:,}'.format(summ)             


       master_photo = open('imges/metan2.jpg', 'rb')
       await bot.send_photo(chat_id=message.chat.id, photo=master_photo, caption=f"""
<a href='tg://user?id={user_id}'>{user_name}</a> › добро пожаловать на заправку
Стоимость бензина не зависит от вашeго грузовика
вы отдаёте 10.000 $

Ваш грузовик > {truck_name}
Состояние > {hp2}
Бензин > {fuel2}%

Состояние {hp2}
Стоимость {summ2}$

Заправлено {fuel2}% / 100%
Стоимость {summ2}$

Напишите чтобы починить грузовик <code>Грузовик починить</code>
Напишите чтобы заправить грузовик <code>Грузовик заправить</code>

       """, parse_mode='html')

#######Заправка
    if message.text.startswith('Грузовик заправить') or message.text.startswith('грузовик заправить'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       truck = cursor.execute("SELECT truck from truck where user_Id = ?", (message.from_user.id,)).fetchone()
       truck = int(truck[0])

       fuel = cursor.execute("SELECT fuel from truck where user_Id = ?", (message.from_user.id,)).fetchone()
       fuel = int(fuel[0])

       
       if truck == 1:
          truck_name = 'Daf'
          truck_summ = 10000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 2:
          truck_name = 'Scania'
          truck_summ = 50000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 3:
          truck_name = 'Nissan'
          truck_summ = 100000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 4:
          truck_name = 'Renault'
          truck_summ = 500000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 5:
          truck_name = 'Volvo'
          truck_summ = 750000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 6:
          truck_name = 'Man'
          truck_summ = 1000000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 7:
          truck_name = 'Mercedes Benz'
          truck_summ = 1500000000
          truck_summ2 = '{:,}'.format(truck_summ)


       if fuel <= 80:
          if fuel > 70:
             if balance > 20000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили грузовик 🚚 {truck_name} за 20.000$", parse_mode='html')
                cursor.execute(f'UPDATE truck SET fuel = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 20000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
       else:
          await bot.send_message(message.chat.id, f" 🆘 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a>, у вашей грузовика полно бензина", parse_mode='html')
          

       if fuel <= 70:
          if fuel > 60:
             if balance > 30000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили грузовик 🚚 {truck_name} за 30.000$", parse_mode='html')
                cursor.execute(f'UPDATE truck SET fuel = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 30000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                return

       if fuel <= 60:
          if fuel > 50:
             if balance > 40000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили грузовик 🚚 {truck_name} за 40.000$", parse_mode='html')
                cursor.execute(f'UPDATE truck SET fuel = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 40000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                return

       if fuel <= 50:
          if fuel > 40:
             if balance > 50000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили грузовик 🚚 {truck_name} за 50.000$", parse_mode='html')
                cursor.execute(f'UPDATE truck SET fuel = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 50000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                return

       if fuel <= 40:
          if fuel > 30:
             if balance > 60000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили грузовик 🚚 {truck_name} за 60.000$", parse_mode='html')
                cursor.execute(f'UPDATE truck SET fuel = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 60000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                return

       if fuel <= 30:
          if fuel > 20:
             if balance > 70000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили грузовик 🚚 {truck_name} за 70.000$", parse_mode='html')
                cursor.execute(f'UPDATE truck SET fuel = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 70000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                return

       if fuel <= 20:
          if fuel > 10:
             if balance > 80000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили грузовик 🚚 {truck_name} за 80.000$", parse_mode='html')
                cursor.execute(f'UPDATE truck SET fuel = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 80000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                return

       if fuel <= 10:
             if balance > 90000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно заправили грузовик 🚚 {truck_name} за 90.000$", parse_mode='html')
                cursor.execute(f'UPDATE truck SET fuel = {100} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE users SET balance = {balance - 90000} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
                

#######Починка
    if message.text.startswith('Грузовик починить') or message.text.startswith('Грузовик починить'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_Id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       hp = cursor.execute("SELECT hp from truck where user_Id = ?", (message.from_user.id,)).fetchone()
       hp = int(hp[0])

       truck = cursor.execute("SELECT truck from truck where user_Id = ?", (message.from_user.id,)).fetchone()
       truck = int(truck[0])


       if truck == 1:
          truck_name = 'Daf'
          truck_summ = 10000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 2:
          truck_name = 'Scania'
          truck_summ = 50000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 3:
          truck_name = 'Nissan'
          truck_summ = 100000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 4:
          truck_name = 'Renault'
          truck_summ = 500000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 5:
          truck_name = 'Volvo'
          truck_summ = 750000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 6:
          truck_name = 'Man'
          truck_summ = 1000000000
          truck_summ2 = '{:,}'.format(truck_summ)
       if truck == 7:
          truck_name = 'Mercedes Benz'
          truck_summ = 1500000000
          truck_summ2 = '{:,}'.format(truck_summ)



       
       if hp in range(76,100):
          hp2 = 'Хорошое 🟩'

       if hp in range(51,75):
          hp2 = 'Среднее 🟧 '
         
       if hp in range(26,50):
          hp2 = 'Плохое 🟥'

       if hp in range(2,25):
          hp2 = 'Ужасное 🛑'

       if hp < 2:
          hp2 = 'Требуется ремонт ⛔️'

       else:
          if hp == 100:
             hp2 = 'Хорошое 🟩'
          if hp == 76:
             hp2 = 'Хорошо '
          if hp == 65:
             hp2 = 'Среднее 🟧'
          if hp == 51:
             hp2 = 'Средне '
          if hp == 43:
             hp2 = 'Плохое 🟥'
          if hp == 36:
             hp2 = 'Плохо '
          if hp == 25:
             hp2 = 'Ужасное 🛑'
          if hp == 12:
             hp2 = 'Ужасно '

       if hp <= 80:
          if hp > 70:
             if balance > 20000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили грузовик 🚚 {truck_name} за 20.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 20000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE truck SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
       else:
          await bot.send_message(message.chat.id, f" 🆘 | Игрок: <a href='tg://user?id={user_id}'>{user_name}</a>, ваш грузовик еше несломалась", parse_mode='html')
          

       if hp <= 70:
          if hp > 60:
             if balance > 30000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили грузовик 🚚 {truck_name} за 30.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 30000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE truck SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
             

       if hp <= 60:
          if hp > 50:
             if balance > 40000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили грузовик 🚚 {truck_name} за 40.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 40000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE truck SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')


       if hp <= 50:
          if hp > 40:
             if balance > 50000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили грузовик 🚚 {truck_name} за 20.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 20000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE truck SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
             

       if hp <= 40:
          if hp > 30:
             if balance > 60000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили грузовик 🚚 {truck_name} за 60.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 60000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE truck SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
             

       if hp <= 30:
          if hp >20:
             if balance > 70000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили грузовик 🚚 {truck_name} за 70.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 70000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE truck SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
             

       if hp <= 20:
          if hp > 10:
             if balance > 80000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили грузовик 🚚 {truck_name} за 80.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 80000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE truck SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')
             

       if hp <= 10:
             if balance > 90000:
                await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, Вы успешно починили грузовик 🚚 {truck_name} за 90.000$", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - 90000} WHERE user_id = {user_id}')
                cursor.execute(f'UPDATE truck SET hp = {100} WHERE user_id = {user_id}')
                connect.commit()
             else:
                await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств!", parse_mode='html')


###########################################ЭЛЕКТРОСТАНЦИИ###########################################
    if message.text.lower() in ["электростанции", "Электростанции", "Эс", "эс"]:
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       chat_id = message.chat.id
       await bot.send_message(message.chat.id, f"""<a href='tg://user?id={user_id}'>{user_name}</a>, доступные для покупки электростанции:

🎡 1. Grand Coulee |  100🔹/час (20.000.000$)
🎡 2. Xiluodu |  150🔹/час (600.000.000$)
🎡 3. Three Gorges Dam | 250🔹/час (6.500.000.000$)
🎡 4. Xiangjiaba | 500🔹/час (800.000.000.000$)
🎡 5. Itaipu Dam | 3.000🔹/час (7.500.000.000.000$)

🛒 <b>Для покупки электростанции введите</b> - <code>Купить электростанцию</code> [номер]
🛒 <b>Для покупки турбин для электростанции введите</b> - <code>Купить турбины</code> [кол-во]""", parse_mode='html')
    
    if message.text.lower() in ["купить электростанцию 1", "Купить электростанцию 1", "Купить эс 1", "купить эс 1"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farm1 = cursor.execute("SELECT farm1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm1 = int(farm1[0])
       farm2 = cursor.execute("SELECT farm2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm2 = int(farm2[0])
       farm3 = cursor.execute("SELECT farm3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm3 = int(farm3[0])
       farm4 = cursor.execute("SELECT farm4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm4 = int(farm4[0])
       farm5 = cursor.execute("SELECT farm5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm5 = int(farm5[0])
       msg = message
       chat_id = message.chat.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 20000000
       c = 1
       farms = farm1 + farm2 + farm3 + farm4 + farm5
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if farms == 0:
          if farm1 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили Grand Coulee за 20.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET farm1 = {1} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')     
                return
          if farm1 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данная электростанция! {rloser}", parse_mode='html')     
             return
       if farms == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть электростанция! {rloser}", parse_mode='html')  

    if message.text.lower() in ["купить электростанцию 2", "Купить электростанцию 2", "Купить эс 2", "купить эс 2"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farm1 = cursor.execute("SELECT farm1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm1 = int(farm1[0])
       farm2 = cursor.execute("SELECT farm2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm2 = int(farm2[0])
       farm3 = cursor.execute("SELECT farm3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm3 = int(farm3[0])
       farm4 = cursor.execute("SELECT farm4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm4 = int(farm4[0])
       farm5 = cursor.execute("SELECT farm5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm5 = int(farm5[0])
       msg = message
       chat_id = message.chat.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 600000000
       c = 1
       farms = farm1 + farm2 + farm3 + farm4 + farm5
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if farms == 0:
          if farm2 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили Xiluodu за 600.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET farm2 = {1} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')     
                return
          if farm2 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данная электростанция! {rloser}", parse_mode='html')     
             return
       if farms == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть электростанция! {rloser}", parse_mode='html') 

    if message.text.lower() in ["купить электростанцию 3", "Купить электростанцию 3", "Купить эс 4", "купить эс 4"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farm1 = cursor.execute("SELECT farm1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm1 = int(farm1[0])
       farm2 = cursor.execute("SELECT farm2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm2 = int(farm2[0])
       farm3 = cursor.execute("SELECT farm3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm3 = int(farm3[0])
       farm4 = cursor.execute("SELECT farm4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm4 = int(farm4[0])
       farm5 = cursor.execute("SELECT farm5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm5 = int(farm5[0])
       msg = message
       chat_id = message.chat.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 6500000000
       c = 1
       farms = farm1 + farm2 + farm3 + farm4 + farm5
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if farms == 0:
          if farm3 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили Three Gorges Dam за 6.500.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET farm3 = {1} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')     
                return
          if farm3 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данная электростанция! {rloser}", parse_mode='html')     
             return
       if farms == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть электростанция! {rloser}", parse_mode='html')  

    if message.text.lower() in ["купить электростанцию 4", "Купить электростанцию 4", "Купить эс 4", "купить эс 4"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farm1 = cursor.execute("SELECT farm1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm1 = int(farm1[0])
       farm2 = cursor.execute("SELECT farm2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm2 = int(farm2[0])
       farm3 = cursor.execute("SELECT farm3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm3 = int(farm3[0])
       farm4 = cursor.execute("SELECT farm4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm4 = int(farm4[0])
       farm5 = cursor.execute("SELECT farm5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm5 = int(farm5[0])
       msg = message
       chat_id = message.chat.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 800000000000
       c = 1
       farms = farm1 + farm2 + farm3 + farm4 + farm5
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if farms == 0:
          if farm4 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили Xiangjiaba Dam за 800.000.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET farm4 = {1} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')     
                return
          if farm4 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данная электростанция! {rloser}", parse_mode='html')     
             return
       if farms == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть электростанция! {rloser}", parse_mode='html')    

    if message.text.lower() in ["купить электростанцию 5", "Купить электростанцию 5", "Купить эс 5", "купить эс 5"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farm1 = cursor.execute("SELECT farm1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm1 = int(farm1[0])
       farm2 = cursor.execute("SELECT farm2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm2 = int(farm2[0])
       farm3 = cursor.execute("SELECT farm3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm3 = int(farm3[0])
       farm4 = cursor.execute("SELECT farm4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm4 = int(farm4[0])
       farm5 = cursor.execute("SELECT farm5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm5 = int(farm5[0])
       msg = message
       chat_id = message.chat.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 7500000000000
       c = 1
       farms = farm1 + farm2 + farm3 + farm4 + farm5
       checking = cursor.execute("SELECT checking from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking = round(int(checking[0]))
       if checking == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking1 = cursor.execute("SELECT checking1 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking1 = round(int(checking1[0]))
       if checking1 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking2 = cursor.execute("SELECT checking2 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking2 = round(int(checking2[0]))
       if checking2 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       checking3 = cursor.execute("SELECT checking3 from users where user_id = ?", (message.from_user.id,)).fetchone()
       checking3 = round(int(checking3[0]))
       if checking3 == 1:
          await bot.send_message(chat_id, f'ℹ | Дождитесь окончания игры! {rloser}', parse_mode='html')
          return
       if farms == 0:
          if farm5 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили Itaipu Dam за 7.500.000.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET farm5 = {1} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')     
                return
          if farm5 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данная электростанция! {rloser}", parse_mode='html')     
             return
       if farms == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть электростанция! {rloser}", parse_mode='html')    

    if message.text.lower() in ["продать электростанцию", "Продать электростанцию", "Продать эс", "продать эс"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farm1 = cursor.execute("SELECT farm1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm1 = int(farm1[0])
       farm2 = cursor.execute("SELECT farm2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm2 = int(farm2[0])
       farm3 = cursor.execute("SELECT farm3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm3 = int(farm3[0])
       farm4 = cursor.execute("SELECT farm4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm4 = int(farm4[0])
       farm5 = cursor.execute("SELECT farm5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm5 = int(farm5[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       farms = farm1 + farm2 + farm3 + farm4 + farm5 
       if farms == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету электростанции! {rloser}", parse_mode='html')
       if farm1 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали свою электростанцию за 15.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 15000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET farm1 = {0} WHERE user_id = "{user_id}"')  
          cursor.execute(f'UPDATE users SET generator = {0} WHERE user_id = "{user_id}"') 
          connect.commit() 
       if farm2 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали свою электростанцию за 450.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 450000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET farm2 = {0} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET generator = {0} WHERE user_id = "{user_id}"') 
          connect.commit() 
       if farm3 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали свою электростанцию за 4.875.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 4875000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET farm3 = {0} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET generator = {0} WHERE user_id = "{user_id}"') 
          connect.commit() 
       if farm4 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали свою электростанцию за 600.000.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 600000000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET farm4 = {0} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET generator = {0} WHERE user_id = "{user_id}"') 
          connect.commit() 
       if farm5 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали свою электростанцию за 5.625.000.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 5625000000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET farm5 = {0} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET generator = {0} WHERE user_id = "{user_id}"') 
          connect.commit() 

    if message.text.lower() in ["моя электростанция", "Моя электростанция", "Моя эс", "моя эс"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       gener = types.InlineKeyboardMarkup(row_width=2)
       gpribel = InlineKeyboardButton(text='💰 Собрать прибыль', callback_data='gpribel')
       gener.add(gpribel)
       farm1 = cursor.execute("SELECT farm1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm1 = int(farm1[0])
       farm2 = cursor.execute("SELECT farm2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm2 = int(farm2[0])
       farm3 = cursor.execute("SELECT farm3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm3 = int(farm3[0])
       farm4 = cursor.execute("SELECT farm4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm4 = int(farm4[0])
       farm5 = cursor.execute("SELECT farm5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm5 = int(farm5[0])
       generator = cursor.execute("SELECT generator from users where user_id = ?",(message.from_user.id,)).fetchone()
       generator = int(generator[0])
       farm_coin = cursor.execute("SELECT farm_coin from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm_coin = int(farm_coin[0])
       farm_coin_get = '{0:,}'.format(farm_coin).replace(',', '.')
       generator1 = '{0:,}'.format(generator * 100).replace(',', '.')
       generator2 = '{0:,}'.format(generator * 150).replace(',', '.')
       generator3 = '{0:,}'.format(generator * 250).replace(',', '.')
       generator4 = '{0:,}'.format(generator * 500).replace(',', '.')
       generator5 = '{0:,}'.format(generator * 3000).replace(',', '.')
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       farms = farm1 + farm2 + farm3 + farm4 + farm5 
       if farms == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету электростанции! {rloser}", parse_mode='html')
       if farm1 == 1:
          await bot.send_message(message.chat.id, f"""
🎡 Электростанция: Grand Coulee
👤 Владелец: <a href='tg://user?id={user_id}'>{user_name}</a>
💼 Турбин: {generator}/15
💸 Прибыль: {generator1}🔹
💰 На балансе: {farm_coin_get}🔹""", reply_markup=gener, parse_mode='html')
       if farm2 == 1:
          await bot.send_message(message.chat.id, f"""
🎡 Электростанция: Xiluodu
👤 Владелец: <a href='tg://user?id={user_id}'>{user_name}</a>
💼 Турбин: {generator}/15
💸 Прибыль: {generator2}🔹
💰 На балансе: {farm_coin_get}🔹""", reply_markup=gener, parse_mode='html')
       if farm3 == 1:
          await bot.send_message(message.chat.id, f"""
🎡 Электростанция: Three Gorges Dam
👤 Владелец: <a href='tg://user?id={user_id}'>{user_name}</a>
💼 Турбин: {generator}/15
💸 Прибыль: {generator3}🔹
💰 На балансе: {farm_coin_get}🔹""", reply_markup=gener, parse_mode='html')
       if farm4 == 1:
          await bot.send_message(message.chat.id, f"""
🎡 Электростанция: Xiangjiaba
👤 Владелец: <a href='tg://user?id={user_id}'>{user_name}</a>
💼 Турбин: {generator}/15
💸 Прибыль: {generator4}🔹
💰 На балансе: {farm_coin_get}🔹""", reply_markup=gener, parse_mode='html')
       if farm5 == 1:
          await bot.send_message(message.chat.id, f"""
🎡 Электростанция: Itaipu Dam
👤 Владелец: <a href='tg://user?id={user_id}'>{user_name}</a>
💼 Турбин: {generator}/15
💸 Прибыль: {generator5}🔹
💰 На балансе: {farm_coin_get}🔹""", reply_markup=gener, parse_mode='html')

    if message.text.startswith("Купить турбины") or message.text.startswith("купить турбины"):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farm1 = cursor.execute("SELECT farm1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm1 = int(farm1[0])
       farm2 = cursor.execute("SELECT farm2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm2 = int(farm2[0])
       farm3 = cursor.execute("SELECT farm3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm3 = int(farm3[0])
       farm4 = cursor.execute("SELECT farm4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm4 = int(farm4[0])
       farm5 = cursor.execute("SELECT farm5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm5 = int(farm5[0])
       generator = cursor.execute("SELECT generator from users where user_id = ?",(message.from_user.id,)).fetchone()
       generator = int(generator[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id

       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))

       farms = farm1 + farm2 + farm3 + farm4 + farm5 
       summ = int(msg.text.split()[2])
       check = generator + summ

       check_balance1 = summ * 20000000
       check_balance2 = summ * 600000000
       check_balance3 = summ * 6500000000
       check_balance4 = summ * 800000000000
       check_balance5 = summ * 7500000000000
       
       check_balance1_up = '{0:,}'.format(check_balance1).replace(',', '.')
       check_balance2_up = '{0:,}'.format(check_balance2).replace(',', '.')
       check_balance3_up = '{0:,}'.format(check_balance3).replace(',', '.')
       check_balance4_up = '{0:,}'.format(check_balance4).replace(',', '.')
       check_balance5_up = '{0:,}'.format(check_balance5).replace(',', '.')

       if summ <= 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не можете купить отрицательное число турбин! {rloser}", parse_mode='html')
          return
       if farms == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету электростанции! {rloser}", parse_mode='html')
          return
       if check > 15:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не можете купить больше 15 турбин! {rloser}", parse_mode='html')
          return
       if check <= 15:
          if farm1 == 1:
             if check_balance1 <= balance:
                await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {summ} турбин за {check_balance1_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - check_balance1} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET generator = {generator + summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if check_balance1 > balance:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, не достаточно средств! {rloser}", parse_mode='html')
                return
          if farm2 == 1:
             if check_balance2 <= balance:
                await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {summ} турбин за {check_balance2_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - check_balance2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET generator = {generator + summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if check_balance2 > balance:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, не достаточно средств! {rloser}", parse_mode='html')
                return
          if farm3 == 1:
             if check_balance3 <= balance:
                await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {summ} турбин за {check_balance3_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - check_balance3} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET generator = {generator + summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if check_balance3 > balance:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, не достаточно средств! {rloser}", parse_mode='html')
                return
          if farm4 == 1:
             if check_balance4 <= balance:
                await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {summ} турбин за {check_balance4_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - check_balance4} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET generator = {generator + summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if check_balance4 > balance:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, не достаточно средств! {rloser}", parse_mode='html')
                return
          if farm5 == 1:
             if check_balance5 <= balance:
                await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {summ} турбин за {check_balance5_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - check_balance5} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET generator = {generator + summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if check_balance5 > balance:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, не достаточно средств! {rloser}", parse_mode='html')
                return

    if message.text.startswith("Электростанция снять") or message.text.startswith("электростанция снять") or message.text.startswith("эс снять") or message.text.startswith("Эс снять"):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farm1 = cursor.execute("SELECT farm1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm1 = int(farm1[0])
       farm2 = cursor.execute("SELECT farm2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm2 = int(farm2[0])
       farm3 = cursor.execute("SELECT farm3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm3 = int(farm3[0])
       farm4 = cursor.execute("SELECT farm4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm4 = int(farm4[0])
       farm5 = cursor.execute("SELECT farm5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm5 = int(farm5[0])
       farm_coin = cursor.execute("SELECT farm_coin from users where user_id = ?",(message.from_user.id,)).fetchone()
       farm_coin = int(farm_coin[0])
       litecoin = cursor.execute("SELECT litecoin from users where user_id = ?",(message.from_user.id,)).fetchone()
       litecoin = int(litecoin[0])
       summ = int(msg.text.split()[2])
       summ_get = '{0:,}'.format(summ).replace(',', '.')
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       farms = farm1 + farm2 + farm3 + farm4 + farm5 
       if summ <= 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не можете снять отрицательное число лайткоина! {rloser}", parse_mode='html') 
          return
       if farms == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету электростанции! {rloser}", parse_mode='html')
       if farm1 == 1:
          if summ > farm_coin:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, на счету вашей электростанции недостаточно лайткоина! {rloser}", parse_mode='html') 
          if summ <= farm_coin:
             await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно сняли {summ_get}🔹 с вашей электростанции!", parse_mode='html')
             cursor.execute(f'UPDATE users SET farm_coin = {farm_coin - summ} WHERE user_id = "{user_id}"') 
             cursor.execute(f'UPDATE users SET litecoin = {litecoin + summ} WHERE user_id = "{user_id}"') 
             connect.commit() 
       if farm2 == 1:
          if summ > farm_coin:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, на счету вашей электростанции недостаточно лайткоина! {rloser}", parse_mode='html') 
          if summ <= farm_coin:
             await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно сняли {summ_get}🔹 с вашей электростанции!", parse_mode='html')
             cursor.execute(f'UPDATE users SET farm_coin = {farm_coin - summ} WHERE user_id = "{user_id}"') 
             cursor.execute(f'UPDATE users SET litecoin = {litecoin + summ} WHERE user_id = "{user_id}"') 
             connect.commit() 
       if farm3 == 1:
          if summ > farm_coin:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, на счету вашей электростанции недостаточно лайткоина! {rloser}", parse_mode='html') 
          if summ <= farm_coin:
             await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно сняли {summ_get}🔹 с вашей электростанции!", parse_mode='html')
             cursor.execute(f'UPDATE users SET farm_coin = {farm_coin - summ} WHERE user_id = "{user_id}"') 
             cursor.execute(f'UPDATE users SET litecoin = {litecoin + summ} WHERE user_id = "{user_id}"') 
             connect.commit() 
       if farm4 == 1:
          if summ > farm_coin:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, на счету вашей электростанции недостаточно лайткоина! {rloser}", parse_mode='html') 
          if summ <= farm_coin:
             await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно сняли {summ_get}🔹 с вашей электростанции!", parse_mode='html')
             cursor.execute(f'UPDATE users SET farm_coin = {farm_coin - summ} WHERE user_id = "{user_id}"') 
             cursor.execute(f'UPDATE users SET litecoin = {litecoin + summ} WHERE user_id = "{user_id}"') 
             connect.commit() 
       if farm5 == 1:
          if summ > farm_coin:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, на счету вашей электростанции недостаточно лайткоина! {rloser}", parse_mode='html') 
          if summ <= farm_coin:
             await bot.send_message(message.chat.id, f"🎡 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно сняли {summ_get}🔹 с вашей электростанции!", parse_mode='html')
             cursor.execute(f'UPDATE users SET farm_coin = {farm_coin - summ} WHERE user_id = "{user_id}"') 
             cursor.execute(f'UPDATE users SET litecoin = {litecoin + summ} WHERE user_id = "{user_id}"') 
             connect.commit() 


#############################################ФЕРМЫ#################################################
    if message.text.lower() in ["Фермы", "фермы"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       await bot.send_message(message.chat.id, f"""
<a href='tg://user?id={user_id}'>{user_name}</a>, доступные для покупки майнинг фермы:

🖥 1. <b>TI-Miner</b> 112฿/час
🖥 2. <b>Saturn</b> 505฿/час
🖥 3. <b>Calisto</b> 1.050฿/час
🖥 4. <b>HashMiner</b> 2.250฿/час
🖥 5. <b>MegaWatt</b> 5.400฿/час

💡 <b>Вы не можете иметь фермы от разных производителей.</b>
🛒 <b>Для покупки фермы введите</b> - <code>Купить ферму</code> [номер]""", parse_mode='html')

    if message.text.lower() in ["продать ферму", "Продать ферму"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farmcoin1 = cursor.execute("SELECT farmcoin1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin1 = int(farmcoin1[0])
       farmcoin2 = cursor.execute("SELECT farmcoin2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin2 = int(farmcoin2[0])
       farmcoin3 = cursor.execute("SELECT farmcoin3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin3 = int(farmcoin3[0])
       farmcoin4 = cursor.execute("SELECT farmcoin4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin4 = int(farmcoin4[0])
       farmcoin5 = cursor.execute("SELECT farmcoin5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin5 = int(farmcoin5[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       farmscoin = farmcoin1 + farmcoin2 + farmcoin3 + farmcoin4 + farmcoin5 
       if farmscoin == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету майнинг-фермы! {rloser}", parse_mode='html')
       if farmcoin1 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали свою майнинг-ферму за 3.750.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 3750000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET farmcoin1 = {0} WHERE user_id = "{user_id}"')  
          cursor.execute(f'UPDATE users SET vcard = {0} WHERE user_id = "{user_id}"') 
          connect.commit() 
       if farmcoin2 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали свою майнинг-ферму за 45.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 45000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET farmcoin2 = {0} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET vcard = {0} WHERE user_id = "{user_id}"') 
          connect.commit() 
       if farmcoin3 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали свою майнинг-ферму за 487.500.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 487500000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET farmcoin3 = {0} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET vcard = {0} WHERE user_id = "{user_id}"') 
          connect.commit() 
       if farmcoin4 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали свою майнинг-ферму за 60.000.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 60000000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET farmcoin4 = {0} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET vcard = {0} WHERE user_id = "{user_id}"') 
          connect.commit() 
       if farmcoin5 == 1:
          await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали свою майнинг-ферму за 562.500.000.000$", parse_mode='html')
          cursor.execute(f'UPDATE users SET balance = {balance + 562500000000} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET farmcoin5 = {0} WHERE user_id = "{user_id}"') 
          cursor.execute(f'UPDATE users SET vcard = {0} WHERE user_id = "{user_id}"') 
          connect.commit() 

    if message.text.lower() in ["Моя ферма", "моя ферма"]:
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       ferma = types.InlineKeyboardMarkup(row_width=2)
       pribel = InlineKeyboardButton(text='💰 Собрать прибыль', callback_data='pribel')
       vcard1 = InlineKeyboardButton(text='📼 Купить видеокарту', callback_data='vcard1')
       ferma.add(pribel, vcard1)
       ferma1 = types.InlineKeyboardMarkup(row_width=2)
       pribel = InlineKeyboardButton(text='💰 Собрать прибыль', callback_data='pribel')
       vcard2 = InlineKeyboardButton(text='📼 Купить видеокарту', callback_data='vcard2')
       ferma1.add(pribel, vcard2)
       ferma2 = types.InlineKeyboardMarkup(row_width=2)
       pribel = InlineKeyboardButton(text='💰 Собрать прибыль', callback_data='pribel')
       vcard3 = InlineKeyboardButton(text='📼 Купить видеокарту', callback_data='vcard3')
       ferma2.add(pribel, vcard3)
       ferma3 = types.InlineKeyboardMarkup(row_width=2)
       pribel = InlineKeyboardButton(text='💰 Собрать прибыль', callback_data='pribel')
       vcard4 = InlineKeyboardButton(text='📼 Купить видеокарту', callback_data='vcard4')
       ferma3.add(pribel, vcard4)
       ferma4 = types.InlineKeyboardMarkup(row_width=2)
       pribel = InlineKeyboardButton(text='💰 Собрать прибыль', callback_data='pribel')
       vcard5 = InlineKeyboardButton(text='📼 Купить видеокарту', callback_data='vcard5')
       ferma4.add(pribel, vcard5)

       farmcoin1 = cursor.execute("SELECT farmcoin1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin1 = int(farmcoin1[0])
       farmcoin2 = cursor.execute("SELECT farmcoin2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin2 = int(farmcoin2[0])
       farmcoin3 = cursor.execute("SELECT farmcoin3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin3 = int(farmcoin3[0])
       farmcoin4 = cursor.execute("SELECT farmcoin4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin4 = int(farmcoin4[0])
       farmcoin5 = cursor.execute("SELECT farmcoin5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin5 = int(farmcoin5[0])
       vcard = cursor.execute("SELECT vcard from users where user_id = ?",(message.from_user.id,)).fetchone()
       vcard = int(vcard[0])
       bitmaning = cursor.execute("SELECT bitmaning from users where user_id = ?",(message.from_user.id,)).fetchone()
       bitmaning = int(bitmaning[0])
       profit1 = '{0:,}'.format(vcard * 112).replace(',', '.')
       profit2 = '{0:,}'.format(vcard * 505).replace(',', '.')
       profit3 = '{0:,}'.format(vcard * 1050).replace(',', '.')
       profit4 = '{0:,}'.format(vcard * 2250).replace(',', '.')
       profit5 = '{0:,}'.format(vcard * 5400).replace(',', '.')
       farmscoin = farmcoin1 + farmcoin2 + farmcoin3 + farmcoin4 + farmcoin5
       bitmaning2 = '{0:,}'.format(bitmaning).replace(',', '.')
       if farmscoin == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету майнинг фермы!", parse_mode='html')
       if farmcoin1 == 1:
          await bot.send_message(message.chat.id, f"""
🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, <b>вот ваша майнинг-фермa ☺️

📝 | Название фермы:</b> <code>TI-Miner</code> 🔥
🔧 <b>| Характеристики:
💸 Доход: </b>{profit1}฿<b>/чаc</b>
📼<b> Видеокарт: </b><code>{vcard}</code><b> из</b><code> 1000</code>
💰 <b>На балансе фермы:</b><code> {bitmaning2}</code>฿""", reply_markup=ferma, parse_mode='html')
       if farmcoin2 == 1:
          await bot.send_message(message.chat.id, f"""
🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, <b>вот ваша майнинг-фермa ☺️

📝 | Название фермы:</b> <code>Saturn</code> 🔥
🔧 <b>| Характеристики:
💸 Доход: </b>{profit2}฿<b>/чаc</b>
📼<b> Видеокарт: </b><code>{vcard}</code><b> из</b><code> 1000</code>
💰 <b>На балансе фермы:</b><code> {bitmaning2}</code>฿""", reply_markup=ferma1, parse_mode='html')
       if farmcoin3 == 1:
          await bot.send_message(message.chat.id, f"""
🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, <b>вот ваша майнинг-фермa ☺️

📝 | Название фермы:</b> <code>Calisto</code> 🔥
🔧 <b>| Характеристики:
💸 Доход: </b>{profit3}฿<b>/чаc</b>
📼<b> Видеокарт: </b><code>{vcard}</code><b> из</b><code> 1000</code>
💰 <b>На балансе фермы:</b><code> {bitmaning2}</code>฿""", reply_markup=ferma2, parse_mode='html')
       if farmcoin4 == 1:
          await bot.send_message(message.chat.id, f"""
🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, <b>вот ваша майнинг-фермa ☺️

📝 | Название фермы:</b> <code>HashMiner</code> 🔥
🔧 <b>| Характеристики:
💸 Доход: </b>{profit4}฿<b>/чаc</b>
📼 <b>Видеокарт:</b> <code>{vcard}</code><b> из</b><code> 1000</code>
💰 <b>На балансе фермы:</b><code> {bitmaning2}</code>฿""", reply_markup=ferma3, parse_mode='html')
       if farmcoin5 == 1:
          await bot.send_message(message.chat.id, f"""
🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, <b>вот ваша майнинг-фермa ☺️

📝 | Название фермы:</b> <code>MegaWatt</code> 🔥
🔧 <b>| Характеристики:
💸 Доход: </b>{profit5}฿<b>/чаc</b>
📼 <b>Видеокарт: </b><code>{vcard}</code><b> из</b><code> 1000</code>
💰 <b>На балансе фермы:</b><code> {bitmaning2}</code>฿""", reply_markup=ferma4, parse_mode='html')

    if message.text.lower() in ["купить ферму 1", "Купить ферму 1"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farmcoin1 = cursor.execute("SELECT farmcoin1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin1 = int(farmcoin1[0])
       farmcoin2 = cursor.execute("SELECT farmcoin2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin2 = int(farmcoin2[0])
       farmcoin3 = cursor.execute("SELECT farmcoin3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin3 = int(farmcoin3[0])
       farmcoin4 = cursor.execute("SELECT farmcoin4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin4 = int(farmcoin4[0])
       farmcoin5 = cursor.execute("SELECT farmcoin5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin5 = int(farmcoin5[0])
       chat_id = message.chat.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = message.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 5000000
       c = 1
       farmscoin = farmcoin1 + farmcoin2 + farmcoin3 + farmcoin4 + farmcoin5
       if farmscoin == 0:
          if farmcoin1 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили майнинг-ферму \"TI-Miner\" за 5.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET farmcoin1 = {1} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')     
                return
          if farmcoin1 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данная майнинг-ферма! {rloser}", parse_mode='html')     
             return
       if farmscoin == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть майнинг-ферма! {rloser}", parse_mode='html')  

    if message.text.lower() in ["купить ферму 2", "Купить ферму 2"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farmcoin1 = cursor.execute("SELECT farmcoin1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin1 = int(farmcoin1[0])
       farmcoin2 = cursor.execute("SELECT farmcoin2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin2 = int(farmcoin2[0])
       farmcoin3 = cursor.execute("SELECT farmcoin3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin3 = int(farmcoin3[0])
       farmcoin4 = cursor.execute("SELECT farmcoin4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin4 = int(farmcoin4[0])
       farmcoin5 = cursor.execute("SELECT farmcoin5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin5 = int(farmcoin5[0])
       chat_id = message.chat.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = message.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 60000000
       c = 1
       farmscoin = farmcoin1 + farmcoin2 + farmcoin3 + farmcoin4 + farmcoin5
       if farmscoin == 0:
          if farmcoin2 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили майнинг-ферму \"Saturn\" за 60.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET farmcoin2 = {1} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')     
                return
          if farmcoin2 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данная майнинг-ферма! {rloser}", parse_mode='html')     
             return
       if farmscoin == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть майнинг-ферма! {rloser}", parse_mode='html')  
  
    if message.text.lower() in ["купить ферму 3", "Купить ферму 3"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farmcoin1 = cursor.execute("SELECT farmcoin1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin1 = int(farmcoin1[0])
       farmcoin2 = cursor.execute("SELECT farmcoin2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin2 = int(farmcoin2[0])
       farmcoin3 = cursor.execute("SELECT farmcoin3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin3 = int(farmcoin3[0])
       farmcoin4 = cursor.execute("SELECT farmcoin4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin4 = int(farmcoin4[0])
       farmcoin5 = cursor.execute("SELECT farmcoin5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin5 = int(farmcoin5[0])
       chat_id = message.chat.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = message.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 650000000
       c = 1
       farmscoin = farmcoin1 + farmcoin2 + farmcoin3 + farmcoin4 + farmcoin5
       if farmscoin == 0:
          if farmcoin3 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили майнинг-ферму \"Calisto\" за 650.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET farmcoin3 = {1} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')     
                return
          if farmcoin3 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данная майнинг-ферма! {rloser}", parse_mode='html')     
             return
       if farmscoin == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть майнинг-ферма! {rloser}", parse_mode='html')  
    
    if message.text.lower() in ["купить ферму 4", "Купить ферму 4"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farmcoin1 = cursor.execute("SELECT farmcoin1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin1 = int(farmcoin1[0])
       farmcoin2 = cursor.execute("SELECT farmcoin2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin2 = int(farmcoin2[0])
       farmcoin3 = cursor.execute("SELECT farmcoin3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin3 = int(farmcoin3[0])
       farmcoin4 = cursor.execute("SELECT farmcoin4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin4 = int(farmcoin4[0])
       farmcoin5 = cursor.execute("SELECT farmcoin5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin5 = int(farmcoin5[0])
       chat_id = message.chat.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = message.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 80000000000
       c = 1
       farmscoin = farmcoin1 + farmcoin2 + farmcoin3 + farmcoin4 + farmcoin5
       if farmscoin == 0:
          if farmcoin4 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили майнинг-ферму \"HashMiner\" за 80.000.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET farmcoin4 = {1} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')     
                return
          if farmcoin4 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данная майнинг-ферма! {rloser}", parse_mode='html')     
             return
       if farmscoin == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть майнинг-ферма! {rloser}", parse_mode='html')  

    if message.text.lower() in ["купить ферму 5", "Купить ферму 5"]: 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farmcoin1 = cursor.execute("SELECT farmcoin1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin1 = int(farmcoin1[0])
       farmcoin2 = cursor.execute("SELECT farmcoin2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin2 = int(farmcoin2[0])
       farmcoin3 = cursor.execute("SELECT farmcoin3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin3 = int(farmcoin3[0])
       farmcoin4 = cursor.execute("SELECT farmcoin4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin4 = int(farmcoin4[0])
       farmcoin5 = cursor.execute("SELECT farmcoin5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin5 = int(farmcoin5[0])
       chat_id = message.chat.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = message.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       summ = 750000000000
       c = 1
       farmscoin = farmcoin1 + farmcoin2 + farmcoin3 + farmcoin4 + farmcoin5
       if farmscoin == 0:
          if farmcoin5 == 0:
             if int(balance) >= int(summ):
                await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили майнинг-ферму \"MegaWatt\" за 750.000.000.000$ 🎉", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - summ} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET farmcoin5 = {1} WHERE user_id = "{user_id}"') 
                connect.commit()    
                return
             else:
                await bot.send_message(message.chat.id, f"💰 | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно средств! {rloser}", parse_mode='html')     
                return
          if farmcoin5 == 1:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть данная майнинг-ферма! {rloser}", parse_mode='html')     
             return
       if farmscoin == 1:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть майнинг-ферма! {rloser}", parse_mode='html')  

    if message.text.startswith("куkkпить видеjокарту") or message.text.startswith("Куjпитbь видеnокарту") or message.text.startswith("Купbjить видеоjкарты") or message.text.startswith("купиlhть видеоjкарты"):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farmcoin1 = cursor.execute("SELECT farmcoin1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin1 = int(farmcoin1[0])
       farmcoin2 = cursor.execute("SELECT farmcoin2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin2 = int(farmcoin2[0])
       farmcoin3 = cursor.execute("SELECT farmcoin3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin3 = int(farmcoin3[0])
       farmcoin4 = cursor.execute("SELECT farmcoin4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin4 = int(farmcoin4[0])
       farmcoin5 = cursor.execute("SELECT farmcoin5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin5 = int(farmcoin5[0])
       vcard = cursor.execute("SELECT vcard from users where user_id = ?",(message.from_user.id,)).fetchone()
       vcard = int(vcard[0])
       farmscoin = farmcoin1 + farmcoin2 + farmcoin3 + farmcoin4 + farmcoin5
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id

       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))

       summ = int(msg.text.split()[2])
       check = (vcard + summ)
       check_balance1 = summ * 5000000
       check_balance2 = summ * 60000000
       check_balance3 = summ * 650000000
       check_balance4 = summ * 80000000000
       check_balance5 = summ * 750000000000
       
       check_balance1_up = '{0:,}'.format(check_balance1).replace(',', '.')
       check_balance2_up = '{0:,}'.format(check_balance2).replace(',', '.')
       check_balance3_up = '{0:,}'.format(check_balance3).replace(',', '.')
       check_balance4_up = '{0:,}'.format(check_balance4).replace(',', '.')
       check_balance5_up = '{0:,}'.format(check_balance5).replace(',', '.')

       if summ <= 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не можете купить отрицательное число видеокарт! {rloser}", parse_mode='html')
          return
       if farmscoin == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету майнинг-фермы! {rloser}", parse_mode='html')
          return
       if check > 1000:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не можете купить больше 1000 видеокарт! {rloser}", parse_mode='html')
          return
       if check <= 1000:
          if farmcoin1 == 1:
             if check_balance1 <= balance:
                await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {summ} видеокарт за {check_balance1_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - check_balance1} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET vcard = {vcard + summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if check_balance1 > balance:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, не достаточно средств! {rloser}", parse_mode='html')
                return
          if farmcoin2 == 1:
             if check_balance2 <= balance:
                await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {summ} видеокарт за {check_balance2_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - check_balance2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET vcard = {vcard + summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if check_balance2 > balance:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, не достаточно средств! {rloser}", parse_mode='html')
                return
          if farmcoin3 == 1:
             if check_balance3 <= balance:
                await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {summ} видеокарт за {check_balance3_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - check_balance3} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET vcard = {vcard + summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if check_balance3 > balance:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, не достаточно средств! {rloser}", parse_mode='html')
                return
          if farmcoin4 == 1:
             if check_balance4 <= balance:
                await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {summ} видеокарт за {check_balance4_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - check_balance4} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET vcard = {vcard + summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if check_balance4 > balance:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, не достаточно средств! {rloser}", parse_mode='html')
                return
          if farmcoin5 == 1:
             if check_balance5 <= balance:
                await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили {summ} видеокарт за {check_balance5_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance - check_balance5} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET vcard = {vcard + summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if check_balance5 > balance:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, не достаточно средств! {rloser}", parse_mode='html')
                return
                
    if message.text.startswith("ферма снять") or message.text.startswith("Ферма снять"):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farmcoin1 = cursor.execute("SELECT farmcoin1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin1 = int(farmcoin1[0])
       farmcoin2 = cursor.execute("SELECT farmcoin2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin2 = int(farmcoin2[0])
       farmcoin3 = cursor.execute("SELECT farmcoin3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin3 = int(farmcoin3[0])
       farmcoin4 = cursor.execute("SELECT farmcoin4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin4 = int(farmcoin4[0])
       farmcoin5 = cursor.execute("SELECT farmcoin5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin5 = int(farmcoin5[0])
       vcard = cursor.execute("SELECT vcard from users where user_id = ?",(message.from_user.id,)).fetchone()
       vcard = int(vcard[0])
       farmscoin = farmcoin1 + farmcoin2 + farmcoin3 + farmcoin4 + farmcoin5
       bitcoin = cursor.execute("SELECT bitcoin from users where user_id = ?",(message.from_user.id,)).fetchone()
       bitcoin = int(bitcoin[0])
       bitmaning = cursor.execute("SELECT bitmaning from users where user_id = ?",(message.from_user.id,)).fetchone()
       bitmaning = int(bitmaning[0])
       summ = int(message.text.split()[2])
       summ_get = '{0:,}'.format(summ).replace(',', '.')
       chat_id = message.chat.id
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = message.from_user.id
       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))
       if summ <= 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не можете снять отрицательное число биткоина! {rloser}", parse_mode='html') 
          return
       if farmscoin == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету майнинг-фермы! {rloser}", parse_mode='html')
       if farmcoin1 == 1:
          if summ > bitmaning:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, на счету вашей фермы недостаточно биткоинов! {rloser}", parse_mode='html') 
          if summ <= bitmaning:
             await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно сняли {summ_get}฿ с балансов вашей майнинг-фермы!", parse_mode='html')
             cursor.execute(f'UPDATE users SET bitmaning = {bitmaning - summ} WHERE user_id = "{user_id}"') 
             cursor.execute(f'UPDATE users SET bitcoin = {bitcoin + summ} WHERE user_id = "{user_id}"') 
             connect.commit() 
       if farmcoin2 == 1:
          if summ > bitmaning:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, на счету вашей фермы недостаточно биткоинов! {rloser}", parse_mode='html') 
          if summ <= bitmaning:
             await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно сняли {summ_get}฿ с балансов вашей майнинг-фермы", parse_mode='html')
             cursor.execute(f'UPDATE users SET bitmaning = {bitmaning - summ} WHERE user_id = "{user_id}"') 
             cursor.execute(f'UPDATE users SET bitcoin = {bitcoin + summ} WHERE user_id = "{user_id}"') 
             connect.commit() 
       if farmcoin3 == 1:
          if summ > bitmaning:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, на счету вашей фермы недостаточно биткоинов! {rloser}", parse_mode='html') 
          if summ <= bitmaning:
             await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно сняли {summ_get}฿️ с баланса вашей майнинг-фермы!", parse_mode='html')
             cursor.execute(f'UPDATE users SET bitmaning = {bitmaning - summ} WHERE user_id = "{user_id}"') 
             cursor.execute(f'UPDATE users SET bitcoin = {bitcoin + summ} WHERE user_id = "{user_id}"') 
             connect.commit() 
       if farmcoin4 == 1:
          if summ > bitmaning:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, на счету вашей фермы недостаточно биткоинов! {rloser}", parse_mode='html') 
          if summ <= bitmaning:
             await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно сняли {summ_get}฿️ с баланса вашей майнинг-фермы!", parse_mode='html')
             cursor.execute(f'UPDATE users SET bitmaning = {bitmaning - summ} WHERE user_id = "{user_id}"') 
             cursor.execute(f'UPDATE users SET bitcoin = {bitcoin + summ} WHERE user_id = "{user_id}"') 
             connect.commit() 
       if farmcoin5 == 1:
          if summ > bitmaning:
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, на счету вашей фермы недостаточно биткоинов! {rloser}", parse_mode='html') 
          if summ <= bitmaning:
             await bot.send_message(message.chat.id, f"🖥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно сняли {summ_get}฿️ с баланса вашей майнинг-фермы!", parse_mode='html')
             cursor.execute(f'UPDATE users SET bitmaning = {bitmaning - summ} WHERE user_id = "{user_id}"') 
             cursor.execute(f'UPDATE users SET bitcoin = {bitcoin + summ} WHERE user_id = "{user_id}"') 
             connect.commit() 

    if message.text.startswith("прsjть видеокарту") or message.text.startswith("Прusодать виsjsjдеокту"):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       farmcoin1 = cursor.execute("SELECT farmcoin1 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin1 = int(farmcoin1[0])
       farmcoin2 = cursor.execute("SELECT farmcoin2 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin2 = int(farmcoin2[0])
       farmcoin3 = cursor.execute("SELECT farmcoin3 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin3 = int(farmcoin3[0])
       farmcoin4 = cursor.execute("SELECT farmcoin4 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin4 = int(farmcoin4[0])
       farmcoin5 = cursor.execute("SELECT farmcoin5 from users where user_id = ?",(message.from_user.id,)).fetchone()
       farmcoin5 = int(farmcoin5[0])
       vcard = cursor.execute("SELECT vcard from users where user_id = ?",(message.from_user.id,)).fetchone()
       vcard = int(vcard[0])
       chat_id = message.chat.id
       msg = message
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       user_id = msg.from_user.id

       balance = cursor.execute("SELECT balance from users where user_id = ?",(message.from_user.id,)).fetchone()
       balance = round(int(balance[0]))

       farmscoin = farmcoin1 + farmcoin2 + farmcoin3 + farmcoin4 + farmcoin5
       summ = int(msg.text.split()[2])
       check = vcard + summ

       check_balance1 = summ * 3750000
       check_balance2 = summ * 45000000
       check_balance3 = summ * 487500000
       check_balance4 = summ * 60000000000
       check_balance5 = summ * 562500000000
       
       check_balance1_up = '{0:,}'.format(check_balance1).replace(',', '.')
       check_balance2_up = '{0:,}'.format(check_balance2).replace(',', '.')
       check_balance3_up = '{0:,}'.format(check_balance3).replace(',', '.')
       check_balance4_up = '{0:,}'.format(check_balance4).replace(',', '.')
       check_balance5_up = '{0:,}'.format(check_balance5).replace(',', '.')

       if summ <= 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не можете купить отрицательное число видеокарт! {rloser}", parse_mode='html')
          return
       if farmscoin == 0:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету майнинг-фермы! {rloser}", parse_mode='html')
          return
       if summ > 1000:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы не можете продать больше 1000 видеокарт! {rloser}", parse_mode='html')
          return
       if summ <= 1000:
          if farmcoin1 == 1:
             if summ <= vcard:
                await bot.send_message(message.chat.id, f"🧰 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали {summ} видеокарт за {check_balance1_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance + check_balance1} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET vcard = {vcard - summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if summ > vcard:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно видеокарт! {rloser}", parse_mode='html')
                return
          if farmcoin2 == 1:
             if summ <= vcard:
                await bot.send_message(message.chat.id, f"📼 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали {summ} видеокарт за {check_balance2_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance + check_balance2} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET vcard = {vcard - summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if summ > vcard:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно видеокарт! {rloser}", parse_mode='html')
                return
          if farmcoin3 == 1:
             if summ <= vcard:
                await bot.send_message(message.chat.id, f"📼 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали {summ} видеокарт за {check_balance3_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance + check_balance3} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET vcard = {vcard - summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if summ > vcard:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно видеокарт! {rloser}", parse_mode='html')
                return
          if farmcoin4 == 1:
             if summ <= vcard:
                await bot.send_message(message.chat.id, f"📼 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали {summ} видеокарт за {check_balance4_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance + check_balance4} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET vcard = {vcard - summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if summ > vcard:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно видеокарт! {rloser}", parse_mode='html')
                return
          if farmcoin5 == 1:
             if summ <= vcard:
                await bot.send_message(message.chat.id, f"📼 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно продали {summ} видеокарт за {check_balance5_up}$ !", parse_mode='html')
                cursor.execute(f'UPDATE users SET balance = {balance + check_balance5} WHERE user_id = "{user_id}"') 
                cursor.execute(f'UPDATE users SET vcard = {vcard - summ} WHERE user_id = "{user_id}"') 
                connect.commit() 
             if summ > vcard:
                await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, недостаточно видеокарт! {rloser}", parse_mode='html')
                return

#############################################ЛЕСОПИЛКА#####################################################
    if message.text.lower() in ['Моя лесопилка', 'моя лесопилка']:
                    help_biz = InlineKeyboardMarkup(row_width=3)

                    bizsnat = InlineKeyboardButton(text='💸 Снять прибыль', callback_data='bizsnat')
                    bizrab = InlineKeyboardButton(text='👷‍♂ Нанять лесоруба', callback_data='bizrab')

                    help_biz.add(bizsnat, bizrab)
                    msg = message
                    user_name = message.from_user.get_mention(as_html=True)
                    user_name = cursor.execute(
                        "SELECT user_name from users where user_id = ?", (message.from_user.id,))
                    user_name = cursor.fetchone()
                    user_name = str(user_name[0])
                    business = cursor.execute(
                        "SELECT business from mine where user_id = ?", (message.from_user.id,))
                    business = cursor.fetchone()
                    balance = cursor.execute(
                        "SELECT balance from mine where user_id = ?", (message.from_user.id,))
                    balance = cursor.fetchone()
                    workers = cursor.execute(
                        "SELECT workers from mine where user_id = ?", (message.from_user.id,))
                    workers = cursor.fetchone()
                    workers = int(workers[0])
                    workers2 = '{:,}'.format(workers).replace(',', '.')
                    balance = int(balance[0])
                    balance2 = '{:,}'.format(balance).replace(',', '.')
                    prib = workers * 3500
                    prib2 = '{:,}'.format(prib).replace(',', '.')
                    loser = ['😔', '😕', '😣', '😞', '😢']
                    #photo = open("assets/business.jpg", 'rb')
                    rloser = random.choice(loser)
                    if business[0] == 1:
                        await bot.send_message(message.chat.id,f'''
{user_name},<b> вот ваша лесопилка 

📝 | Нaзвание:</b><code> VestOpoval</code> 🪓
🔧 | <b>Характеристики:
💸 Прибыль: </b><code>{prib2}🪵</code><b>/чаc
👷‍♂ Лесорубов:</b><code> {workers2}</code><b> из</b><code> 50</code><b> чел.
💰 На счету:</b><code> {balance2}</code>🪵
''',
                                             reply_markup=help_biz,parse_mode='html')

                    if business[0] == 0:
                        await bot.send_message(message.chat.id,
                                               f'{user_name}, Извините . Но у вас нету лесопилки{rloser}\n‼️ Что бы построить лесопилку используйте командy\n‼️ <code>Построить лесопилку</code>',
                                               parse_mode='html')

    if message.text.lower() in ['лесопилка', 'Лесопилка']:
                    name = message.from_user.get_mention(as_html=True)
                    user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                               (message.from_user.id,))
                    user_name = cursor.fetchone()
                    user_name = user_name[0]
                    user_id = message.from_user.id
                    await bot.send_message(message.chat.id, f'''
<a href="tg://user?id={user_id}">{user_name}</a>, когда вы достигните 10 уровня, вы сможете построить лесопилку🪓 и получать с неё доход в виде дерева 🪵.
Для её постройки вам понадобится 500 камня.

  🌲 Для постройки лесопилки введите команду - <code>построить лесопилку</code>.
  🪓 Информация о вашей лесопилке - <code>моя лесопилка</code>.


                            ''', parse_mode='html')
                            
                            
                            
    if message.text.startswith('продать') or message.text.startswith('Продать'):
         user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
         user_name = user_name[0]
         user_id = message.from_user.id

         balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
         balance = int(balance[0])

         brevno = cursor.execute("SELECT brevno from mine where user_id = ?", (message.from_user.id,)).fetchone()
         brevno = int(brevno[0])
         rud = str(message.text.split()[1])

         c = int(message.text.split()[2])

         summ = c * 11500000
         summ2 = '{:,}'.format(summ)
         if rud == 'дерево':
            if c <= brevno:
             if c > 0:               
               summ = c * 11500000
               summ2 = '{:,}'.format(summ)
               await bot.send_message(message.chat.id, f"💸 | Вы успешно продали {c} дерева 🪵 за {summ2}$", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {balance + summ} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE mine SET brevno = {brevno - c} WHERE user_id = "{user_id}"')
               connect.commit()
            else:
               await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету столько дерева!", parse_mode='html')
                            
                            

    if message.text.startswith("Построить лесопилку") or message.text.startswith("построить лесопилку"):
                    user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                               (message.from_user.id,))
                    user_name = cursor.fetchone()
                    user_name = user_name[0]
                    user_id = message.from_user.id

                    loser = ['😔', '😕', '😣', '😞', '😢']
                    rloser = random.choice(loser)
                    if message.text != 'построить лесопилку':

                        iron = cursor.execute(
                            "SELECT iron from user_case where user_id = ?", (message.from_user.id,))
                        iron = cursor.fetchone()
                        iron = int(iron[0])
                        
                        level = cursor.execute(
                            "SELECT level from users where user_id = ?", (message.from_user.id,))
                        level = cursor.fetchone()
                        level = int(level[0])

                        business = cursor.execute(
                            "SELECT business from mine where user_id = ?", (message.from_user.id,))
                        business = cursor.fetchone()
                        business = int(business[0])

                        loser = ['😔', '😕', '😣', '😞', '😢']
                        rloser = random.choice(loser)
                      

                        if level >=10:
                            price = 500
                            if iron >= price:
                                if business < 1:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно построили лесопилку "VestOpoval" 🎉',
                                                           parse_mode='html')
                                    cursor.execute(
                                        f"UPDATE mine SET have = 'on'  WHERE user_id = {user_id}")
                                    cursor.execute(f'UPDATE user_case SET iron = {iron - price}  WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE mine SET business = {1}  WHERE user_id = {user_id}')
                                    connect.commit()
                                else:
                                    await bot.send_message(message.chat.id,
                                                           f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас уже есть лесопилка {rloser}',
                                                           parse_mode='html')
                            else:
                                await bot.send_message(message.chat.id,
                                                       f'<a href="tg://user?id={user_id}">{user_name}</a>, у вас недостаточно камня для постройки лесопилки\n Для постройки небходимо 500 камня {rloser}',
                                                       parse_mode='html')
                        else:
                            await bot.send_message(message.chat.id,
                                                       f'<a href="tg://user?id={user_id}">{user_name}</a>, постройка лесопилки доступна от 10 уровня!',
                                                       parse_mode='html')
                            return
    if message.text.lower() in ['Прyeyоzxдать лесопилку', "продzать лесsusопилку"]:
                    user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                               (message.from_user.id,))
                    user_name = cursor.fetchone()
                    user_name = user_name[0]
                    user_id = message.from_user.id

                    balance = cursor.execute(
                        "SELECT balance from users where user_id = ?", (message.from_user.id,))
                    balance = cursor.fetchone()
                    balance = int(balance[0])

                    business = cursor.execute(
                        "SELECT business from business where user_id = ?", (message.from_user.id,))
                    business = cursor.fetchone()
                    business = int(business[0])

                    loser = ['😔', '😕', '😣', '😞', '😢']
                    rloser = random.choice(loser)

                    win = ['🙂', '😋', '😄', '🤑', '😃']
                    rwin = random.choice(win)

                    if business > 0:
                        if business == 1:
                            price = 10000000
                            price2 = price / 2
                            price3 = '{:,}'.format(price2)

                            await bot.send_message(message.chat.id,
                                                   f'<a href="tg://user?id={user_id}">{user_name}</a>, вы успешно продали лесопилку за {price3}$  ',
                                                   parse_mode='html')
                            cursor.execute(
                                f'UPDATE users SET balance = {balance + price2}  WHERE user_id = {user_id}')
                            cursor.execute(
                                f'UPDATE business SET business = {0}  WHERE user_id = {user_id}')
                            cursor.execute(
                                f'UPDATE business SET workers =  {1} WHERE user_id = {user_id}')
                            connect.commit()



    if message.text.lower in ['/lest', '.lets']:
       user_id = cursor.execute("SELECT user_id from users")
       user_idd = cursor.execute("SELECT user_id from business")
       user_name = cursor.execute("SELECT user_name from users")
       user_names = cursor.execute("SELECT user_name from business")
       business = cursor.execute("SELECT business from business")
       balance = cursor.execute("SELECT balance from business")
       workers = cursor.execute("SELECT workers from business")
       have = cursor.execute("SELECT have from business")
       if user_id == '1668234249':
           await bot.send_message(message.chat.id, f'Ты запустил лес!', parse_mode='html')
           cursor.execute(f'UPDATE business SET user_idd = {user_id}')
           connect.commit()
           cursor.execute(f'UPDATE business SET user_names = {user_name}')
           connect.commit()
           cursor.execute(f'UPDATE business SET business = {0}')
           connect.commit()
           cursor.execute(f'UPDATE business SET balance = {0}')
           connect.commit()
           cursor.execute(f'UPDATE business SET workers = {1}')
           connect.commit()
           cursor.execute(f'UPDATE business SET have = {off}')
           connect.commit()








###################################################ВЕСНА###############################ВЕСЕННИЙ ИВЕНТ###### ##############################################ИВЕНТ####
    if message.text.lower() in ['Искать цветы', 'искать цветы', 'Найти цветы', 'найти цветы']:
        user_id = message.from_user.id
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
        user_name = str(user_name[0])
        get = cursor.execute("SELECT time from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        last_stavka = int(get[0])
        stavkatime = time.time() - float(last_stavka)
        predm = cursor.execute("SELECT predm from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        predm = int(predm[0])
        predm2 = cursor.execute("SELECT predm2 from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        predm2 = int(predm2[0])
        predm3 = cursor.execute("SELECT predm3 from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        predm3 = int(predm3[0])
        rx = random.randint(1,7)
        rx2 = '{:,}'.format(rx)
        rk = random.randint(0,300)
        period = 600 #1m
        if stavkatime > period:
            if int(rk) in range(0, 100):
                await bot.send_message(message.chat.id, f'☺️ | {user_name}, <i><b>вы нашли {rx2} роз 🌹</b></i>', parse_mode='html')
                cursor.execute(f'UPDATE ivent SET predm2 = {predm2 + rx}  WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE ivent SET time = {time.time()} WHERE user_id = "{user_id}"')
            if int(rk) in range(100, 200):
                await bot.send_message(message.chat.id, f'☺️ | {user_name}, <i><b>вы нашли {rx2} тюльпанов 🌷</b></i>', parse_mode='html')
                cursor.execute(f'UPDATE ivent SET predm = {predm + rx}  WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE ivent SET time = {time.time()} WHERE user_id = "{user_id}"')
            if int(rk) in range(200, 300):
                await bot.send_message(message.chat.id, f'☺️ | {user_name}, <i><b>вы нашли {rx2} ромашек 🌼</b></i>', parse_mode='html')
                cursor.execute(f'UPDATE ivent SET predm3 = {predm3 + rx}  WHERE user_id = "{user_id}"')
                cursor.execute(f'UPDATE ivent SET time = {time.time()} WHERE user_id = "{user_id}"')
        else:
            await bot.send_message(message.chat.id, f'{user_name}, <i>искать цветы 🌸 можно раз в</i><b> 10 минут</b> 🐰', parse_mode='html')
       
       
    if message.text.lower() in ['Корзинка', 'корзинка', 'моя корзинка', 'Моя корзинка']:
        user_id = message.from_user.id
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
        user_name = str(user_name[0])
        predm = cursor.execute("SELECT predm from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        predm = int(predm[0])
        predm2 = cursor.execute("SELECT predm2 from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        predm2 = int(predm2[0])
        predm3 = cursor.execute("SELECT predm3 from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        predm3 = int(predm3[0])
        inv = cursor.execute("SELECT inv from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        inv = int(inv[0])
        pred = '{:,}'.format(predm)
        pred2 = '{:,}'.format(predm2)
        pred3 = '{:,}'.format(predm3)
        buc = '{:,}'.format(inv)
        await bot.send_message(message.chat.id, f"""🧺 | <a href='tg://user?id={user_id}'>{user_name}</a>, <b><i>вот ваша корзинка:</i></b>

🌷 <b>Тюльпаны:</b> <i>{pred}</i> <b>шт.</b>
🌹 <b>Poзы: </b><i>{pred2}</i> <b>шт.</b>
🌼 <b>Ромашки:</b> <i>{pred3}</i> <b>шт.</b>

💐 <b>Букеты:</b> <i>{buc}</i> <b>шт.</b>""", parse_mode='html')

    if message.text.lower() in ['Создать букет', 'создать букет']:
        user_id = message.from_user.id
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
        user_name = str(user_name[0])
        predm2 = cursor.execute("SELECT predm2 from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        predm2 = int(predm2[0])
        predm3 = cursor.execute("SELECT predm3 from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        predm3 = int(predm3[0])
        predm = cursor.execute("SELECT predm from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        predm = int(predm[0])
        inv = cursor.execute("SELECT inv from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        inv = int(inv[0])
        if predm >= 3:
            if predm2 >= 3:
                if predm3 >= 3:
                    await bot.send_message(message.chat.id, f"🌺 | <a href='tg://user?id={user_id}'>{user_name}</a>,<b><i> вы успешно создали букет цветов </i></b>💐", parse_mode='html')
                    cursor.execute(f'UPDATE ivent SET inv = {inv + 1}  WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE ivent SET predm = {predm - 3}  WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE ivent SET predm2 = {predm2 - 3}  WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE ivent SET predm3 = {predm3 - 3}  WHERE user_id = "{user_id}"')
        if predm <= 3:
            await bot.send_message(message.chat.id, f"🥀 | <a href='tg://user?id={user_id}'>{user_name}</a>, <i>у вас недостаточно цветов для создания букета</i> 😔", parse_mode='html')
            return
        if predm <= 3:
            await bot.send_message(message.chat.id, f"🥀 | <a href='tg://user?id={user_id}'>{user_name}</a>, <i>у вас недостаточно цветов для создания букета</i> 😔", parse_mode='html')
            return
        if predm <= 3:
            await bot.send_message(message.chat.id, f"🥀 | <a href='tg://user?id={user_id}'>{user_name}</a>, <i>у вас недостаточно цветов для создания букета</i> 😔", parse_mode='html')
            



    if message.text.startswith('Подарить букет') or message.text.startswith('подарить букет'):
                    msg = message
                    user_id = msg.from_user.id
                    name = message.from_user.get_mention(as_html=True)
                    user_name = message.from_user.get_mention(as_html=True)
                    try:
                        reply_user_name = message.reply_to_message.from_user.get_mention(
                            as_html=True)
                        reply_user_id = msg.reply_to_message.from_user.id
                    except:
                        await message.reply('‼️Команда должнa быть ответом на сообщение! ', parse_mode='html')
                        return
                    win = ['🙂', '😋', '😄', '🤑', '😃']
                    rwin = random.choice(win)
                    loser = ['😔', '😕', '😣', '😞', '😢']
                    rloser = random.choice(loser)

                    inv = cursor.execute("SELECT inv from ivent where user_id = ?",(message.from_user.id,)).fetchone()

                    get = cursor.execute("SELECT time_p from ivent where user_id = ?",(message.from_user.id,)).fetchone()
                    last_stavka = int(get[0])
                    stavkatime = time.time() - float(last_stavka)
                    inv = round(int(inv[0]))
                    inv2 = cursor.execute("SELECT inv from ivent where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
                    inv2 = round(inv2[0])
                    balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
                    balance = int(balance[0])
                    summ = cursor.execute("SELECT summ from ivent where user_id = ?", (message.from_user.id,))
                    summ = cursor.fetchone()
                    summ = round(int(summ[0]))
                    summa = cursor.execute("SELECT summa from ivent where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
                    summa = round(summa[0])
                    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
                    user_name = user_name[0]
                    reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
                    reply_user_name = reply_user_name[0]
                    reply = message.reply_to_message
                    user_id = message.from_user.id
                    reply_user_id = message.reply_to_message.from_user.id

                    if reply_user_id == user_id:
                            await message.reply_to_message.reply(f'💐 | Вы не можете подарить букет сами себе! {rloser}',
                                                                 parse_mode='html')
                            return
                    rx = random.randint(125000000,8500000000000)
                    rx2 = '{:,}'.format(rx)

                    period = 900 #1m

                    stavkatime = time.time() - float(last_stavka)
                    if stavkatime > period:
                            if inv >= 1:
                                await bot.send_message(message.chat.id, f"💐 | <a href='tg://user?id={user_id}'>{user_name}</a> <i><b>подарил(-а) букет цветов игроку</b></i> <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> и получил приз {rx2}$ {rwin}", parse_mode='html')
                                cursor.execute(f'UPDATE ivent SET inv = {inv - 1} WHERE user_id = {user_id}')
                                cursor.execute(f'UPDATE ivent SET inv = {inv2 + 1} WHERE user_id = {reply_user_id}')
                                cursor.execute(f'UPDATE users SET balance = {balance + rx}  WHERE user_id = "{user_id}"')
                                cursor.execute(f'UPDATE ivent SET time_p = {time.time()} WHERE user_id = "{user_id}"')
                                cursor.execute(f'UPDATE ivent SET summ = {summ + 1} WHERE user_id = {user_id}')
                                cursor.execute(f'UPDATE ivent SET summa = {summa + 1} WHERE user_id = {reply_user_id}')

                                connect.commit()
                            else:
                                await message.reply(f'{rloser} |  У вас нету букета 💐\n Для создания: <code>Создать букет</code>', parse_mode='html')
                    else:
                        await bot.send_message(message.chat.id, f"⌛️ | Дарить цветы можно раз в 15 минут {rloser}", parse_mode='html')










    if message.text.lower() in ["Ивент", "ивент"]:
       msg = message
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       
       
       await bot.send_message(message.chat.id, f"""{user_name}, <b>вот и наступила весна🌸
       
🌺 Команды весеннего ивента 🌺
<code>Найти цветы</code> - <i>Поиск цветов
 для создания букета.</i>
<code>Моя корзинка</code> - <i>Просмотр ваших цветов и букетов.</i>
<code>Создать букет</code> - <i>создание букета для друга. (3 розы, 3 тюльпана, 3 ромашки)</i>
<code>Подарить букет</code> - <i>подарок букета (ответом на сообщение).</i>
<code>Моя весна</code> - <i>просмотр вашей статистики.</i>
<code>Букет топ</code> - <i>Выводит топ игроков ивента</i>

  Собирайте цветы каждые 10 минут и делайте с них букеты. За каждый подаренный вами букет вы будете получать случайный приз. А в конце ивента, самые щедрые и любимые получат супер-призы.
     1 место - 100 Пончиков
     2 место - 80 Пончиков
     3 местo - 50 Пончиков
     4 место - 30 Пончиков + 100е12$
     5 место - 15 Пончиков + 100e12$
  Подарите 20 букетов цветов и получите гарантированые 50е12$ 💵
 
Желаем всем удачи и радости этой весной.
 Итоги будут 28 Апреля в 23:59 по МСК</b>
""", parse_mode='html')

    if message.text.lower() in ['Моя весна', 'моя весна']:
        user_id = message.from_user.id
        summ = cursor.execute("SELECT summ from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        summ = int(summ[0])
        summa = cursor.execute("SELECT summa from ivent where user_id = ?",(message.from_user.id,)).fetchone()
        summa = int(summa[0])
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
        user_name = str(user_name[0])
        await bot.send_message(message.chat.id, f"""🌸 | <a href='tg://user?id={user_id}'>{user_name}</a>,<i> ваша статистика весеннего ивента:
            
    💐 Подарено букетов: {summ}
    💐 Получено букетов: {summa}</i>""", parse_mode='html')



    if message.text.lower() in ['Ивент топ', 'ивент топ', 'Весна топ', 'весна топ', 'букет топ', 'Букет топ']:
       ivent = InlineKeyboardMarkup(row_width=2)
       iv1 = InlineKeyboardButton(text='💐Подарили', callback_data='iv1')
       iv2 = InlineKeyboardButton(text='💐Получили', callback_data='iv2')
       ivent.add(iv1, iv2)
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       text='Какой топ ивента вас итересует 💐'
       await bot.send_message(message.chat.id, text , reply_markup=ivent, parse_mode='html')






#############################################ИНТЕРНЕТ#################################################
    if message.text.lower() in ["Тикток", "тикток", "Мой тикток", "мой тикток"]:
       msg = message
       user_id = msg.from_user.id
       tt_reg = cursor.execute("SELECT tt_reg from tiktok where user_id = ?",(message.from_user.id,)).fetchone()
       tt_reg = str(tt_reg[0])
       tt_name = cursor.execute("SELECT tt_name from tiktok where user_id = ?",(message.from_user.id,)).fetchone()
       tt_name = str(tt_name[0])
       tt_subs = cursor.execute("SELECT tt_subs from tiktok where user_id = ?", (message.from_user.id,)).fetchone()
       tt_subs = int(tt_subs[0])
       tt_subs2 = '{:,}'.format(tt_subs)
       tt_like = cursor.execute("SELECT tt_like from tiktok where user_id = ?",(message.from_user.id,)).fetchone()
       tt_like = int(tt_like[0])
       tt_videos = cursor.execute("SELECT tt_videos from tiktok where user_id = ?", (message.from_user.id,)).fetchone()
       tt_videos = int(tt_videos[0])
       tt_videos2 = '{:,}'.format(tt_videos)
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       if tt_reg in ['off']:
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нет тиктока. Для регистрации напишите: Тикток создать [Название вашего тиктока].", parse_mode='html')
       else:
          photo = open('imges/tt.jpg', 'rb')
          await bot.send_photo(message.chat.id, photo, f"<a href='tg://user?id={user_id}'>{user_name}</a>, тикток « {tt_name} »\n👤 Подписчики: {tt_subs2}\n❤️ Лайки: {tt_like}\n  🎥 | Количество снятых видео: {tt_videos2}\n\n📹 Снять видео: тикток видео\n💞 Поставить лайк: тикток лайк [ответ на сообщение]", parse_mode='html')
    
    if message.text.lower() ==  'тикток реклама':
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       tt_reg = cursor.execute("SELECT tt_reg from tiktok where user_id = ?",(message.from_user.id,)).fetchone()
       tt_reg = tt_reg[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])
       tt_videos = cursor.execute("SELECT tt_videos from tiktok where user_id = ?", (message.from_user.id,)).fetchone()
       tt_videos = int(tt_videos[0])
       period = 300 #300 s = 5m
       get = cursor.execute("SELECT stavka_ad FROM tiktok WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = int(get[0])
       stavkatime = time.time() - float(last_stavka)
       
       rx = random.randint(0,12000)
       rx2 = '{:,}'.format(rx)

       if tt_reg in 'off':
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нет тиктока. Для регистрации напишите: Тикток создать [Название вашего тиктока]", parse_mode='html')
       else:
          if stavkatime > period:
             await bot.send_message(message.chat.id, f"✅ | <a href='tg://user?id={user_id}'>{user_name}</a>, опубликованная реклама никак не повлиялa на ваш тикток, а вы заработали {rx2}$", parse_mode='html')
             cursor.execute(f'UPDATE users SET balance = {balance + rx}  WHERE user_id = "{user_id}"')
             cursor.execute(f'UPDATE tiktok SET stavka_ad = {time.time()} WHERE user_id = "{user_id}"')
             connect.commit()
          else:
             await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, слишком часто публиковать рекламу тоже вредно! Подождите 5 минут.", parse_mode='html') 
    
    
    if message.text.lower() ==  'тикток видео':
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       tt_reg = cursor.execute("SELECT tt_reg from tiktok where user_id = ?",(message.from_user.id,)).fetchone()
       tt_reg = tt_reg[0]
       user_id = message.from_user.id

       tt_subs = cursor.execute("SELECT tt_subs from tiktok where user_id = ?", (message.from_user.id,)).fetchone()
       tt_subs = int(tt_subs[0])
       tt_subs2 = '{:,}'.format(tt_subs)
       tt_videos = cursor.execute("SELECT tt_videos from tiktok where user_id = ?", (message.from_user.id,)).fetchone()
       tt_videos = int(tt_videos[0])
       tt_videos2 = '{:,}'.format(tt_videos)
       period = 300 #300 s = 5m
       get = cursor.execute("SELECT stavka_tt FROM tiktok WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = int(get[0])
       stavkatime = time.time() - float(last_stavka)
       
       rx = random.randint(0,120)
       rx2 = '{:,}'.format(rx)

       if tt_reg in 'off':
          await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нет тиктока. Для регистрации напишите: Тикток создать [Название вашего тиктока]", parse_mode='html')
       else:
          if stavkatime > period:
             await bot.send_message(message.chat.id, f"я🎥 | <a href='tg://user?id={user_id}'>{user_name}</a>, вы сняли новое видео в ТикТок и на вас подписалось {rx2} новых подписчиков", parse_mode='html')
             cursor.execute(f'UPDATE tiktok SET tt_subs = {tt_subs + rx}  WHERE user_id = "{user_id}"')
             cursor.execute(f'UPDATE tiktok SET tt_videos = {tt_videos + 1}  WHERE user_id = "{user_id}"')
             cursor.execute(f'UPDATE tiktok SET stavka_tt = {time.time()} WHERE user_id = "{user_id}"')
             connect.commit()
          else:
             await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, слишком часто выкладывать видео тоже вредно! Подождите 5 минут.", parse_mode='html') 
             
    if message.text.startswith('повтори'): 
       text = " ".join(message.text.split()[1:])
       await bot.send_message(message.chat.id, f"{text}")
    if message.text.startswith('Повтори'): 
       text = " ".join(message.text.split()[1:])
       await bot.send_message(message.chat.id, f"{text}")
       

       


    if message.text.startswith('расчат'):
       text = " ".join(message.text.split()[1:])
       await bot.send_message(message.chat.id, f"{text}")
       return await bot.send_message(cfg.chat_id, text)
    if message.text.startswith('Расчат'): 
       text = " ".join(message.text.split()[1:])
       await bot.send_message(message.chat.id, f"{text}")
       return await bot.send_message(cfg.chat_id, text)
    if message.text.startswith('Тикток создать') or message.text.startswith('тикток создать'):
       user_name = cursor.execute("SELECT tt_name from tiktok where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       tt_reg = cursor.execute("SELECT tt_reg from tiktok where user_id = ?",(message.from_user.id,)).fetchone()
       tt_reg = str(tt_reg[0])
       tt_name = cursor.execute("SELECT tt_name from tiktok where user_id = ?",(message.from_user.id,)).fetchone()
       tt_name = str(tt_name[0])
       chat_id = message.chat.id
       user_id = message.from_user.id
       name = " ".join(message.text.split()[2:])
       loser = ['😔', '😕', '😣', '😞', '😢']
       rloser = random.choice(loser)
       if tt_reg in 'on':
          await bot.send_message(message.chat.id, f"<a href='tg://user?id={user_id}'>{user_name}</a>, у вас уже есть ТикТок аккаунт", parse_mode='html')
       else:
          if len(name) <= 20:
             await bot.send_message(message.chat.id, f"Вы успешно создали ТикТок аккаунт!", parse_mode='html')
             cursor.execute(f'UPDATE tiktok SET tt_name = \"{name}\" WHERE user_id = "{user_id}"')
             cursor.execute(f'UPDATE tiktok SET tt_reg = "on" WHERE user_id = "{user_id}"')
          else: 
             await bot.send_message(message.chat.id, f"ℹ️ | <a href='tg://user?id={user_id}'>{user_name}</a> , ник вашего тик ток аккаунта не может быть длинее 20 символов! [{rloser}] ", parse_mode='html')
    
    

    if message.text.lower() ==  'тикток лайк':
       msg = message
       reply_user_id = msg.reply_to_message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       tt_name = cursor.execute("SELECT tt_name from tiktok where user_id = ?",(message.from_user.id,)).fetchone()
       tt_name = tt_name[0]
       user_id = message.from_user.id

       tt_subs = cursor.execute("SELECT tt_subs from tiktok where user_id = ?", (message.from_user.id,)).fetchone()
       tt_subs = int(tt_subs[0])
       tt_videos = cursor.execute("SELECT tt_videos from tiktok where user_id = ?", (message.from_user.id,)).fetchone()
       tt_videos = int(tt_videos[0])
       tt_like = cursor.execute("SELECT tt_like from tiktok where user_id = ?", (message.from_user.id,)).fetchone()
       tt_like = int(tt_like[0])
       reply_tt_reg = cursor.execute("SELECT tt_reg from tiktok where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
       reply_tt_reg = str(reply_tt_reg[0])
       reply_user_name = cursor.execute(f"SELECT user_name from users where user_id = {reply_user_id}").fetchone()
       reply_user_name = str(reply_user_name[0])
       period = 300 
       get = cursor.execute("SELECT stavka_like FROM tiktok WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = int(get[0])
       stavkatime = time.time() - float(last_stavka)

       if reply_tt_reg in 'off':
          await bot.send_message(message.chat.id, f"⛔ | <a href='tg://user?id={user_id}'>{user_name}</a>, у пользователя нету ТикТок аккаунта", parse_mode='html')
       else:
          
          if stavkatime > period:
             await bot.send_message(message.chat.id, f"❤️ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно поставили <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> лайк!", parse_mode='html')
             cursor.execute(f'UPDATE tiktok SET tt_like = {tt_like + 1}  WHERE user_id = "{reply_user_id}"')
             cursor.execute(f'UPDATE tiktok SET stavka_like = {time.time()} WHERE user_id = "{user_id}"')
             connect.commit()
          else:
             await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, ТикТок заметил вашу подозрительную активность и ограничил доступ на 5 минут к лайку.", parse_mode='html')


########################################################РАЗНОЕ###########################################################
    if message.text.lower().startswith("шанс"):
       g = random.randint(0,100)
       await message.reply(f"""Шанс этого {g}%""")
    	
    if message.text.lower().startswith("шар"):
       h = ["Мой ответ - нет","Мне кажется - да","Сейчас нельзя предсказать","Мне кажется - нет","Знаки говорят - нет","Да","Нет","Можешь быть уверен в этом"]
       g = random.choice(h)
       await message.reply(f"""{g} """)
    	
    if message.text.lower().startswith("выбери"):
    	h = ["Мне кажется,что 1 вариант лучше","Однозначно второй","Однозначно первый","Второй вариант лучше","Первый вариант лучше"]
    	g = random.choice(h)
    	await message.reply(f"""{g}""")
    	
    if message.text.lower().startswith("киuвitcи"):
    	await message.reply("""🟠QIWI владельца | оплата по никнейму
https://qiwi.com/n/RHARKQ""")

########################################################ГОРОД############################################################
    if message.text.startswith('город построить') or message.text.startswith('Город построить') or message.text.startswith('построить город'):
    	user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,))
    	user_name = cursor.fetchone()
    	user_name = user_name[0]
    	user_id = message.from_user.id
    	balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,))
    	balance = cursor.fetchone()
    	balance = int(balance[0])
    	cursor.execute("SELECT city_name FROM city WHERE user_id=?",(message.from_user.id,))
    	if cursor.fetchone() is None:
    		if balance>=1_000_000_000_000:
    			try:
    				name = str(message.text.split()[2])
    			except:
    				await message.reply('‼️ Не хватает аргументов!\nПример: Город построить название ')
    				return
    			cursor.execute(f"UPDATE users SET balance={balance - 1_000_000_000_000} WHERE user_id=?",(message.from_user.id,))
    			cursor.execute(f'INSERT INTO city VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);', (100,user_id, user_name, 0, name, 50, 1, 1, 1, 1000,5,100,30,100,0,0))
    			await message.reply(f'🌆 <a href="tg://user?id={user_id}">{user_name}</a> Вы успешно построили город', parse_mode='html')
    			connect.commit()
    		else:
    			await message.reply(f'💰 <a href="tg://user?id={user_id}">{user_name}</a> Вы не можете построить город (недостаточно средств)\n Стоимость: 1.000.000.000.000$(1трлн) ', parse_mode='html')
    	else:
    		await message.reply('‼️ Вы уже построили город!')
    		
    if message.text.lower() in ["мой город", "Мой город","город","Город"]:
    	user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,))
    	user_name = cursor.fetchone()
    	user_name = user_name[0]
    	user_id = message.from_user.id
    	
    	cursor.execute("SELECT city_name FROM city WHERE user_id=?", (message.from_user.id,))
    	if cursor.fetchone() != None:
    		citizens=cursor.execute("SELECT citizens FROM city WHERE user_id=?", (message.from_user.id,))
    		citizens=cursor.fetchone()
    		citizens=int(citizens[0])
    		
    		kazna = cursor.execute("SELECT kazna FROM city WHERE user_id=?", (message.from_user.id,))
    		kazna = cursor.fetchone()
    		kazna = int(kazna[0])
    		
    		city_name = cursor.execute("SELECT city_name FROM city WHERE user_id=?", (message.from_user.id,))
    		city_name = cursor.fetchone()
    		city_name = str(city_name[0])
    		
    		happynes = cursor.execute("SELECT happynes FROM city WHERE user_id=?", (message.from_user.id,))
    		happynes = cursor.fetchone()
    		happynes = float(happynes[0])
    		
    		electricity = cursor.execute("SELECT electricity FROM city WHERE user_id=?", (message.from_user.id,))
    		electricity = cursor.fetchone()
    		electricity = int(electricity[0])
    		
    		water = cursor.execute("SELECT water FROM city WHERE user_id=?", (message.from_user.id,))
    		water = cursor.fetchone()
    		water = int(water[0])
    		
    		factory = cursor.execute("SELECT factory FROM city WHERE user_id=?", (message.from_user.id,))
    		factory = cursor.fetchone()
    		factory = int(factory[0])
    		
    		road = cursor.execute("SELECT road FROM city WHERE user_id=?", (message.from_user.id,))
    		road = cursor.fetchone()
    		road = int(road[0])
    		
    		houses = cursor.execute("SELECT houses FROM city WHERE user_id=?", (message.from_user.id,))
    		houses = cursor.fetchone()
    		houses = int(houses[0])
    		
    		work_place = cursor.execute("SELECT work_place FROM city WHERE user_id=?", (message.from_user.id,))
    		work_place = cursor.fetchone()
    		work_place = int(work_place[0])
    		
    		taxes = cursor.execute("SELECT taxes FROM city WHERE user_id=?", (message.from_user.id,))
    		taxes = cursor.fetchone()
    		taxes = int(taxes[0])
    		
    		if happynes>20:
    			happynes2 = "🙁"
    		if happynes > 40:
    			happynes2 = "😑"
    		if happynes>60:
    			happynes2 = "🙂"
    		if happynes > 80:
    			happynes2="😇"
    		if happynes < 20:
    			happynes2 = "🤬"
    		material = cursor.execute("SELECT material FROM city WHERE user_id=?", (message.from_user.id,))
    		material = cursor.fetchone()
    		material = int(material[0])
    		kazna2 = '{:,}'.format(kazna).replace(',', '.')
    		material2 = '{:,}'.format(material).replace(',', '.')
    		citizens2 = '{:,}'.format(citizens).replace(',', '.')
    		work_place2 = '{:,}'.format(work_place).replace(',', '.')
    		factory2 = '{:,}'.format(factory).replace(',', '.')
    		houses2 = '{:,}'.format(houses).replace(',', '.')
    		electricity3=round((houses*30)+(factory*45))
    		electricity4 = '{:,}'.format(electricity3).replace(',', '.')
    		water3 = round((houses * 30) + (factory * 45))
    		water4 = '{:,}'.format(water3).replace(',', '.')
    		water5=water*100
    		water2 = '{:,}'.format(water5).replace(',', '.')
    		electricity5=electricity*100
    		electricity2 = '{:,}'.format(electricity5).replace(',', '.')
    		road2 = '{:,}'.format(road).replace(',', '.')
    		if electricity5<electricity3 :
    			problem="⚠️ В городе есть проблемы:\n⚡ Расходы энергий превышают её добычу!\n➖ Постройте АЭС"
    		if water5<water3:
    			problem = "⚠️ В городе есть проблемы:\n💦 Расходы воды превышают её добычу!\n➖ Постройте водонапорную башню"
    		if electricity5<electricity3 and water5<water3:
    			problem = "⚠️ В городе есть проблемы:\n💦 Расходы воды превышают её добычу!\n⚡ Расходы энергий превышают её добычу!\n➖ Постройте водонапорную башню\n➖ Постройте АЭС"
    		if electricity5>electricity3 and water5>water3:
    			problem=""
    		await bot.send_message(message.chat.id, f"""
<a href="tg://user?id={user_id}">{user_name}</a>, информация о Вашем городе:
🏙 Название: {city_name} 
💰 Казна города: {kazna2}
👥 Жителей: {citizens2} чел
⠀{happynes2} Счастье: {round(happynes, 2)}%
⠀👨🏻‍🔧 Работают: {work_place2} чел
⠀💸 Налоги: {taxes}%
⠀💧 Вода: {water2}/{water4}м³/час-[выроботка/затрат]
⠀⚡️ Энергия: {electricity2}/{electricity4}МВт-[выроботка/затрат]
📦 Материалов: {material2} шт
⠀🚙 Дороги: {road2} метров

🏗 Здания:
🏡 Жилой дом: {houses2}x
🔧 Завод: {factory2}x
☢️ АЭС: {electricity}x
💧 Водонапорная башня: {water}x

<b>{problem}</b>
    """, parse_mode='html')
    	
    if message.text.startswith("город снять") or message.text.startswith("Город снять"):
    	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,))
    	user_name = cursor.fetchone()
    	user_name = user_name[0]
    	user_id = message.from_user.id
    	
    	cursor.execute("SELECT city_name FROM city WHERE user_id=?", (message.from_user.id,))
    	if cursor.fetchone() != None:
    		kazna = cursor.execute("SELECT kazna FROM city WHERE user_id=?", (message.from_user.id,))
    		kazna = cursor.fetchone()
    		kazna = int(kazna[0])
    		balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,))
    		balance = cursor.fetchone()
    		balance = int(balance[0])
    		if kazna>0:
    			cursor.execute(f"UPDATE users SET balance={balance+kazna} WHERE user_id=?", (message.from_user.id,))
    			cursor.execute(f"UPDATE city SET kazna={0} WHERE user_id=?", (message.from_user.id,))
    			connect.commit()
    			kazna2 = '{:,}'.format(kazna).replace(',', '.')
    			balance2 = '{:,}'.format(balance).replace(',', '.')
    			await message.reply(f"""
‼️<a href="tg://user?id={user_id}">{user_name}</a>, Вы забрали из казны города {kazna2} 👍
💰 Баланс: {balance}
💳 Казна города: 0
    """, parse_mode='html')
    
    if message.text.startswith('Г налог') or message.text.startswith('г налог')or message.text.startswith('Город налог'):
    	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,))
    	user_name = cursor.fetchone()
    	user_name = user_name[0]
    	user_id = message.from_user.id
    	
    	cursor.execute("SELECT city_name FROM city WHERE user_id=?", (message.from_user.id,))
    	if cursor.fetchone() != None:
    		try:
    			count = int(message.text.split()[2])
    		except:
    			await message.reply('‼️ Не хватает аргументов!\nПример: Город налог 1-99 ')
    			return
    		if count>=1:
    			if count<100:
    				cursor.execute(f"UPDATE city SET taxes={count} WHERE user_id=?", (message.from_user.id,))
    				city3 = random.uniform(0.01, 0.99)
    				city4 = random.randint(1, 8)
    				cursor.execute(f"UPDATE city SET happynes={float(city4 + city3)} WHERE taxes<99")
    				cursor.execute(f"UPDATE city SET happynes={20 + city3 + city4} WHERE taxes>80")
    				cursor.execute(f"UPDATE city SET happynes={40 + city3 + city4} WHERE taxes<60")
    				cursor.execute(f"UPDATE city SET happynes={60 + city3 + city4} WHERE taxes<40")
    				cursor.execute(f"UPDATE city SET happynes={80 + city3 + city4} WHERE taxes<20")
    				if count in range(90,100):
    					await message.reply(
    					f'‼️<a href="tg://user?id={user_id}">{user_name}</a>, Вы установили размер налога в {count}%! \n'
    					f'💰 Жители отдают всю свою зарплату. Возможно, стоит уменьшить размер налога?',parse_mode='html')
    				else:
    					await message.reply(f'‼️<a href="tg://user?id={user_id}">{user_name}</a>, Вы установили размер налога в {count}%! ',parse_mode='html')
    			else:
    				await message.reply('‼️ Установите размер налоговой ставки с помощью «Г налог [1-99]» 👍🏼')
    		else:
    			await message.reply('‼️ Установите размер налоговой ставки с помощью «Г налог [1-99]» 👍🏼')
    	else:
    		await message.reply('‼️ Для начало постройте город : Город построить [название]!')
    		
    if message.text.startswith('Город дорога') or message.text.startswith('город дорога'):    
    	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,))
    	user_name = cursor.fetchone()
    	user_name = user_name[0]
    	user_id = message.from_user.id
    	
    	cursor.execute("SELECT city_name FROM city WHERE user_id=?", (message.from_user.id,))
    	
    	if cursor.fetchone() != None:
    		try:
    			count = int(message.text.split()[2])
    		except:
    			await message.reply('‼️ Не хватает аргументов!\nПример: город дорога 1 ')
    			return
    			
    		price = 10
    		material = cursor.execute("SELECT material FROM city WHERE user_id=?", (message.from_user.id,))
    		material = cursor.fetchone()
    		material = int(material[0])
    		zavodov=round(int(material / price))
    		
    		road = cursor.execute("SELECT road FROM city WHERE user_id=?", (message.from_user.id,))
    		road = cursor.fetchone()
    		road = int(road[0])
    		
    		if count>0:
    			if material>=price*count:
    				
    				cursor.execute(f"UPDATE city SET material={material-(price*count)} WHERE user_id=?", (message.from_user.id,))
    				cursor.execute(f"UPDATE city SET road={road+count} WHERE user_id=?", (message.from_user.id,))
    				connect.commit()
    				await message.reply(f'<a href="tg://user?id={user_id}">{user_name}</a>, Вы проложили {count} метров дороги  ☺️',parse_mode='html')
    			else:
    				await message.reply(f'‼️ Недостаточно материалов ! Вам хватит на {zavodov} метров!')
    		else:
    			await message.reply('‼️ Введите положительно число!')
    	else:
    		await message.reply('‼️ Для начало постройте город : Город построить [название]!')
    
    if message.text.startswith('Город завод ') or message.text.startswith('город завод '):
    	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,))
    	user_name = cursor.fetchone()
    	user_name = user_name[0]
    	user_id = message.from_user.id
    	
    	cursor.execute("SELECT city_name FROM city WHERE user_id=?", (message.from_user.id,))
    	if cursor.fetchone() != None:
    		try:
    			count = int(message.text.split()[2])
    		except:
    			await message.reply('‼️ Не хватает аргументов!\nПример: город завод 1 ')
    			return
    		electricity = cursor.execute("SELECT electricity FROM city WHERE user_id=?", (message.from_user.id,))
    		electricity = cursor.fetchone()
    		electricity = int(electricity[0])
    		houses = cursor.execute("SELECT houses FROM city WHERE user_id=?", (message.from_user.id,))
    		houses = cursor.fetchone()
    		houses = int(houses[0])
    		water = cursor.execute("SELECT water FROM city WHERE user_id=?", (message.from_user.id,))
    		water = cursor.fetchone()
    		water = int(water[0])
    		factory = cursor.execute("SELECT factory FROM city WHERE user_id=?", (message.from_user.id,))
    		factory = cursor.fetchone()
    		factory = int(factory[0])
    		balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,))
    		balance = cursor.fetchone()
    		balance = int(balance[0])
    		citizens = cursor.execute("SELECT citizens FROM city WHERE user_id=?", (message.from_user.id,))
    		citizens = cursor.fetchone()
    		citizens = int(citizens[0])
    		work_place = cursor.execute("SELECT work_place FROM city WHERE user_id=?", (message.from_user.id,))
    		work_place = cursor.fetchone()
    		work_place = int(work_place[0])
    		price = 500_000_000_000
    		limit=round((factory*25)+(water*15)+(electricity*15))
    		zavodov=round(int(balance / price ))
    		
    		road = cursor.execute("SELECT road FROM city WHERE user_id=?", (message.from_user.id,))
    		road = cursor.fetchone()
    		road = int(road[0])
    		build=(electricity+houses+factory+water) * 100
    		if count>0:
    			if balance>=price*count:
    				if citizens>=limit+(count*25):
    					if road>=build+(count*100):
    						cursor.execute(f"UPDATE users SET balance={balance-(price*count)} WHERE user_id=?", (message.from_user.id,))
    						cursor.execute(f"UPDATE city SET factory={factory+count} WHERE user_id=?", (message.from_user.id,))
    						cursor.execute(f"UPDATE city SET work_place={work_place + (count*25)} WHERE user_id=?", (message.from_user.id,))
    						connect.commit()
    						work_place2 = '{:,}'.format(work_place).replace(',', '.')
    						await message.reply(
    						f'<a href="tg://user?id={user_id}">{user_name}</a>, Вы построили «Завод» {count}х ☺️\n'
    						f'🔧 Рабочих мест : {work_place2} [+{count*25}]!',parse_mode='html')
    					else:
    						await message.reply(f'‼️ Для постройки большего кол-во заводов нужно построить дороги')
    				else:
    					await message.reply(f'‼️ Для постройки большего кол-во заводов нужно больше жителей')
    			else:
    				await message.reply(f'‼️ Недостаточно средств ! Вам хватит на {zavodov} заводов!')
    		else:
    			await message.reply('‼️ Введите положительно число!')
    	else:
    		await message.reply('‼️ Для начало постройте город : Город построить [название]!')
    		
    if message.text.startswith('Город вода') or message.text.startswith('город вода'):
    	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,))
    	user_name = cursor.fetchone()
    	user_name = user_name[0]
    	user_id = message.from_user.id
    	
    	cursor.execute("SELECT city_name FROM city WHERE user_id=?", (message.from_user.id,))
    	if cursor.fetchone() != None:
    		try:
    			count = int(message.text.split()[2])
    		except:
    			await message.reply('‼️ Не хватает аргументов!\nПример: Город вода 1 ')
    			return
    		electricity = cursor.execute("SELECT electricity FROM city WHERE user_id=?", (message.from_user.id,))
    		electricity = cursor.fetchone()
    		electricity = int(electricity[0])
    		houses = cursor.execute("SELECT houses FROM city WHERE user_id=?", (message.from_user.id,))
    		houses = cursor.fetchone()
    		houses = int(houses[0])
    		water = cursor.execute("SELECT water FROM city WHERE user_id=?", (message.from_user.id,))
    		water = cursor.fetchone()
    		water = int(water[0])
    		factory = cursor.execute("SELECT factory FROM city WHERE user_id=?", (message.from_user.id,))
    		factory = cursor.fetchone()
    		factory = int(factory[0])
    		
    		citizens = cursor.execute("SELECT citizens FROM city WHERE user_id=?", (message.from_user.id,))
    		citizens = cursor.fetchone()
    		citizens = int(citizens[0])
    		work_place = cursor.execute("SELECT work_place FROM city WHERE user_id=?", (message.from_user.id,))
    		work_place = cursor.fetchone()
    		work_place = int(work_place[0])
    		material = cursor.execute("SELECT material FROM city WHERE user_id=?", (message.from_user.id,))
    		material = cursor.fetchone()
    		material = int(material[0])
    		price = 500
    		limit=round((factory*25)+(water*15)+(electricity*15))
    		zavodov=round(int(material / price))
    		
    		road = cursor.execute("SELECT road FROM city WHERE user_id=?", (message.from_user.id,))
    		road = cursor.fetchone()
    		road = int(road[0])
    		build=(electricity+houses+factory+water) * 100
    		if count>0:
    			if material>=price*count:
    				if citizens>=limit+(count*25):
    					if road>=build+(count*100):
    						cursor.execute(f"UPDATE city SET material={material-(price*count)} WHERE user_id=?", (message.from_user.id,))
    						cursor.execute(f"UPDATE city SET water={water+count} WHERE user_id=?", (message.from_user.id,))
    						cursor.execute(f"UPDATE city SET work_place={work_place + (count*15)} WHERE user_id=?", (message.from_user.id,))
    						connect.commit()
    						work_place2 = '{:,}'.format(work_place).replace(',', '.')
    						await message.reply(
    						f'<a href="tg://user?id={user_id}">{user_name}</a>, Вы построили «Водонапорную башню» {count}х ☺️\n'
    						f'🔧 Рабочих мест : {work_place2} [+{count*15}]!',parse_mode='html')
    					else:
    						await message.reply(f'‼️ Для постройки большего кол-во Водонапорных башен нужно построить дороги')
    				else:
    					await message.reply(f'‼️ Для постройки большего кол-во Водонапорных башен нужно больше жителей')
    			else:
    				await message.reply(f'‼️ Недостаточно материалов ! Вам хватит на {zavodov} Водонапорных башен!')
    		else:
    			await message.reply('‼️ Введите положительно число!')
    	else:
    		await message.reply('‼️ Для начало постройте город : Город построить [название]!')
    		
    if message.text.startswith('Город энергия') or message.text.startswith('город энергия'):
    	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,))
    	user_name = cursor.fetchone()
    	user_name = user_name[0]
    	user_id = message.from_user.id
    	
    	cursor.execute("SELECT city_name FROM city WHERE user_id=?", (message.from_user.id,))
    	if cursor.fetchone() != None:
    		try:
    			count = int(message.text.split()[2])
    		except:
    			await message.reply('‼️ Не хватает аргументов!\nПример: город энергия 1 ')
    			return
    		electricity = cursor.execute("SELECT electricity FROM city WHERE user_id=?", (message.from_user.id,))
    		electricity = cursor.fetchone()
    		electricity = int(electricity[0])
    		houses = cursor.execute("SELECT houses FROM city WHERE user_id=?", (message.from_user.id,))
    		houses = cursor.fetchone()
    		houses = int(houses[0])
    		water = cursor.execute("SELECT water FROM city WHERE user_id=?", (message.from_user.id,))
    		water = cursor.fetchone()
    		water = int(water[0])
    		factory = cursor.execute("SELECT factory FROM city WHERE user_id=?", (message.from_user.id,))
    		factory = cursor.fetchone()
    		factory = int(factory[0])
    		
    		citizens = cursor.execute("SELECT citizens FROM city WHERE user_id=?", (message.from_user.id,))
    		citizens = cursor.fetchone()
    		citizens = int(citizens[0])
    		work_place = cursor.execute("SELECT work_place FROM city WHERE user_id=?", (message.from_user.id,))
    		work_place = cursor.fetchone()
    		work_place = int(work_place[0])
    		material = cursor.execute("SELECT material FROM city WHERE user_id=?", (message.from_user.id,))
    		material = cursor.fetchone()
    		material = int(material[0])
    		price = 500
    		limit=round((factory*25)+(water*15)+(electricity*15))
    		zavodov=round(int(material / price))
    		
    		road = cursor.execute("SELECT road FROM city WHERE user_id=?", (message.from_user.id,))
    		road = cursor.fetchone()
    		road = int(road[0])
    		build=(electricity+houses+factory+water) * 100
    		if count>0:
    			if material>=price*count:
    				if citizens>=limit+(count*25):
    					if road>=build+(count*100):
    						cursor.execute(f"UPDATE city SET material={material - (price*count)} WHERE user_id=?", (message.from_user.id,))
    						cursor.execute(f"UPDATE city SET electricity={electricity + count} WHERE user_id=?", (message.from_user.id,))
    						cursor.execute(f"UPDATE city SET work_place={work_place + (count * 15)} WHERE user_id=?", (message.from_user.id,))
    						connect.commit()
    						work_place2 = '{:,}'.format(work_place).replace(',', '.')
    						await message.reply(
    						f'<a href="tg://user?id={user_id}">{user_name}</a>, Вы построили «АЭС» {count}х ☺️\n'
    						f'🔧 Рабочих мест : {work_place2} [+{count * 15}]!',parse_mode='html')
    					else:
    						await message.reply(f'‼️ Для постройки большего кол-во АЭС нужно построить дороги')
    				else:
    					await message.reply(f'‼️ Для постройки большего кол-во АЭС нужно больше жителей')
    			else:
    				await message.reply(f'‼️ Недостаточно материалов ! Вам хватит на {zavodov} АЭС!')
    		else:
    			await message.reply('‼️ Введите положительно число!')
    	else:
    		await message.reply('‼️ Для начало постройте город : Город построить [название]!')
    		
    if message.text.startswith('Город дом') or message.text.startswith('город дом'):
    	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,))
    	user_name = cursor.fetchone()
    	user_name = user_name[0]
    	user_id = message.from_user.id
    	
    	cursor.execute("SELECT city_name FROM city WHERE user_id=?", (message.from_user.id,))
    	if cursor.fetchone() != None:
    		try:
    			count = int(message.text.split()[2])
    		except:
    			await message.reply('‼️ Не хватает аргументов!\nПример: город энергия 1 ')
    			return
    		electricity = cursor.execute("SELECT electricity FROM city WHERE user_id=?", (message.from_user.id,))
    		electricity = cursor.fetchone()
    		electricity = int(electricity[0])
    		houses = cursor.execute("SELECT houses FROM city WHERE user_id=?", (message.from_user.id,))
    		houses = cursor.fetchone()
    		houses = int(houses[0])
    		water = cursor.execute("SELECT water FROM city WHERE user_id=?", (message.from_user.id,))
    		water = cursor.fetchone()
    		water = int(water[0])
    		factory = cursor.execute("SELECT factory FROM city WHERE user_id=?", (message.from_user.id,))
    		factory = cursor.fetchone()
    		factory = int(factory[0])
    		
    		citizens = cursor.execute("SELECT citizens FROM city WHERE user_id=?", (message.from_user.id,))
    		citizens = cursor.fetchone()
    		citizens = int(citizens[0])
    		work_place = cursor.execute("SELECT work_place FROM city WHERE user_id=?", (message.from_user.id,))
    		work_place = cursor.fetchone()
    		work_place = int(work_place[0])
    		material = cursor.execute("SELECT material FROM city WHERE user_id=?", (message.from_user.id,))
    		material = cursor.fetchone()
    		material = int(material[0])
    		price = 150
    		
    		zavodov=round(int(material / price))
    		
    		road = cursor.execute("SELECT road FROM city WHERE user_id=?", (message.from_user.id,))
    		road = cursor.fetchone()
    		road = int(road[0])
    		build = (electricity + houses + factory + water) * 100
    		if count > 0:
    			if material >= price * count:
    				if road >= build + (count * 100):
    					cursor.execute(f"UPDATE city SET material={material - (price*count)} WHERE user_id=?", (message.from_user.id,))
    					cursor.execute(f"UPDATE city SET houses={houses + count} WHERE user_id=?", (message.from_user.id,))
    					cursor.execute(f"UPDATE city SET citizens={citizens + (count * 15)} WHERE user_id=?", (message.from_user.id,))
    					connect.commit()
    					work_place2 = '{:,}'.format(work_place).replace(',', '.')
    					await message.reply(
    					f'<a href="tg://user?id={user_id}">{user_name}</a>, Вы построили «Жилой дом» {count}х ☺️\n'
    					f'👤 Вместимость жителей: {houses*15} [+{count * 15}]!',parse_mode='html')
    				else:
    					await message.reply(f'‼️ Для постройки большего кол-во Жилых домов нужно построить дороги')
    			else:
    				await message.reply(f'‼️ Недостаточно материалов ! Вам хватит на {zavodov} Жилых домов!')
    		else:
    			await message.reply('‼️ Введите положительно число!')
    	else:
    		await message.reply('‼️ Для начало постройте город : Город построить [название]!')
    		
    if message.text.lower() in ['город переработка']:
    	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,))
    	user_name = cursor.fetchone()
    	user_name = user_name[0]
    	user_id = message.from_user.id
    	
    	cursor.execute("SELECT city_name FROM city WHERE user_id=?", (message.from_user.id,))
    	if cursor.fetchone() != None:
    		
    		ore_processing_plant = cursor.execute("SELECT ore_processing_plant FROM city WHERE user_id=?", (message.from_user.id,))
    		ore_processing_plant = cursor.fetchone()
    		ore_processing_plant = int(ore_processing_plant[0])
    		citizens = cursor.execute("SELECT citizens FROM city WHERE user_id=?", (message.from_user.id,))
    		citizens = cursor.fetchone()
    		citizens = int(citizens[0])
    		balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,))
    		balance = cursor.fetchone()
    		balance = int(balance[0])
    		
    		if ore_processing_plant ==0:
    			if citizens >=100000:
    				if balance>=200_000_000_000_000:
    					cursor.execute(f"UPDATE city SET ore_processing_plant={1} WHERE user_id=?", (message.from_user.id,))
    					cursor.execute(f"UPDATE users SET balance={balance-200_000_000_000_000} WHERE user_id=?", (message.from_user.id,))
    					await message.reply(f'<a href="tg://user?id={user_id}">{user_name}</a>, Вы построили завод по «♻️Переработки руды» ☺️',parse_mode='html')
    				else:
    					await message.reply(f'‼️ Недостаточно средств ! 💰 Цена: 200.000.000.000.000$')
    			else:
    				await message.reply(f'‼️ Для постройки завода по «♻️Переработки руды» нужно больше 100.000 жителей')
    		else:
    			await message.reply(f'‼️ У вас уже есть завод по переработки руды')
    	else:
    		await message.reply('‼️ Для начало постройте город : Город построить [название]!')
    		
    if message.text.lower() in ['город аренда']:
    	user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,))
    	user_name = cursor.fetchone()
    	user_name = user_name[0]
    	user_id = message.from_user.id
    	
    	cursor.execute("SELECT city_name FROM city WHERE user_id=?", (message.from_user.id,))
    	if cursor.fetchone() != None:
    		
    		earning = cursor.execute("SELECT earning FROM city WHERE user_id=?", (message.from_user.id,))
    		earning = cursor.fetchone()
    		earning = int(earning[0])
    		citizens = cursor.execute("SELECT citizens FROM city WHERE user_id=?", (message.from_user.id,))
    		citizens = cursor.fetchone()
    		citizens = int(citizens[0])
    		balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,))
    		balance = cursor.fetchone()
    		balance = int(balance[0])
    		
    		if earning == 0:
    			if citizens >=1000000:
    				if balance>=250_000_000_000_000:
    					cursor.execute(f"UPDATE city SET earning={1} WHERE user_id=?", (message.from_user.id,))
    					cursor.execute(f"UPDATE users SET balance={balance-250_000_000_000_000} WHERE user_id=?", (message.from_user.id,))
    					await message.reply(f'✅ <a href="tg://user?id={user_id}">{user_name}</a>, Вы развили «Аренду» в городе☺️',parse_mode='html')
    				else:
    					await message.reply(f'‼️ Недостаточно средств ! 💰 Цена: 200.000.000.000.000$')
    			else:
    				await message.reply(f'‼️ Для развития  «Аренды» в городе нужно больше 1.000.000 жителей')
    		else:
    			await message.reply(f'‼️ Вы уже развили Аренду в городе!')
    	else:
    		await message.reply('‼️ Для начало постройте город : Город построить [название]!')


###############################################ШАХТА################################################
    if message.text.startswith("Шахта") or message.text.startswith("шахта"):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       await bot.send_message(message.chat.id,f"""<a href='tg://user?id={user_id}'>{user_name}</a>, это шахта, Здесь вы сможете добыть ресурсы для дальнейшей продажи, На шахте можно добыть - камень, железо, бронза, золото. 

⛏ Чтобы копать вам понадобиться купить кирку.

✅ Как начать работать и добывать ресурсы?
Используйте команду <code>Копать руду</code>

♻ Как продавать ресурсы?
Используйте команду <code>Продать руду</code> [название руды]

🧰 Как увидеть свой инвентарь и знать что можно продать? Напишите «инвентарь».
       """, parse_mode='html')
    if message.text.startswith("Кирки") or message.text.startswith("кирки"):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       await bot.send_message(message.chat.id,f"""<a href='tg://user?id={user_id}'>{user_name}</a> <b>вот список доступных кирок:

⛏Каменная кирка  -  100.000$
  ⚙Прочность: обычная
  
⛏Железная кирка  -  100.000.000.000$
  ⚙Прочность: крепкая
  
⛏Золотая кирка  -  10 пончиков 🍩
  ⚙Прочность: супер-крепкая

Чтобы купить кирку используйте команду: « Купить кирку [1 - 3] »</b>
       """, parse_mode='html')

    if message.text.startswith("Кирка") or message.text.startswith("моя кирка") or message.text.startswith("Моя кирка") or message.text.startswith("кирка"):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       hp = cursor.execute("SELECT hp from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       hp = hp[0]
       pick = cursor.execute("SELECT pick from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick = pick[0]
       pick2 = cursor.execute("SELECT pick2 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick2 = pick2[0]
       pick3 = cursor.execute("SELECT pick3 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick3 = pick3[0]
       if pick == 'on':
          pick_name = 'Каменная кирка'
          pick_c = '25 тыщ'
       if pick2 == 'on':
          pick_name = 'Железная кирка'
          pick_c = '25 млрд'
       if pick3 == 'on':
          pick_name = 'Золотая кирка'
          pick_c = '2.5 трлн'

       await bot.send_message(message.chat.id, f"""<a href='tg://user?id={user_id}'>{user_name}</a>, вот информация о вашей кирке:
⛏Кирка: {pick_name}
⚙Прочность: {hp}%

💰Стоимость продажи: {pick_c}""", parse_mode='html')
       if pick == 'off':
           if pick2 == 'off':
               if pick3 == 'off':
                   await bot.send_message(message.chat.id,f"""<a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету кирки.

Чтобы купить кирку введите команду "Купить кирку" [1 - 3]""", parse_mode='html')

    if message.text.startswith('Продать кирку') or message.text.startswith('продать кирку'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])
       
       pick = cursor.execute("SELECT pick from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick = pick[0]
       pick2 = cursor.execute("SELECT pick2 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick2 = pick2[0]
       pick3 = cursor.execute("SELECT pick3 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick3 = pick3[0]

       hp = cursor.execute("SELECT hp from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       hp = hp[0]


       if pick == 'off':
          if pick2 == 'off':
              if pick3 == 'off':
                 await bot.send_message(message.chat.id , f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! у вас и так нету кирки, что бы купить кирку введите команду \"Купить кирку\" [1 - 3]", parse_mode='html')

       if pick == 'on':
          await bot.send_message(message.chat.id, f"⛏ | Вы продали каменную кирку за 25.000$ ", parse_mode='html')
          cursor.execute(f'UPDATE user_case SET pick = "off" WHERE user_id = "{user_id}"')
          cursor.execute(f'UPDATE users SET balance = {balance + 25000} WHERE user_id = "{user_id}"')  
          cursor.execute(f'UPDATE user_case SET hp = "0" WHERE user_id = "{user_id}"')
          connect.commit()
          return
       if pick2 == 'on':
          await bot.send_message(message.chat.id, f"⛏ | Вы продали железную кирку за 25.000.000.000$ ", parse_mode='html')
          cursor.execute(f'UPDATE user_case SET pick2 = "off" WHERE user_id = "{user_id}"')
          cursor.execute(f'UPDATE users SET balance = {balance + 25000000000} WHERE user_id = "{user_id}"')  
          cursor.execute(f'UPDATE user_case SET hp = "0" WHERE user_id = "{user_id}"')
          connect.commit()
          return
       if pick3 == 'on':
          await bot.send_message(message.chat.id, f"⛏ | Вы продали золотую кирку за 2.500.000.000.000$ ", parse_mode='html')
          cursor.execute(f'UPDATE user_case SET pick3 = "off" WHERE user_id = "{user_id}"')
          cursor.execute(f'UPDATE users SET balance = {balance + 2500000000000} WHERE user_id = "{user_id}"')  
          cursor.execute(f'UPDATE user_case SET hp = "0" WHERE user_id = "{user_id}"')
          connect.commit()

    if message.text.startswith('продать') or message.text.startswith('Продать'):
         user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
         user_name = user_name[0]
         user_id = message.from_user.id

         balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
         balance = int(balance[0])

         # iron, silver, bronza, gold
         iron = cursor.execute("SELECT iron from user_case where user_id = ?", (message.from_user.id,)).fetchone()
         iron = int(iron[0])
         
         metall = cursor.execute("SELECT metall from user_case where user_id = ?", (message.from_user.id,)).fetchone()
         metall = int(metall[0])

         silver = cursor.execute("SELECT silver from user_case where user_id = ?", (message.from_user.id,)).fetchone()
         silver = int(silver[0])

         bronza = cursor.execute("SELECT bronza from user_case where user_id = ?", (message.from_user.id,)).fetchone()
         bronza = int(bronza[0])

         gold = cursor.execute("SELECT gold from user_case where user_id = ?", (message.from_user.id,)).fetchone()
         gold = int(gold[0])

         rud = str(message.text.split()[1])

         c = int(message.text.split()[2])

         summ = c * 25000
         summ2 = '{:,}'.format(summ)
         if rud == 'камень':
            if c <= iron:
             if c > 0:               
               summ = c * 25000000
               summ2 = '{:,}'.format(summ)
               await bot.send_message(message.chat.id, f"💸 | Вы успешно продали {c} камень 🪨 за {summ2}$", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {balance + summ} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE user_case SET iron = {iron - c} WHERE user_id = "{user_id}"')
               connect.commit()
            else:
               await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету столько руды!", parse_mode='html')
         if rud == 'железо':
            if c <= metall:
             if c > 0:               
               summ = c * 45000000
               summ2 = '{:,}'.format(summ)
               await bot.send_message(message.chat.id, f"💸 | Вы успешно продали {c} железо ⛓ за {summ2}$", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {balance + summ} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE user_case SET metall = {metall - c} WHERE user_id = "{user_id}"')
               connect.commit()
            else:
               await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету столько руды!", parse_mode='html')

         if rud == 'серебро':
            if c <= silver:
             if c > 0:               
               summ = c * 125000000
               summ2 = '{:,}'.format(summ)
               await bot.send_message(message.chat.id, f"💸 | Вы успешно продали {c} серебро 🪙 за {summ2}$", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {balance + summ} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE user_case SET silver = {silver - c} WHERE user_id = "{user_id}"')
               connect.commit()
            else:
               await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету столько руды!", parse_mode='html')
         if rud == 'бронзу':
            if c <= bronza:
             if c > 0:               
               summ = c * 200000000
               summ2 = '{:,}'.format(summ)
               await bot.send_message(message.chat.id, f"💸 | Вы успешно продали {c} бронзы 🔷 за {summ2}$", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {balance + summ} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE user_case SET bronza = {bronza - c} WHERE user_id = "{user_id}"')
               connect.commit()
            else:
               await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету столько руды!", parse_mode='html')

         if rud == 'золото':
            if c <= gold:
             if c > 0:   
               summ = c * 500000000
               summ2 = '{:,}'.format(summ)
               await bot.send_message(message.chat.id, f"💸 | Вы успешно продали {c} золото 🔶 за {summ2}$", parse_mode='html')
               cursor.execute(f'UPDATE users SET balance = {balance + summ} WHERE user_id = "{user_id}"')
               cursor.execute(f'UPDATE user_case SET gold = {gold - c} WHERE user_id = "{user_id}"')
               connect.commit()
            else:
               await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас нету столько руды!", parse_mode='html')


        
    
    if message.text.startswith("Копать руду") or message.text.startswith("копать руду"):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       pick = cursor.execute("SELECT pick from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick = pick[0]
       pick2 = cursor.execute("SELECT pick2 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick2 = pick2[0]
       pick3 = cursor.execute("SELECT pick3 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick3 = pick3[0]

       hp = cursor.execute("SELECT hp from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       hp = hp[0]

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       rx = random.randint(0,105)

      # iron, silver, bronza, gold
       iron = cursor.execute("SELECT iron from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       iron = int(iron[0])
       
       metall = cursor.execute("SELECT metall from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       metall = int(metall[0])

       silver = cursor.execute("SELECT silver from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       silver = int(silver[0])

       bronza = cursor.execute("SELECT bronza from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       bronza = int(bronza[0])

       gold = cursor.execute("SELECT gold from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       gold = int(gold[0])
       user_status = cursor.execute("SELECT user_status from users where user_id = ?", (message.from_user.id,)).fetchone()
       user_status = str(user_status[0])
       
       rx_iron = random.randint(12, 20)
       rx_metall = random.randint(8, 19)
       rx_silver = random.randint(7, 16)
       rx_bronza = random.randint(1, 8)
       if pick == 'on':
          hp_hit = round(random.uniform(4.4, 7.9),1)
       if pick2 == 'on':
          hp_hit2 = round(random.uniform(2.4, 3.2),1)
       if pick3 == 'on':
          hp_hit3 = round(random.uniform(0.1, 0.3),1)
       if hp <= 0:
          await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! у вас сломалась кирка, купите другую кирку командой \"Купить кирку\" [1 - 3]", parse_mode='html')
          cursor.execute(f'UPDATE user_case SET pick = "off" WHERE user_id = "{user_id}"')

          cursor.execute(f'UPDATE user_case SET pick2 = "off" WHERE user_id = "{user_id}"')
          cursor.execute(f'UPDATE user_case SET pick3 = "off" WHERE user_id = "{user_id}"')
          cursor.execute(f'UPDATE user_case SET hp = "0" WHERE user_id = "{user_id}"')
          return
       if user_status in ['Vip']:
          period = 9
          tp = 'секунд'
       elif user_status in ['Titanium']:
          period = 8
          tp = 'секунд'
       elif user_status in ['Deluxe']:
          period = 7
          tp = 'секунд'
       elif user_status in ['Chem']:
          period = 6
          tp = 'секунд'       
       elif user_status in ['Korol']:
          period = 5
          tp = 'секунд'
       elif user_status in ['Donater']:
          period = 3
          tp = 'секунды'
       elif user_status in ['Admin', 'Helper_Admin', 'Owner', 'Rab']:
          period = 1
          tp = 'секунду'
       elif user_status in ['Player']:
          period = 10
          tp = 'секунд'

       get = cursor.execute("SELECT time_pick FROM bot_time WHERE user_id = ?", (message.from_user.id,)).fetchone()
       last_stavka = int(get[0])
       stavkatime = time.time() - float(last_stavka)
               
       if stavkatime > period:
             if pick =='on':
                if int(rx) in range(0,40):
                    await bot.send_message(message.chat.id, f"""
🪨 | Вы успешно выкопали {rx_iron} камня
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                    cursor.execute(f'UPDATE user_case SET iron = {iron + rx_iron} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit}  WHERE user_id = {user_id}')
                    return
             if pick2 =='on':
                if int(rx) in range(0,40):
                    await bot.send_message(message.chat.id, f"""
🪨 | Вы успешно выкопали {rx_iron} камня
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                    cursor.execute(f'UPDATE user_case SET iron = {iron + rx_iron} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit2}  WHERE user_id = {user_id}')
                    return
             if pick3 =='on':
                if int(rx) in range(0,40):
                   await bot.send_message(message.chat.id, f"""
🪨 | Вы успешно выкопали {rx_iron} камня
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                   cursor.execute(f'UPDATE user_case SET iron = {iron + rx_iron} WHERE user_id = "{user_id}"')
                   cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                   cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit3}  WHERE user_id = {user_id}')
                   return
             if pick == 'on':
                if int(rx) in range(41,70):
                    await bot.send_message(message.chat.id, f"""
⛓ | Вы успешно выкопали {rx_metall} железа
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                    cursor.execute(f'UPDATE user_case SET metall = {metall + rx_metall} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit}  WHERE user_id = {user_id}')
                    return
             if pick2 == 'on':
                if int(rx) in range(41,70):
                    await bot.send_message(message.chat.id, f"""
⛓ | Вы успешно выкопали {rx_metall} железа
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                    cursor.execute(f'UPDATE user_case SET metall = {metall + rx_metall} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit2}  WHERE user_id = {user_id}')
                    return
             if pick3 == 'on':
                if int(rx) in range(41,70):
                    await bot.send_message(message.chat.id, f"""
⛓ | Вы успешно выкопали {rx_metall} железа
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                    cursor.execute(f'UPDATE user_case SET metall = {metall + rx_metall} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit3}  WHERE user_id = {user_id}')
                    return
             if pick == 'on':
                if int(rx) in range(71,85):
                   await bot.send_message(message.chat.id, f"""
🪙 | Вы успешно выкопали {rx_silver} серебра
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                   cursor.execute(f'UPDATE user_case SET silver = {silver + rx_silver} WHERE user_id = "{user_id}"')
                   cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                   cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit}  WHERE user_id = {user_id}')
                   return
             if pick2 == 'on':
                if int(rx) in range(71,85):
                    await bot.send_message(message.chat.id, f"""
🪙 | Вы успешно выкопали {rx_silver} серебра
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                    cursor.execute(f'UPDATE user_case SET silver = {silver + rx_silver} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit2}  WHERE user_id = {user_id}')
                    return
             if pick3 == 'on':
                if int(rx) in range(71,85):
                    await bot.send_message(message.chat.id, f"""
🪙 | Вы успешно выкопали {rx_silver} серебра
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                    cursor.execute(f'UPDATE user_case SET silver = {silver + rx_silver} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit3}  WHERE user_id = {user_id}')
                    return

             if pick == 'on':
                if int(rx) in range(86,97):
                   await bot.send_message(message.chat.id, f"""
🔷 | Вы успешно выкопали {rx_bronza} бронзы
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                   cursor.execute(f'UPDATE user_case SET bronza = {bronza + rx_bronza} WHERE user_id = "{user_id}"')
                   cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                   cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit}  WHERE user_id = {user_id}')
                   return
             if pick2 == 'on':
                if int(rx) in range(86,97):
                   await bot.send_message(message.chat.id, f"""
🔷 | Вы успешно выкопали {rx_bronza} бронзы
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                   cursor.execute(f'UPDATE user_case SET bronza = {bronza + rx_bronza} WHERE user_id = "{user_id}"')
                   cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                   cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit2}  WHERE user_id = {user_id}')
                   return
             if pick3 == 'on':
                if int(rx) in range(86,97):
                   await bot.send_message(message.chat.id, f"""
🔷 | Вы успешно выкопали {rx_bronza} бронзы
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                   cursor.execute(f'UPDATE user_case SET bronza = {bronza + rx_bronza} WHERE user_id = "{user_id}"')
                   cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                   cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit3}  WHERE user_id = {user_id}')
                   return
             if pick == 'on':
                if int(rx) in range(98,105):
                    await bot.send_message(message.chat.id, f"""
🔶 | Вы успешно выкопали 1 золотo
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                    cursor.execute(f'UPDATE user_case SET gold = {gold + 1} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit}  WHERE user_id = {user_id}')
                    return
             if pick2 == 'on':
                if int(rx) in range(98,105):
                    await bot.send_message(message.chat.id, f"""
🔶 | Вы успешно выкопали 5 золотa
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                    cursor.execute(f'UPDATE user_case SET gold = {gold + 5} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit2}  WHERE user_id = {user_id}')
                    return
             if pick3 == 'on':
                if int(rx) in range(98,105):
                    await bot.send_message(message.chat.id, f"""
🔶 | Вы успешно выкопали 10 золотa
 ⛏ | Прочность кирки: {hp}%""", parse_mode='html')
                    cursor.execute(f'UPDATE user_case SET gold = {gold + 10} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE bot_time SET time_pick = {time.time()} WHERE user_id = "{user_id}"')
                    cursor.execute(f'UPDATE user_case SET hp = {hp - hp_hit3}  WHERE user_id = {user_id}')
                    return

             if pick == 'off':
                if pick2 == 'off':
                   if pick3 == 'off':
                      await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! у вас нету кирки, что бы купить кирку введите команду \"Купить кирку\" [1 - 3]", parse_mode='html')
                      return             

       else:
           await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! Копать руду можно раз в <b>{period} {tp}</b>!", parse_mode='html')
           return





    if message.text.startswith('Купить кирку 1') or message.text.startswith('купить кирку 1'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?", (message.from_user.id,)).fetchone()
       donate_coins = int(donate_coins[0])
                     
       pick = cursor.execute("SELECT pick from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick = pick[0]
       
       pick2 = cursor.execute("SELECT pick2 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick2 = pick2[0]
       
       pick3 = cursor.execute("SELECT pick3 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick3 = pick3[0]

       hp = cursor.execute("SELECT hp from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       hp = hp[0]

       if pick == 'on':
          await bot.send_message(message.chat.id , f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! у вас уже есть кирка, что бы продать кирку введите команду \"Продать кирку\" [1 - 3]", parse_mode='html')
          return

       if pick2 == 'on':
          await bot.send_message(message.chat.id , f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! у вас уже есть кирка, что бы продать кирку введите команду \"Продать кирку\" [1 - 3]", parse_mode='html')
          return

       if pick3 == 'on':
          await bot.send_message(message.chat.id , f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! у вас уже есть кирка, что бы продать кирку введите команду \"Продать кирку\" [1 - 3]", parse_mode='html')
          return
          
       if pick == 'off':
          if balance >= 100000:
             await bot.send_message(message.chat.id, f"⛏ | Вы купили каменную кирку за 100.000$ ", parse_mode='html')
             cursor.execute(f'UPDATE user_case SET pick = "on" WHERE user_id = "{user_id}"')
             cursor.execute(f'UPDATE users SET balance = {balance - 100000} WHERE user_id = "{user_id}"')
             cursor.execute(f'UPDATE user_case SET hp = "100" WHERE user_id = "{user_id}"')
             connect.commit()

          else:
             await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас не хватает средств!", parse_mode='html')          

    if message.text.startswith('Купить кирку 2') or message.text.startswith('купить кирку 2'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?", (message.from_user.id,)).fetchone()
       donate_coins = int(donate_coins[0])
                     
       pick = cursor.execute("SELECT pick from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick = pick[0]
       
       pick2 = cursor.execute("SELECT pick2 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick2 = pick2[0]
       
       pick3 = cursor.execute("SELECT pick3 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick3 = pick3[0]

       hp = cursor.execute("SELECT hp from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       hp = hp[0]

       if pick == 'on':
          await bot.send_message(message.chat.id , f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! у вас уже есть кирка, что бы продать кирку введите команду \"Продать кирку\" [1 - 3]", parse_mode='html')

       if pick2 == 'on':
          await bot.send_message(message.chat.id , f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! у вас уже есть кирка, что бы продать кирку введите команду \"Продать кирку\" [1 - 3]", parse_mode='html')

       if pick3 == 'on':
          await bot.send_message(message.chat.id , f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! у вас уже есть кирка, что бы продать кирку введите команду \"Продать кирку\" [1 - 3]", parse_mode='html')
          
       if pick2 == 'off':
          if balance >= 100000:
             await bot.send_message(message.chat.id, f"⛏ | Вы купили железную кирку за 100.000.000.000$ ", parse_mode='html')
             cursor.execute(f'UPDATE user_case SET pick2 = "on" WHERE user_id = "{user_id}"')
             cursor.execute(f'UPDATE users SET balance = {balance - 100000000000} WHERE user_id = "{user_id}"')
             cursor.execute(f'UPDATE user_case SET hp = "100" WHERE user_id = "{user_id}"')
             connect.commit()

          else:
             await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас не хватает средств!", parse_mode='html')          
    


    if message.text.startswith('Купить кирку 3') or message.text.startswith('купить кирку 3'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id

       balance = cursor.execute("SELECT balance from users where user_id = ?", (message.from_user.id,)).fetchone()
       balance = int(balance[0])

       donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?", (message.from_user.id,)).fetchone()
       donate_coins = int(donate_coins[0])
                     
       pick = cursor.execute("SELECT pick from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick = pick[0]
       pick2 = cursor.execute("SELECT pick2 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick2 = pick2[0]
       pick3 = cursor.execute("SELECT pick3 from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       pick3 = pick3[0]

       hp = cursor.execute("SELECT hp from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       hp = hp[0]

       if pick == 'on':
          await bot.send_message(message.chat.id , f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! у вас уже есть кирка, что бы продать кирку введите команду \"Продать кирку\" [1 - 3]", parse_mode='html')

       if pick2 == 'on':
          await bot.send_message(message.chat.id , f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! у вас уже есть кирка, что бы продать кирку введите команду \"Продать кирку\" [1 - 3]", parse_mode='html')

       if pick3 == 'on':
          await bot.send_message(message.chat.id , f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, подождите! у вас уже есть кирка, что бы продать кирку введите команду \"Продать кирку\" [1 - 3]", parse_mode='html')
          
          
       if pick3 == 'off':
          if donate_coins >= 10:
             await bot.send_message(message.chat.id, f"⛏ | Вы купили золотую кирку за 10 пончиков 🍩 ", parse_mode='html')
             cursor.execute(f'UPDATE user_case SET pick3 = "on" WHERE user_id = "{user_id}"')
             cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 10} WHERE user_id = "{user_id}"')
             cursor.execute(f'UPDATE user_case SET hp = "100" WHERE user_id = "{user_id}"')
             connect.commit()


          else:
             await bot.send_message(message.chat.id, f"🆘 | <a href='tg://user?id={user_id}'>{user_name}</a>, у вас не хватает средств!", parse_mode='html')        
###############################################ИНВЕНТАРЬ####################################################################

    if message.text.startswith('инвентарь') or message.text.startswith('Инвентарь') or message.text.startswith('инв') or message.text.startswith('Инв'):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id
       
       loser = ['😐', '😕','😟','😔','😓']
       rloser = random.choice(loser)

       farm = 0
       men = 0
       ob = 0

       iron = cursor.execute("SELECT iron from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       iron = int(iron[0])
       iron_f = '{:,}'.format(iron)

       metall = cursor.execute("SELECT metall from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       metall = int(metall[0])
       metall_f = '{:,}'.format(metall)

       silver = cursor.execute("SELECT silver from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       silver = int(silver[0])
       silver_f = '{:,}'.format(silver)

       bronza = cursor.execute("SELECT bronza from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       bronza = int(bronza[0])
       bronza_f = '{:,}'.format(bronza)

       gold = cursor.execute("SELECT gold from user_case where user_id = ?", (message.from_user.id,)).fetchone()
       gold = int(gold[0])
       gold_f = '{:,}'.format(gold)
       
       brevno = cursor.execute("SELECT brevno from mine where user_id = ?", (message.from_user.id,)).fetchone()
       brevno = int(brevno[0])
       brevno_f = '{:,}'.format(brevno)

       if iron > 0:
          iron2 = f'    🪨 | Камня: {iron_f} шт\n'
          men = men + 1
          ob = ob + 1
       else:
          iron2 = ''

       if metall > 0:
          metall2 = f'    ⛓ | Железа: {metall_f} шт\n'
          men = men + 1
          ob = ob + 1
       else:
          metall2 = ''
      
       if silver > 0:
          silver2 = f'    🪙 | Серебра: {silver_f} шт\n'
          men = men + 1
          ob = ob + 1
       else:
          silver2 = ''

       if bronza > 0:
          bronza2 = f'    🔷 | Бронзы: {bronza_f} шт\n'
          men = men + 1
          ob = ob + 1
       else:
          bronza2 = ''

       if gold > 0:
          gold2 = f'    🔶 | Золота: {gold_f} шт\n'
          men = men + 1
          ob = ob + 1
       else:
          gold2 = ''

       if men > 0:
          men_2 = '\n⛏ | Шахта\n'
       else:
          men_2 = ''
          
       if brevno > 0:
          brevno2 = f'    🪵 | Дерева: {brevno_f} шт\n'
          farm = farm + 1
          ob = ob + 1
       else:
          brevno2 = ''
          
       if farm > 0:
          farm_2 = '\n🪓 | Лесопилка\n'
       else:
          farm_2 = ''
          
       if ob == 0:
          ob2 = f'Вещи отсутствуют {rloser}'
       else:
          ob2 = ''          
       
       await bot.send_message(message.chat.id, f"""<a href='tg://user?id={user_id}'>{user_name}</a>, вот ваш инвентарь:       	
{ob2}{men_2}{iron2}{metall2}{silver2}{bronza2}{gold2}{farm_2}{brevno2}
    """, parse_mode='html')


###############################################КЛАН####################################################################
    if message.text.lower().startswith('клан создать'):
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        user_id = message.from_user.id
        balance = cursor.execute(
            "SELECT balance from users where user_id = ?", (message.from_user.id,))
        balance = cursor.fetchone()
        balance = int(balance[0])
        data_с = await get_clan(message.from_user.id)
        if data_с is None:
            if balance >= 1_000_000:

                try:
                    name = str(message.text.split()[2])
                    if len(name) <= 30 and len(name) >= 4:
                        pass
                    else:
                        await message.reply('‼️Название клана должно быть не меньше 4 символов и не больше 30 символов')
                        return
                except:
                    await message.reply('‼️ Не хватает аргументов!\nПример: <code>клан создать</code> [название]', parse_mode ='html')
                    return
                new_clan_id = cursor.execute(
                    "SELECT new_clan_id from clans_id ")
                new_clan_id = cursor.fetchone()
                new_clan_id = int(new_clan_id[0])
                cursor.execute(
                    f"UPDATE users SET balance={balance - 100_000_000_000_000} WHERE user_id=?", (message.from_user.id,))
                cursor.execute(
                    f'INSERT INTO clans VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);', (1, new_clan_id, name, 0, 1, new_clan_id, 0, 0, 0, 0))
                cursor.execute(
                    f'INSERT INTO clan VALUES (?, ?, ?, ?, ?);', (user_id, user_name, "SOZD", new_clan_id, name))
                connect.commit()
                await message.reply(
                    f'🛡️ <a href="tg://user?id={user_id}">{user_name}</a> Вы успешно создали клан',
                    parse_mode='html')
                cursor.execute(
                    f"UPDATE clans_id SET new_clan_id={new_clan_id+1}")
                connect.commit()
            else:
                await message.reply(f'💰 <a href="tg://user?id={user_id}">{user_name}</a> вы не можетe создать клан (недостаточно средств)\n Стоимость: 100.000.000.000.000$',
                                    parse_mode='html')
        else:
            await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы уже в клане', parse_mode='html')

    if message.text.lower().startswith('клан вступить'):
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        user_id = message.from_user.id
        data_с = await get_clan(message.from_user.id)
        if data_с is None:
            try:
                id = message.text.split()[2]
                if id.isdigit():
                    pass
                else:
                    await message.reply('‼️ Не хватает аргументов!\nПример:клан вступить id ')
                    return
            except:
                await message.reply('‼️ Не хватает аргументов!\nПример: клан вступить id ')
                return

            cursor.execute(
                f"SELECT clan_id FROM clans WHERE clan_id =?", (id,))
            if cursor.fetchone() != None:
                cursor.execute(
                    f"SELECT type_clan FROM clans WHERE clan_id =?", (id,))
                type_clan = cursor.fetchone()
                type_clan = int(type_clan[0])
                if type_clan == 1:
                    name = cursor.execute(
                        f"SELECT clan_name FROM clans WHERE clan_id=?", (id,))
                    name = cursor.fetchone()
                    name = name[0]

                    member = cursor.execute(
                        f"SELECT members FROM clans WHERE clan_id=?", (id,))
                    member = cursor.fetchone()
                    member = int(member[0])

                    if member > 0:
                        cursor.execute(
                            f'INSERT INTO clan VALUES (?, ?, ?, ?, ?);',
                            (user_id, user_name, "member", id, name))
                        cursor.execute(
                            f"UPDATE clans SET members={member+1} WHERE clan_id=?", (id,))
                        await message.reply(
                            f'🛡️ <a href="tg://user?id={user_id}">{user_name}</a>, вы вступили в клан',
                            parse_mode='html')
                        connect.commit()
                    if member == 0:
                        cursor.execute(
                            f'INSERT INTO clan VALUES (?, ?, ?, ?, ?);',
                            (user_id, user_name, "SOZD", id, name))
                        cursor.execute(
                            f"UPDATE clans SET members={member + 1} WHERE clan_id=?", (id,))
                        await message.reply(
                            f'🛡️ <a href="tg://user?id={user_id}">{user_name}</a>, вы вступили в клан\b‼️ Так как в клане было пусто вы теперь новый глава клана',
                            parse_mode='html')
                        connect.commit()
                else:
                    await message.reply(
                        f'🛡️ <a href="tg://user?id={user_id}">{user_name}</a> Клан закрыт',
                        parse_mode='html')
            else:
                await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a>такого  клана не существует',
                                    parse_mode='html')
        else:
            await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a>вы уже в клане',
                                parse_mode='html')
    if message.text.lower() in ["Клан покинуть", "клан покинуть"]:
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        user_id = message.from_user.id
        data_с = await get_clan(message.from_user.id)
        if data_с != None:
            status = cursor.execute(
                "SELECT status FROM clan WHERE user_id=?", (user_id,))
            status = cursor.fetchone()
            status = status[0]
            if status == "SOZD":

                clan_id = cursor.execute(
                    f"SELECT clan_id FROM clan WHERE user_id=?", (message.from_user.id,))
                clan_id = cursor.fetchone()
                clan_id = clan_id[0]
                member = cursor.execute(
                    f"SELECT members FROM clans WHERE clan_id=?", (clan_id,))
                member = cursor.fetchone()
                member = int(member[0])

                cursor.execute(
                    f"UPDATE clans SET members={member - 1} WHERE clan_id=?", (clan_id,))

                cursor.execute("DELETE FROM clan WHERE user_id= ?",
                               (message.from_user.id,))
                connect.commit()

                member = cursor.execute(
                    f"SELECT members FROM clans WHERE clan_id=?", (clan_id,))
                member = cursor.fetchone()
                member = int(member[0])
                if member > 0:
                    user_ids = cursor.execute(
                        "SELECT user_id FROM clan WHERE clan_id=?", (clan_id,))
                    user_ids = cursor.fetchall()
                    list = []

                    for user in user_ids:
                        list.append(f"{user[0]}")

                    random_index = random.randrange(len(list))
                    new_id = list[random_index]
                    user_name_new = cursor.execute("SELECT user_name from users where user_id = ?",
                                                   (new_id,))
                    user_name_new = cursor.fetchone()
                    user_name_new = user_name_new[0]
                    cursor.execute(
                        f"UPDATE clan SET status='SOZD' WHERE user_id={new_id} and clan_id={clan_id}")
                    await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы больше не состоите в клане \n🆕 Новый глава клана:  <a href="tg://user?id={new_id}">{user_name_new}</a>({new_id}) ',
                                        parse_mode='html')
                    connect.commit()

                if member == 0:
                    await message.reply(
                        f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы больше не состоите в клане ',
                        parse_mode='html')
            else:
                clan_id = cursor.execute(
                    f"SELECT clan_id FROM clan WHERE user_id=?", (message.from_user.id,))
                clan_id = cursor.fetchone()
                clan_id = clan_id[0]
                member = cursor.execute(
                    f"SELECT members FROM clans WHERE clan_id=?", (clan_id,))
                member = cursor.fetchone()
                member = int(member[0])

                cursor.execute(
                    f"UPDATE clans SET members={member - 1} WHERE clan_id=?", (clan_id,))

                cursor.execute("DELETE FROM clan WHERE user_id= ?",
                               (message.from_user.id,))
                connect.commit()
                await message.reply(
                    f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы больше не состоите в клане ',
                    parse_mode='html')

        else:
            await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы не состоите в клане',
                                parse_mode='html')
    if message.text.lower().startswith('клан повысить'):

        user_id = message.from_user.id
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        data_с = await get_clan(message.from_user.id)
        if data_с != None:
            try:
                user_kik = message.text.split()[2]
                if user_kik.isdigit():
                    pass
                else:
                    await message.reply('‼️ Не хватает аргументов!\nПример: Клан повысить id ')
                    return
            except:
                await message.reply('‼️ Не хватает аргументов!\nПример: Клан повысить id ')
                return

            cursor.execute("SELECT * FROM clan WHERE user_id=?", (user_kik,))
            if cursor.fetchone() != None:
                status = cursor.execute(
                    "SELECT status FROM clan WHERE user_id=?", (user_id,))
                status = cursor.fetchone()
                status = status[0]
                ruser_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                            (user_kik,))
                ruser_name = cursor.fetchone()
                ruser_name = ruser_name[0]
                if status == "SOZD":
                    clan_id = cursor.execute(
                        f"SELECT clan_id FROM clan WHERE user_id=?", (user_kik,))
                    clan_id = cursor.fetchone()
                    clan_id = clan_id[0]
                    clan_id1 = cursor.execute(
                        f"SELECT clan_id FROM clan WHERE user_id=?", (user_id,))
                    clan_id1 = cursor.fetchone()
                    clan_id1 = clan_id1[0]
                    if clan_id1 == clan_id:
                        cursor.execute(
                            f"UPDATE clan SET status='soryk' WHERE user_id=?", (user_kik,))
                        await message.reply(
                            f'⏫️  <a href="tg://user?id={user_id}">{user_name}</a>, вы повысили статус игрока(<a href="tg://user?id={user_kik}">{ruser_name}</a>) до суроководителя !\n'
                            f'🛑 Будьте осторожны повышая ранг игрокам они могут управлять вашим кланом !',
                            parse_mode='html')
                    else:
                        await message.reply(
                            f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> игрок не состоит в вашем клане',
                            parse_mode='html')
                else:
                    await message.reply(
                        f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> Вы не создатель клана',
                        parse_mode='html')
            else:
                await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> игрок не состоит в клане',
                                    parse_mode='html')
        else:
            await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы не состоите в клане',
                                parse_mode='html')
    if message.text.lower().startswith('клан понизить'):

        user_id = message.from_user.id
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        data_с = await get_clan(message.from_user.id)
        if data_с != None:
            try:
                user_kik = message.text.split()[2]
                if user_kik.isdigit():
                    pass
                else:
                    await message.reply('‼️ Не хватает аргументов!\nПример: Клан понизить id ')
                    return
            except:
                await message.reply('‼️ Не хватает аргументов!\nПример: Клан понизить id ')
                return

            cursor.execute("SELECT * FROM clan WHERE user_id=?", (user_kik,))
            if cursor.fetchone() != None:
                status = cursor.execute(
                    "SELECT status FROM clan WHERE user_id=?", (user_id,))
                status = cursor.fetchone()
                status = status[0]
                ruser_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                            (user_kik,))
                ruser_name = cursor.fetchone()
                ruser_name = ruser_name[0]
                if status == "SOZD":
                    clan_id = cursor.execute(
                        f"SELECT clan_id FROM clan WHERE user_id=?", (user_kik,))
                    clan_id = cursor.fetchone()
                    clan_id = clan_id[0]
                    clan_id1 = cursor.execute(
                        f"SELECT clan_id FROM clan WHERE user_id=?", (user_id,))
                    clan_id1 = cursor.fetchone()
                    clan_id1 = clan_id1[0]
                    if clan_id1 == clan_id:
                        cursor.execute(
                            f"UPDATE clan SET status='soryk' WHERE user_id=?", (user_kik,))
                        await message.reply(
                            f'⏬️  <a href="tg://user?id={user_id}">{user_name}</a> ,вы понизили статус игрока(<a href="tg://user?id={user_kik}">{ruser_name}</a>) до участника !', parse_mode='html')
                    else:
                        await message.reply(
                            f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> игрок не состоит в вашем клане',
                            parse_mode='html')
                else:
                    await message.reply(
                        f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> Вы не создатель клана',
                        parse_mode='html')
            else:
                await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> игрок не состоит в клане',
                                    parse_mode='html')
        else:
            await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы не состоите в клане',
                                parse_mode='html')

    if message.text.lower().startswith('клан кик'):

        user_id = message.from_user.id
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        data_с = await get_clan(message.from_user.id)
        if data_с != None:
            try:
                user_kik = message.text.split()[2]
                if user_kik.isdigit():
                    pass
                else:
                    await message.reply('‼️ Не хватает аргументов!\nПример: Клан кик id ')
                    return
            except:
                await message.reply('‼️ Не хватает аргументов!\nПример: Клан кик id ')
                return

            cursor.execute("SELECT * FROM clan WHERE user_id=?", (user_kik,))
            if cursor.fetchone() != None:
                status = cursor.execute(
                    "SELECT status FROM clan WHERE user_id=?", (user_id,))
                status = cursor.fetchone()
                status = status[0]
                if status == "SOZD" or status == "soryk":
                    clan_id = cursor.execute(
                        f"SELECT clan_id FROM clan WHERE user_id=?", (user_kik,))
                    clan_id = cursor.fetchone()
                    clan_id = clan_id[0]
                    clan_id1 = cursor.execute(
                        f"SELECT clan_id FROM clan WHERE user_id=?", (user_id,))
                    clan_id1 = cursor.fetchone()
                    clan_id1 = clan_id1[0]
                    if clan_id1 == clan_id:
                        rstatus = cursor.execute(
                            "SELECT status FROM clan WHERE user_id=?", (user_kik,))
                        rstatus = cursor.fetchone()
                        rstatus = rstatus[0]
                        if rstatus != "SOZD":
                            ruser_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                                        (user_kik,))
                            ruser_name = cursor.fetchone()
                            ruser_name = ruser_name[0]

                            member = cursor.execute(
                                f"SELECT members FROM clans WHERE clan_id=?", (clan_id,))
                            member = cursor.fetchone()
                            member = int(member[0])
                            cursor.execute(
                                f"UPDATE clans SET members={member - 1} WHERE clan_id=?", (clan_id,))

                            cursor.execute(
                                "DELETE FROM clan WHERE user_id= ?", (user_kik,))
                            connect.commit()
                            await message.reply(f'⛔️ <a href="tg://user?id={user_id}">{user_name}</a> вы кикнули из клана игрока  <a href="tg://user?id={user_kik}">{ruser_name}</a>',
                                                parse_mode='html')
                        else:
                            await message.reply(
                                f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы не можете кикнуть создателя',
                                parse_mode='html')
                    else:
                        await message.reply(
                            f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> игрок не состоит в вашем клане',
                            parse_mode='html')
                else:
                    await message.reply(
                        f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> выгонять из клана может только админы клана',
                        parse_mode='html')
            else:
                await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> игрок не состоит в клане',
                                    parse_mode='html')
        else:
            await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы не состоите в клане',
                                parse_mode='html')
    if message.text.lower().startswith('клан атака'):
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        user_id = message.from_user.id
        data_с = await get_clan(message.from_user.id)
        if data_с != None:
            clan_id1 = cursor.execute(
                f"SELECT clan_id FROM clan WHERE user_id=?", (user_id,))
            clan_id1 = cursor.fetchone()
            clan_id1 = clan_id1[0]
            status = cursor.execute(
                "SELECT status FROM clan WHERE user_id=?", (user_id,))
            status = cursor.fetchone()
            status = status[0]

            if status == "SOZD" or status == "soryk":
                try:
                    id_clan = message.text.split()[2]
                    if id_clan.isdigit():
                        pass
                    else:
                        await message.reply('‼️ Не хватает аргументов!\nПример:клан атака id ')
                        return
                except:
                    await message.reply('‼️ Не хватает аргументов!\nПример: Клан атака (id) ')
                    return
                cursor.execute(
                    f"SELECT clan_id FROM clans WHERE clan_id =?", (id_clan,))
                if cursor.fetchone() != None:
                    if clan_id1 != id_clan:
                        period = 43200
                        get = cursor.execute(
                            f"SELECT last_stavka FROM clans WHERE clan_id = ?", (clan_id1,)).fetchone()
                        get2 = int(get[0])
                        stavkatime = time.time() - float(get2)
                        if stavkatime >= period:
                            win = cursor.execute(
                                f"SELECT win FROM clans WHERE clan_id=?", (clan_id1,))
                            win = cursor.fetchone()
                            win = int(win[0])
                            lose = cursor.execute(
                                f"SELECT lose FROM clans WHERE clan_id=?", (clan_id1,))
                            lose = cursor.fetchone()
                            lose = int(lose[0])
                            win2 = cursor.execute(
                                f"SELECT win FROM clans WHERE clan_id=?", (id_clan,))
                            win2 = cursor.fetchone()
                            win2 = int(win2[0])
                            lose2 = cursor.execute(
                                f"SELECT lose FROM clans WHERE clan_id=?", (id_clan,))
                            lose2 = cursor.fetchone()
                            lose2 = int(lose2[0])
                            power = cursor.execute(
                                f"SELECT power FROM clans WHERE clan_id=?", (clan_id1,))
                            power = cursor.fetchone()
                            power = int(power[0])
                            power2 = cursor.execute(
                                f"SELECT power FROM clans WHERE clan_id=?", (id_clan,))
                            power2 = cursor.fetchone()
                            power2 = int(power2[0])
                            clan_name = cursor.execute(
                                f"SELECT clan_name FROM clans WHERE clan_id=?", (id_clan,))
                            clan_name = cursor.fetchone()
                            clan_name = clan_name[0]
                            if power2 > power:
                                cursor.execute(
                                    f"UPDATE clans SET power={power2-power} WHERE clan_id=?", (id_clan,))
                                cursor.execute(
                                    f"UPDATE clans SET win={win2 + 1} WHERE clan_id=?", (id_clan,))
                                cursor.execute(
                                    f"UPDATE clans SET lose={lose + 1} WHERE clan_id=?", (clan_id1,))
                                cursor.execute(
                                    f'UPDATE clans SET last_stavka = {time.time()} WHERE clan_id = ?', (clan_id1,))
                                connect.commit()
                                await message.reply(
                                    f"""
‼️ | <a href="tg://user?id={user_id}">{user_name}</a>, вы атакавали клан {clan_name}
📋 | Результат:
💀 | К сожелению вражеский клан оказался сильнее """, parse_mode='html')

                            elif power2 < power:
                                cursor.execute(
                                    f"UPDATE clans SET power={power - power2} WHERE clan_id=?", (clan_id1,))
                                cursor.execute(
                                    f"UPDATE clans SET win={win + 1} WHERE clan_id=?", (clan_id1,))
                                cursor.execute(
                                    f"UPDATE clans SET lose={lose2 + 1} WHERE clan_id=?", (id_clan,))
                                cursor.execute(
                                    f'UPDATE clans SET last_stavka = {time.time()} WHERE clan_id = ?', (clan_id1,))
                                connect.commit()
                                await message.reply(
                                    f"""
‼️ | <a href="tg://user?id={user_id}">{user_name}</a>, вы атакавали клан {clan_name}
📋 | Результат:
🏅 |  Поздравляю с победой над кланом {clan_name}""",
                                    parse_mode='html')
                            else:
                                cursor.execute(
                                    f"UPDATE clans SET power={0} WHERE clan_id=?", (clan_id1,))
                                cursor.execute(
                                    f"UPDATE clans SET power={0} WHERE clan_id=?", (id_clan,))
                                cursor.execute(
                                    f"UPDATE clans SET lose={lose2 + 1} WHERE clan_id=?", (clan_id1,))
                                cursor.execute(
                                    f"UPDATE clans SET lose={lose + 1} WHERE clan_id=?", (id_clan,))
                                cursor.execute(
                                    f'UPDATE clans SET last_stavka = {time.time()} WHERE clan_id = ?', (clan_id1,))
                                connect.commit()
                                await message.reply(
                                    f"""
‼️ | <a href="tg://user?id={user_id}">{user_name}</a>, вы атакавали клан {clan_name}
📋 | Результат:
💀 | Оба клана потерпели поражения """,
                                    parse_mode='html')
                        else:
                            await message.reply(
                                f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> атаковать кланы можно раз в 12ч',
                                parse_mode='html')
                    else:
                        await message.reply(
                            f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы не можете атаковать свой клан',
                            parse_mode='html')
                else:
                    await message.reply(
                        f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> такого клана не существует',
                        parse_mode='html')
            else:
                await message.reply(
                    f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> атаковать кланы может только создатель клана',
                    parse_mode='html')
        else:
            await message.reply(
                f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы не состоите в клане',
                parse_mode='html')
    if message.text.lower().startswith('клан усилить'):
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        user_id = message.from_user.id
        data_с = await get_clan(message.from_user.id)
        if data_с != None:
            clan_id1 = cursor.execute(
            f"SELECT clan_id FROM clan WHERE user_id=?", (user_id,))
            clan_id1 = cursor.fetchone()
            clan_id1 = clan_id1[0]
            kazna = cursor.execute(
            f"SELECT kazna FROM clans WHERE clan_id=?", (clan_id1,))
            kazna = cursor.fetchone()
            kazna = int(kazna[0])
            status = cursor.execute(
                "SELECT status FROM clan WHERE user_id=? and clan_id=?", (user_id, clan_id1,))
            status = cursor.fetchone()
            status = status[0]
            
            power = cursor.execute(
                f"SELECT power FROM clans WHERE clan_id=?", (clan_id1,))
            power = cursor.fetchone()
            power = int(power[0])
            if status == "SOZD" or status == "soryk":
                try:
                    summ = int(message.text.split()[2])
                except:
                    await message.reply('‼️ Не хватает аргументов!\nПример: Клан усилить (число) ')
                    return
                if summ > 0:
                    if kazna >= summ*1_000_000_000_000:
                        summ3 = '{:,}'.format(summ).replace(',', '.')

                        await message.reply(
                            f'💰 <a href="tg://user?id={user_id}">{user_name}</a>, вы успешно усилили клан на: {summ3} 💪',
                            parse_mode='html')
                        cursor.execute(
                            f"UPDATE clans SET kazna={kazna-summ*1_000_000_000_000} WHERE clan_id=?", (clan_id1,))
                        cursor.execute(
                            f"UPDATE clans SET power={power+summ} WHERE clan_id=?", (clan_id1,))

                    else:
                        await message.reply(
                            f'💰 ️<a href="tg://user?id={user_id}">{user_name}</a>, недостаточно средств - 1 усилие = 1,000,000,000,000$!',
                            parse_mode='html')
                else:
                    await message.reply(
                        f'‼️ <a href="tg://user?id={user_id}">{user_name}</a>, нельзя вводить отрицательные числа',
                        parse_mode='html')

            else:
                await message.reply(
                    f'‼️ <a href="tg://user?id={user_id}">{user_name}</a>, усилить клан может только админ клана',
                    parse_mode='html')
        else:
            await message.reply(
                f'‼️ <a href="tg://user?id={user_id}">{user_name}</a>, вы не состоите в клане',
                parse_mode='html')
    if message.text.lower().startswith('клан снять'):
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        user_id = message.from_user.id
        balance = cursor.execute(
            "SELECT balance from users where user_id = ?", (message.from_user.id,))
        balance = cursor.fetchone()
        balance = int(balance[0])
        clan_id1 = cursor.execute(
            f"SELECT clan_id FROM clan WHERE user_id=?", (user_id,))
        clan_id1 = cursor.fetchone()
        clan_id1 = clan_id1[0]
        kazna = cursor.execute(
                f"SELECT kazna FROM clans WHERE clan_id=?", (clan_id1,))
        kazna = cursor.fetchone()
        kazna = int(kazna[0])
        data_с = await get_clan(message.from_user.id)
        if data_с != None:
            try:
                su = msg.text.split()[2]
                su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
                su3 = float(su2)
                summ = int(su3)

            except:
                await message.reply('‼️ Не хватает аргументов!\nПример: Казна снять сумма ')
                return
            if summ > 0:
                if kazna >= summ:
                    status = cursor.execute("SELECT status FROM clan WHERE user_id=? and clan_id=?",
                                            (user_id, clan_id1,))
                    status = cursor.fetchone()
                    status = status[0]
                    if status == "SOZD" or status == "soryk":
                        summ3 = '{:,}'.format(summ).replace(',', '.')

                        await message.reply(
                            f'💰 ️ <a href="tg://user?id={user_id}">{user_name}</a> Вы сняли с казны сумму: {summ3}$',
                            parse_mode='html')
                        cursor.execute(f"UPDATE users SET balance={balance + summ} WHERE user_id=?",
                                       (message.from_user.id,))
                        cursor.execute(
                            f"UPDATE clans SET kazna={kazna - summ} WHERE clan_id=?", (clan_id1,))
                        connect.commit()
                    else:
                        await message.reply(
                            f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> снимать деньги с казны может только админ клана',
                            parse_mode='html')
                else:
                    await message.reply(
                        f'💰 ️<a href="tg://user?id={user_id}">{user_name}</a> недостаточно средств',
                        parse_mode='html')
            else:
                await message.reply(
                    f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> нельзя снять отрицательные числа',
                    parse_mode='html')
        else:
            await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы не состоите в клане',
                                parse_mode='html')
    if message.text.lower().startswith('клан пополнить'):
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        user_id = message.from_user.id
        balance = cursor.execute(
            "SELECT balance from users where user_id = ?", (message.from_user.id,))
        balance = cursor.fetchone()
        balance = int(balance[0])
        clan_id1 = cursor.execute(
            f"SELECT clan_id FROM clan WHERE user_id=?", (user_id,))
        clan_id1 = cursor.fetchone()
        clan_id1 = clan_id1[0]
        kazna = cursor.execute(
            f"SELECT kazna FROM clans WHERE clan_id=?", (clan_id1,))
        kazna = cursor.fetchone()
        kazna = int(kazna[0])
        data_с = await get_clan(message.from_user.id)
        if data_с != None:
            try:
                su = msg.text.split()[2]
                su2 = (su).replace('к', '000')
                su3 = (su2).replace('м', '000000')
                su4 = (su3).replace('.', '')
                su5 = float(su4)
                summ = int(su5)

            except:
                await message.reply('‼️ Не хватает аргументов!\nПример: Казна пополнить сумма ')
                return
            if summ > 0:
                if balance >= summ:
                    summ3 = '{:,}'.format(summ).replace(',', '.')
                    cursor.execute(
                        f"UPDATE users SET balance={balance - summ} WHERE user_id=?", (message.from_user.id,))
                    cursor.execute(
                        f"UPDATE clans SET kazna={kazna + summ} WHERE clan_id=?", (clan_id1,))
                    await message.reply(
                        f'💰 <a href="tg://user?id={user_id}">{user_name}</a> Вы пополнили казну клана на сумму: {summ3}$',
                        parse_mode='html')
                    connect.commit()

                else:
                    await message.reply(
                        f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> недостаточно средств',
                        parse_mode='html')
            else:
                await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> нельзя пополнить отрицательные числа',
                                    parse_mode='html')
        else:
            await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы не состоите в клане',
                                parse_mode='html')
    if message.text.lower() in ["клан приватность"]:
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        user_id = message.from_user.id
        data_с = await get_clan(message.from_user.id)
        if data_с != None:
            clan_id = cursor.execute(
                f"SELECT clan_id FROM clan WHERE user_id=?", (message.from_user.id,))
            clan_id = cursor.fetchone()
            clan_id = clan_id[0]
            type_clan = cursor.execute(
                f"SELECT type_clan FROM clans WHERE clan_id=?", (clan_id,))
            type_clan = cursor.fetchone()
            type_clan = int(type_clan[0])
            status = cursor.execute(
                "SELECT status FROM clan WHERE user_id=? and clan_id=?", (user_id, clan_id,))
            status = cursor.fetchone()
            status = status[0]
            if status == "SOZD":
                if type_clan == 1:
                    cursor.execute(
                        f"UPDATE clans SET type_clan=0 WHERE clan_id=?", (clan_id,))
                    await message.reply(
                        f'🔒️ <a href="tg://user?id={user_id}">{user_name}</a>, вы закрыли клан',
                        parse_mode='html')
                    connect.commit()
                if type_clan == 0:
                    cursor.execute(
                        f"UPDATE clans SET type_clan=1 WHERE clan_id=?", (clan_id,))
                    await message.reply(
                        f'🔓️ <a href="tg://user?id={user_id}">{user_name}</a>, вы открыли клан',
                        parse_mode='html')
                    connect.commit()
            else:
                await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> приватность менять может только создатель',
                                    parse_mode='html')
        else:
            await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы не состоите в клане',
                                parse_mode='html')
    if message.text.lower() in ["мой клан", "клан"]:
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        user_id = message.from_user.id
        data_с = await get_clan(message.from_user.id)
        if data_с != None:
            clan_id = cursor.execute(
                f"SELECT clan_id FROM clan WHERE user_id=?", (message.from_user.id,))
            clan_id = cursor.fetchone()
            clan_id = clan_id[0]
            name = cursor.execute(
                f"SELECT clan_name FROM clans WHERE clan_id=?", (clan_id,))
            name = cursor.fetchone()
            name = name[0]
            member = cursor.execute(
                f"SELECT members FROM clans WHERE clan_id=?", (clan_id,))
            member = cursor.fetchone()
            member = int(member[0])
            kazna = cursor.execute(
                f"SELECT kazna FROM clans WHERE clan_id=?", (clan_id,))
            kazna = cursor.fetchone()
            kazna = int(kazna[0])
            type_clan = cursor.execute(
                f"SELECT type_clan FROM clans WHERE clan_id=?", (clan_id,))
            type_clan = cursor.fetchone()
            type_clan = int(type_clan[0])
            power = cursor.execute(
                f"SELECT power FROM clans WHERE clan_id=?", (clan_id,))
            power = cursor.fetchone()
            power = int(power[0])
            win = cursor.execute(
                f"SELECT win FROM clans WHERE clan_id=?", (clan_id,))
            win = cursor.fetchone()
            win = int(win[0])
            lose = cursor.execute(
                f"SELECT lose FROM clans WHERE clan_id=?", (clan_id,))
            lose = cursor.fetchone()
            lose = int(lose[0])
            status = cursor.execute("SELECT status FROM clan WHERE user_id=? and clan_id=?",
                                    (user_id, clan_id,))
            status = cursor.fetchone()
            status = status[0]
            if status == "SOZD":
                rang = '👑 Владелец клана'
            if status == "member":
                rang = '👤 Участник '
            if status == "soryk":
                rang = '👮 Соруководитель '
            if type_clan == 1:
                type = ' 🔓 Открытый'
            if type_clan == 0:
                type = '🔒 Закрытый'
            power2 = '{:,}'.format(power).replace(',', '.')
            win2 = '{:,}'.format(win).replace(',', '.')
            lose2 = '{:,}'.format(lose).replace(',', '.')
            summ3 = '{:,}'.format(kazna).replace(',', '.')
            sozd = cursor.execute(
                f"SELECT user_name FROM clan WHERE status='SOZD' and clan_id=?", (clan_id,))
            sozd = cursor.fetchone()
            sozd = sozd[0]
            await bot.send_message(message.chat.id, f"""
✅ Название клана: {name}
🤴 Создатель клана: {sozd}
🔶 Ранг в клане: {rang}
🆔 Айди клана: {clan_id}
⚔️ Тип клана: {type}
👥 Участников: {member}
💸 Казна клана: {summ3}$

💪 Мощь: {power2}
🏆 Побед: {win2}
💀 Поражений: {lose2}

‼️ Для просмотра всех участников введите: Клан участники
""",
                                   parse_mode='html')
        else:
            await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы не состоите в клане',
                                parse_mode='html')
    if message.text.lower() in ["клан участники", "клан игроки"]:
        data_с = await get_clan(message.from_user.id)
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",
                                   (message.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        user_id = message.from_user.id
        if data_с != None:
            clan_id = cursor.execute(
                f"SELECT clan_id FROM clan WHERE user_id=?", (message.from_user.id,))
            clan_id = cursor.fetchone()
            clan_id = clan_id[0]
            user_names = cursor.execute(
                "SELECT * FROM clan WHERE clan_id=?", (clan_id,))
            user_names = cursor.fetchall()
            list = []
            list2 = []
            list3 = []
            for user in user_names:
                if user[2] == "SOZD":
                    list2.append(
                        f"[👑] <i><a href='tg://user?id={user[0]}'>{user[1]}</a></i>   | 🔍ID: <code>{user[0]}</code> ")
                elif user[2] == "soryk":
                    list3.append(
                        f"[👮] <i><a href='tg://user?id={user[0]}'>{user[1]}</a></i>   | 🔍ID: <code>{user[0]}</code> ")
                else:
                    list.append(
                        f"[👤] <i><a href='tg://user?id={user[0]}'>{user[1]}</a></i>   | 🔍ID: <code>{user[0]}</code> ")

            top = "\n".join(list)
            topa = "\n".join(list2)
            tops = "\n".join(list3)
            await message.reply(f'<a href="tg://user?id={user_id}">{user_name}</a> 👥 Участники :\n'+topa+"\n➖➖➖➖➖➖➖➖➖➖\n"+tops+"➖➖➖➖➖➖➖➖➖➖\n"+top,
                                parse_mode='html')
        else:
            await message.reply(f'‼️ <a href="tg://user?id={user_id}">{user_name}</a> вы не состоите в клане',
                                parse_mode='html')


###########################################ТОП###########################################
    if message.text.lower().startswith("топ"):
       user_id = message.from_user.id
       chat_id = message.chat.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?", (message.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       text = f"<a href='tg://user?id={user_id}'>{user_name}</a>, <b>выберите какой топ вас интересует 🔝</b>"
       await bot.send_message(message.chat.id, text, reply_markup=fulltop, parse_mode='html')

######################################################Привилегии \ Донат меню##############################################
    if message.text.lower().startswith("донат"):
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = user_name[0]
       user_id = message.from_user.id 

       donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?", (message.from_user.id,)).fetchone()
       donate_coins = int(donate_coins[0])
       donate_coins2 = '{:,}'.format(donate_coins)
       
       donate_yslov = InlineKeyboardMarkup(row_width=2)
       yslov = InlineKeyboardButton(text='✅ Соглашаюсь', callback_data='donat')
       donate_yslov.add(yslov)

       await bot.send_message(message.chat.id, f"""
<a href='tg://user?id={user_id}'>{user_name}</a> › 
❗ Пользовательское соглашение

⚠ При покупке или при нажатии кнопки с низу вы соглашаетесь со всеми правилами перечисленными ниже

1⃣ Вы должны следовать всем правилам игрового бота, иначе мы будем вынуждены обнулить ваш донат баланс.
2⃣ При покупке доната вернуть его невозможно, если вы приобрели то он навсегда.
3⃣ Если вы передали свои права другому игроку и он их вам не возвращает. То мы не можем вам вернуть ваши права, вы сами отвечаете за них.
       """, reply_markup=donate_yslov, parse_mode='html')


########################################### СЕМЬЯ СЕМЬИ ####################################
    

    if message.text.lower() == 'пригласить в семью':
      if not message.reply_to_message:
         await message.reply("❗️ Эта команда должна быть <b>ответом на сообщение</b>", parse_mode='html')
         return

      user_id = message.from_user.id
      reply_user_id = message.reply_to_message.from_user.id

      if reply_user_id == user_id:
         return await message.reply(f'❗️ Вы не можете пригласить <b>самого себя</b> в семью.', parse_mode='html')
      else:
         pass
      user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
      user_name = str(user_name[0])

      reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
      reply_user_name = str(reply_user_name[0])

      all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
      all_family2 = []
      proverka_family = 0

      for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])

      user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

      if user_id_family != None:
         rank_family = cursor.execute(f'SELECT rank from user_family where user_id = {user_id}').fetchone()
         rank_family = int(rank_family[0])  

         name_family = cursor.execute(f'SELECT family from user_family where user_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if user_id in all_family2:
         rank_family = 3
         
         name_family = cursor.execute(f'SELECT name from family where owner_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if proverka_family == 2:
         return await message.reply(f'❗️ Вы <b>не состоите</b> в семье  | Для просмотра команд перейдите в <code>Помощь</code>»Организации', parse_mode='html')
      else:
         pass
      
      if rank_family < 2:
         return await message.reply(f'❗️ Приглашать игроков в семью можно от <b>2 ранга</b>', parse_Mode='html')
      else:
         pass

      user1 = message.reply_to_message.from_user.id
      user2 = reply_user_name
      keyboard = types.InlineKeyboardMarkup()
      keyboard.add(types.InlineKeyboardButton(text="✅ Принять приглашение", callback_data=f"accept_{user1}:{user2}:{name_family}"))

      text = f'''
👶 <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>, вас приглашают в семью «<b>{name_family}</b>»
      '''

      await message.answer(text, reply_markup=keyboard, parse_mode='html')

    if message.text.startswith('cоздать семью') or message.text.startswith('Создать семью'):
       user_id = message.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
       all_family2 = []
       
       for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])
      
       if user_id in all_family2:
         return await message.reply(f'❗️У вас есть <b>своя семья.</b> Зачем вам ещё одна? | <code>Распустить семью</code> - удаление семьи ', parse_mode='html')
       else:
         pass

       user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

       if user_id_family != None:
         return await message.reply('❗️ Вы уже <b>состоите в семье</b> | напишите «<code>выйти с семьи</code>» - для выхода с вашей семьи',parse_mode='html')
       else:
         pass

       donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(message.from_user.id,)).fetchone()
       donate_coins = int(donate_coins[0])

       if donate_coins < cfg.cash_family:
         return await message.reply(f'❗️ <b>Недостаточно пончиков</b> | Стоимость: <b>{cfg.cash_family} пончиков</b> 🍩')
       else:
         pass
       
       name_family = message.text.split()[2:]
       name_family2 = ' '.join(name_family)
       full_name_family = (name_family2).replace(' ','').replace('🇷🇺', '').replace('Россия', 'россия').replace('россия', '')

       if len(full_name_family) < 4:
         return await message.reply('❗️ Название семьи должна быть больше <b>4 символов</b>', parse_Mode='html')
       elif len(full_name_family) > 35:
         return await message.reply(f'❗️ Название семьи должна быть меньше <b>35 символов</b>', parse_mode='html')
       else:
         pass

       all_family_name = cursor.execute('SELECT name from family').fetchall()
       all_family_name2 = []

       for all_family_name3 in all_family_name:
         all_family_name2.append(all_family_name3[0])
      
       if full_name_family in all_family_name2:
         return await message.reply(f'❗️ Семья с названием «<b>{full_name_family}</b>» уже существует', parse_mode='html')
       else:
         pass
       
       family_id = cursor.execute('SELECT id from family_id').fetchone()
       family_id = int(family_id[0])
       new_family_id = family_id + 1

       text = f'''
✅ Вы успешно создали семью «<b>{full_name_family}</b>»
       '''

       text2 = f'''
❕ Для просмотра своей семьи напишите <code>моя семья</code>
       '''
       time_family = time.time()
       opis = ''
       cursor.execute(f'UPDATE family_id SET id = {new_family_id}')
       cursor.execute("INSERT INTO family VALUES(?, ?, ?, ?, ?, ?, ?);",(full_name_family, user_id, user_name, new_family_id, 0, opis, time_family))
       connect.commit()
       await message.answer(text, parse_mode='html')
       await message.answer(text2, parse_mode='html')





    if message.text.lower() in ['моя семья', "семья"]:
      user_id = message.from_user.id
      user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
      user_name = str(user_name[0])

      all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
      all_family2 = []
      proverka_family = 0
      for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])

      user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

      if user_id_family != None:
         name_family = cursor.execute(f'SELECT family from user_family where user_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if user_id in all_family2:
         name_family = cursor.execute(f'SELECT name from family where owner_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if proverka_family == 2:
         return await message.reply(f'❗️ Вы <b>не состоите</b> в семье  | Для просмотра команд перейдите в <code>Помощь</code>»Организации', parse_mode='html')
      else:
         pass

      owner_name = cursor.execute(f'SELECT owner_name from family where name = "{name_family}"').fetchone()
      owner_name = owner_name[0]

      rank3 = cursor.execute(f'SELECT user_name from user_family where rank = {3} and family = "{name_family}"').fetchall()
      all_rank3 = []

      for user_rank3 in rank3:
         all_rank3.append(user_rank3[0])

      full_all_rank3 = ' '.join(all_rank3)

      if full_all_rank3 == '':
         full_all_rank3 = 'Отсутствуют 😕'
      else:
         pass

      rank2 = cursor.execute(f'SELECT user_name from user_family where rank = {2} and family = "{name_family}"').fetchall()
      all_rank2 = []

      for user_rank2 in rank2:
         all_rank2.append(user_rank2[0])

      full_all_rank2 = ' '.join(all_rank2)

      if full_all_rank2 == '':
         full_all_rank2 = 'Отсутствуют 😕'
      else:
         pass
      
      id_family = cursor.execute(f'SELECT id from family where name = "{name_family}"').fetchone()
      id_family = int(id_family[0])

      sqlite_select_query2 = f"SELECT * from user_family where family = '{name_family}'"
      cursor.execute(sqlite_select_query2)
      all_user_family = cursor.fetchall()

      balance_family = cursor.execute(f'SELECT balance from family where name = "{name_family}"').fetchone()
      balance_family = int(balance_family[0])

      opis_family = cursor.execute(f'SELECT opis from family where name = "{name_family}"').fetchone()
      opis_family = opis_family[0]
      
      if opis_family == '':
         opis_family = 'Пустое'
      else:
         pass

      text = f'''
Информация за семью «<b>{name_family}</b>» 👨‍👩‍👧‍👦
➖➖➖➖➖➖➖➖
🤵‍♂️ Основатель семьи: {owner_name}
👨‍💻 Заместитель (3 ранг): {full_all_rank3} 
🧑‍💼 Помощники (2 ранг): {full_all_rank2} 
➖➖➖➖➖➖➖➖
🔎 ID: <code>{id_family}</code>
👥 Игроков в семье: <b>{len(all_user_family)}</b>
💰 Мешок семьи: <code>{balance_family} с. монет</code>
💭 Описания семьи: <i>{opis_family}</i>
      '''
      await message.reply(text, parse_mode='html')






    if message.text.lower() == 'выйти с семьи':
      user_id = message.from_user.id
      user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
      user_name = str(user_name[0])

      all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
      all_family2 = []
      proverka_family = 0

      for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])

      user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

      if user_id_family != None:
         rank_family = cursor.execute(f'SELECT rank from user_family where user_id = {user_id}').fetchone()
         rank_family = int(rank_family[0])  

         status_owner_family = 'off'

         name_family = cursor.execute(f'SELECT family from user_family where user_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if user_id in all_family2:
         rank_family = 3

         status_owner_family = 'on'
         
         name_family = cursor.execute(f'SELECT name from family where owner_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if proverka_family == 2:
         return await message.reply(f'❗️ Вы <b>не состоите</b> в семье  | Для просмотра команд перейдите в <code>Помощь</code>»Организации', parse_mode='html')
      else:
         pass

      
      if status_owner_family == 'on':
         return await message.reply(f'❗️ Вы <b>владелец семьи</b>, вы не можете покинуть свою семью | Пропишите <code>Распустить семью</code> для её удаление', parse_mode='html')
      else:
         pass

      cursor.execute(f'DELETE from user_family where family = "{name_family}"')

      text = f'''
😧 Вы покинули семью «<b>{name_family}</b>» 
      '''

      await message.reply(text, parse_mode='html')

    if message.text.lower() == 'распустить семью':
      user_id = message.from_user.id
      user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
      user_name = str(user_name[0])

      all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
      all_family2 = []
      proverka_family = 0

      for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])

      user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

      if user_id_family != None:
         rank_family = cursor.execute(f'SELECT rank from user_family where user_id = {user_id}').fetchone()
         rank_family = int(rank_family[0])  

         status_owner_family = 'off'

         name_family = cursor.execute(f'SELECT family from user_family where user_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if user_id in all_family2:
         rank_family = 3

         status_owner_family = 'on'
         
         name_family = cursor.execute(f'SELECT name from family where owner_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if proverka_family == 2:
         return await message.reply(f'❗️ Вы <b>не состоите</b> в семье  | Для просмотра команд перейдите в <code>Помощь</code>»Организации', parse_mode='html')
      else:
         pass

      if status_owner_family == 'off':
         return await message.reply(f'❗️ Распустить семью может только <b>её владелец</b>', parse_mode='html')
      else:
         pass

      cursor.execute(f'DELETE from family where name = "{name_family}"')
      cursor.execute(f'DELETE from user_family where family = "{name_family}"')

      text = f'''
🥲 Вы успешно распустили семью «<b>{name_family}</b>»
      '''

      await message.reply(text, parse_mode='html')
    if message.text.startswith('+описание семьи'):
      user_id = message.from_user.id
      user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
      user_name = str(user_name[0])

      all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
      all_family2 = []
      proverka_family = 0

      for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])

      user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

      if user_id_family != None:
         rank_family = cursor.execute(f'SELECT rank from user_family where user_id = {user_id}').fetchone()
         rank_family = int(rank_family[0])  

         name_family5 = cursor.execute(f'SELECT family from user_family where user_id = {user_id}').fetchone()
         name_family5 = name_family5[0]     
      else:
         proverka_family += 1

      if user_id in all_family2:
         rank_family = 3
         
         name_family5 = cursor.execute(f'SELECT name from family where owner_id = {user_id}').fetchone()
         name_family5 = name_family5[0]     
      else:
         proverka_family += 1

      if proverka_family == 2:
         return await message.reply(f'❗️ Вы <b>не состоите</b> в семье  | Для просмотра команд перейдите в <code>Помощь</code>»Организации', parse_mode='html')
      else:
         pass

      if rank_family < 3:
         return await message.reply(f'❗️ Менять описание семьи можно только с <b>3 ранга</b>', parse_mode='html')
      else:
         pass

      new_opis = message.text[16:]
      
      if len(new_opis) > 150:
         return await message.reply('❗️ Описание должно быть не больше <b>150 символов</b>', parse_mode='html')
      else:
         pass
      
      cursor.execute(f'UPDATE family SET opis = "{new_opis}" where name = "{name_family5}"')

      text = f'''
✅ Вы <b>успешно</b> поменяли описание семьи
      '''

      await message.reply(text, parse_mode='html')





    if message.text.lower() == 'выгнать из семьи':
      if not message.reply_to_message:
         await message.reply("❗️ Эта команда должна быть <b>ответом на сообщение</b>", parse_mode='html')
         return

      user_id = message.from_user.id
      reply_user_id = message.reply_to_message.from_user.id

      if user_id == reply_user_id:
         return await message.reply('❗️ Вы не можете выгнать сами себя | Воспользуйтесь командой <code>Выйти с семьи</code>', parse_mode='html')
      else:
         pass

      user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
      user_name = str(user_name[0])

      reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
      reply_user_name = str(reply_user_name[0])

      all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
      all_family2 = []
      proverka_family = 0

      for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])

      user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

      if user_id_family != None:
         rank_family = cursor.execute(f'SELECT rank from user_family where user_id = {user_id}').fetchone()
         rank_family = int(rank_family[0])  

         status_owner_family = 'off'

         name_family = cursor.execute(f'SELECT family from user_family where user_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if user_id in all_family2:
         rank_family = 3

         status_owner_family = 'on'

         name_family = cursor.execute(f'SELECT name from family where owner_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if proverka_family == 2:
         return await message.reply(f'❗️ Вы <b>не состоите</b> в семье  | Для просмотра команд перейдите в <code>Помощь</code>»Организации', parse_mode='html')
      else:
         pass

      if rank_family < 3:
         return await message.reply(f'❗️ Выганять участников можно от <b>3 ранга</b>', parse_mode='html')
      else:
         pass
      
      reply_proverka_family = 0

      reply_user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {reply_user_id}').fetchone()

      if reply_user_id_family != None:
         reply_rank_family = cursor.execute(f'SELECT rank from user_family where user_id = {reply_user_id}').fetchone()
         reply_rank_family = int(reply_rank_family[0])  

         reply_name_family = cursor.execute(f'SELECT family from user_family where user_id = {reply_user_id}').fetchone()
         reply_name_family = reply_name_family[0]     
      else:
         reply_proverka_family += 1

      if reply_user_id in all_family2:
         reply_rank_family = 3
         
         reply_name_family = cursor.execute(f'SELECT name from family where owner_id = {reply_user_id}').fetchone()
         reply_name_family = reply_name_family[0]     
      else:
         reply_proverka_family += 1

      if reply_proverka_family == 2:
         return await message.reply(f'❗️ Этот игрок не состоит в семьи')
      else:
         pass
      
      if reply_name_family != name_family:
         return await message.reply(f'❗️ Этот игрок состоит не в вашем семьи')
      else:
         pass


      if reply_rank_family == 3:
         if status_owner_family == 'on':
            pass
         else:
            return await message.reply(f'❗️ Вы не можете выгнать человека с <b>3 рангом</b> | <i>Под силу только владельцу семьи</i>', parse_mode='html')
      else:
         pass

      cursor.execute(f'DELETE from user_family where user_id = {reply_user_id}')
      connect.commit()

      text = f'''
👀 Вы выгнали <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a> с семьи «<b>{name_family}</b>»
      '''

      await message.reply(text, parse_mode='html')


    if message.text.lower() == '+ранг семьи':
      if not message.reply_to_message:
         await message.reply("❗️ Эта команда должна быть <b>ответом на сообщение</b>", parse_mode='html')
         return

      user_id = message.from_user.id
      reply_user_id = message.reply_to_message.from_user.id

      if user_id == reply_user_id:
         return await message.reply('❗️ Вы не можете повысить сам себе ранг')
      else:
         pass

      user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
      user_name = str(user_name[0])

      reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
      reply_user_name = str(reply_user_name[0])

      all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
      all_family2 = []
      proverka_family = 0

      for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])

      user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

      if user_id_family != None:
         rank_family = cursor.execute(f'SELECT rank from user_family where user_id = {user_id}').fetchone()
         rank_family = int(rank_family[0])  

         status_owner_family = 'off'

         name_family = cursor.execute(f'SELECT family from user_family where user_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if user_id in all_family2:
         rank_family = 3

         status_owner_family = 'on'

         name_family = cursor.execute(f'SELECT name from family where owner_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if proverka_family == 2:
         return await message.reply(f'❗️ Вы <b>не состоите</b> в семье  | Для просмотра команд перейдите в <code>Помощь</code>»Организации', parse_mode='html')
      else:
         pass

      if rank_family < 3:
         return await message.reply(f'❗️ Повышать ранг в семье можно от <b>3 ранга</b>', parse_mode='html')
      else:
         pass
      
      reply_proverka_family = 0

      reply_user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {reply_user_id}').fetchone()

      if reply_user_id_family != None:
         reply_rank_family = cursor.execute(f'SELECT rank from user_family where user_id = {reply_user_id}').fetchone()
         reply_rank_family = int(reply_rank_family[0])  

         reply_name_family = cursor.execute(f'SELECT family from user_family where user_id = {reply_user_id}').fetchone()
         reply_name_family = reply_name_family[0]     
      else:
         reply_proverka_family += 1

      if reply_user_id in all_family2:
         reply_rank_family = 3
         
         reply_name_family = cursor.execute(f'SELECT name from family where owner_id = {reply_user_id}').fetchone()
         reply_name_family = reply_name_family[0]     
      else:
         reply_proverka_family += 1

      if reply_proverka_family == 2:
         return await message.reply(f'❗️ Этот игрок не состоит в семьи')
      else:
         pass
      
      if reply_name_family != name_family:
         return await message.reply(f'❗️ Этот игрок состоит не в вашем семьи')
      else:
         pass

      if reply_rank_family == 3:
         return await message.reply(f'❗️ У данного игрока максимальный ранг', parse_mode='html')
      else:
         pass
      

      cursor.execute(f'UPDATE user_family SET rank = {reply_rank_family + 1} WHERE user_id = {reply_user_id}')
      connect.commit()

      text = f'''
🔼 Вы повысили на 1 ранг игрока <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>
      '''
      await message.reply(text, parse_mode='html')







    if message.text.lower() == '-ранг семьи':
      if not message.reply_to_message:
         await message.reply("❗️ Эта команда должна быть <b>ответом на сообщение</b>", parse_mode='html')
         return

      user_id = message.from_user.id
      reply_user_id = message.reply_to_message.from_user.id

      if user_id == reply_user_id:
         return await message.reply('❗️ Вы не можете понизить сам себе ранг')
      else:
         pass

      user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
      user_name = str(user_name[0])

      reply_user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.reply_to_message.from_user.id,)).fetchone()
      reply_user_name = str(reply_user_name[0])

      all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
      all_family2 = []
      proverka_family = 0

      for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])

      user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

      if user_id_family != None:
         rank_family = cursor.execute(f'SELECT rank from user_family where user_id = {user_id}').fetchone()
         rank_family = int(rank_family[0])  

         status_owner_family = 'off'

         name_family = cursor.execute(f'SELECT family from user_family where user_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if user_id in all_family2:
         rank_family = 3

         status_owner_family = 'on'

         name_family = cursor.execute(f'SELECT name from family where owner_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if proverka_family == 2:
         return await message.reply(f'❗️ Вы <b>не состоите</b> в семье  | Для просмотра команд перейдите в <code>Помощь</code>»Организации', parse_mode='html')
      else:
         pass

      if rank_family < 3:
         return await message.reply(f'❗️ Понижать ранг в семье можно от <b>3 ранга</b>', parse_mode='html')
      else:
         pass
      
      reply_proverka_family = 0

      reply_user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {reply_user_id}').fetchone()

      if reply_user_id_family != None:
         reply_rank_family = cursor.execute(f'SELECT rank from user_family where user_id = {reply_user_id}').fetchone()
         reply_rank_family = int(reply_rank_family[0])  

         reply_name_family = cursor.execute(f'SELECT family from user_family where user_id = {reply_user_id}').fetchone()
         reply_name_family = reply_name_family[0]     
      else:
         reply_proverka_family += 1

      if reply_user_id in all_family2:
         reply_rank_family = 3
         
         reply_name_family = cursor.execute(f'SELECT name from family where owner_id = {reply_user_id}').fetchone()
         reply_name_family = reply_name_family[0]     
      else:
         reply_proverka_family += 1

      if reply_proverka_family == 2:
         return await message.reply(f'❗️ Этот игрок не состоит в семьи')
      else:
         pass
      
      if reply_name_family != name_family:
         return await message.reply(f'❗️ Этот игрок состоит не в вашем семьи')
      else:
         pass

      if reply_rank_family == 3:
         if status_owner_family == 'on':
            pass
         else:
            return await message.reply(f'❗️ Вы не можете понизить человека с <b>3 рангом</b> | <i>Под силу только владельцу семьи</i>', parse_mode='html')
      else:
         pass
      
      if reply_rank_family == 1:
         return await message.reply(f'❗️ У данного игрока и так минимальный ранг.')
      else:
         pass

      cursor.execute(f'UPDATE user_family SET rank = {reply_rank_family - 1} WHERE user_id = {reply_user_id}')
      connect.commit()

      text = f'''
🔽 Вы понизили на 1 ранг игрока <a href='tg://user?id={reply_user_id}'>{reply_user_name}</a>
      '''
      await message.reply(text, parse_mode='html')








    if message.text.startswith('Купить монеты') or message.text.startswith('купить монеты'):
      user_id = message.from_user.id
      user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
      user_name = str(user_name[0])

      all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
      all_family2 = []
      proverka_family = 0

      for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])

      user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

      if user_id_family != None:
         rank_family = cursor.execute(f'SELECT rank from user_family where user_id = {user_id}').fetchone()
         rank_family = int(rank_family[0])  

         name_family = cursor.execute(f'SELECT family from user_family where user_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if user_id in all_family2:
         rank_family = 3
         
         name_family = cursor.execute(f'SELECT name from family where owner_id = {user_id}').fetchone()
         name_family = name_family[0]     
      else:
         proverka_family += 1

      if proverka_family == 2:
         return await message.reply(f'❗️ Вы <b>не состоите</b> в семье  | Для просмотра команд перейдите в <code>Помощь</code>»Организации', parse_mode='html')
      else:
         pass

      gold = cursor.execute("SELECT gold from user_case where user_id = ?",(message.from_user.id,)).fetchone()
      gold = int(gold[0])

      su = msg.text.split()[2]
      su2 = (su).replace(' ', '').replace('k', '000').replace('е','e').replace('к', '000').replace(',', '').replace('.', '').replace("$", "").replace('м', '000000').replace('m', '000000')
      su3 = float(su2)
      summ = int(su3)

      summ2 = '{:,}'.format(summ).replace(',', '.')
      
      if summ < 10:
         return await message.reply(f'❗️ Можно покупать только от <code>10</code> <b>семейных монет</b>', parse_mode='html')
      else:
         pass

      if summ > gold:
         return await message.reply(f'❗️ У вас недостаточно <b>золота</b> | <i>1 с. монета = 1 репутация</i>', parse_mode='html')
      else:
         pass

      if summ <= 0:
         return await message.reply(f'❗️ Сумма не должна быть отрицательным число <b>[0 и меньше]</b>', parse_mode='html')
      else:
         pass
      
      balance_family = cursor.execute(f'SELECT balance from family where name = "{name_family}"').fetchone()
      balance_family = balance_family[0]

      cursor.execute(f'UPDATE family SET balance = {balance_family + summ} WHERE name = "{name_family}"')
      cursor.execute(f'UPDATE reput SET gold = {gold - summ} WHERE user_id = "{user_id}"')
      connect.commit()

      text = f'''
💰 Вы положили в семейный мешок <code>{summ2}</code> семейный монет
      '''

      await message.reply(text, parse_mode='html')









    if message.text.startswith('+название семьи'):
      user_id = message.from_user.id
      user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
      user_name = str(user_name[0])

      all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
      all_family2 = []
      proverka_family = 0

      for all_owner_id in all_family:
         all_family2.append(all_owner_id[0])

      user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

      if user_id_family != None:
         rank_family = cursor.execute(f'SELECT rank from user_family where user_id = {user_id}').fetchone()
         rank_family = int(rank_family[0])  

         name_family5 = cursor.execute(f'SELECT family from user_family where user_id = {user_id}').fetchone()
         name_family5 = name_family5[0]     
      else:
         proverka_family += 1

      if user_id in all_family2:
         rank_family = 3
         
         name_family5 = cursor.execute(f'SELECT name from family where owner_id = {user_id}').fetchone()
         name_family5 = name_family5[0]     
      else:
         proverka_family += 1

      if proverka_family == 2:
         return await message.reply(f'❗️ Вы <b>не состоите</b> в семье  | Для просмотра команд перейдите в <code>Помощь»Организации»семьи</code>', parse_mode='html')
      else:
         pass

      if rank_family < 3:
         return await message.reply(f'❗️ Менять название семьи можно только с <b>3 ранга</b>', parse_mode='html')
      else:
         pass

      user_status = cursor.execute("SELECT user_status from users where user_id = ?",(message.from_user.id,)).fetchone()
      user_status = user_status[0]

      if user_status in ['Helper_Admin', 'Owner']:
         period = 1
      else:
         period = 604800 #7d

      get = cursor.execute(f'SELECT time_name FROM family WHERE name = "{name_family5}"').fetchone()
      last_stavka = f"{int(get[0])}"
      stavkatime = time.time() - float(last_stavka)

      if stavkatime < period:
         times2 = time.localtime(float(get[0]))
         print(times2)

         if times2.tm_mday <= 9:
            tm_mday2 = 0
         else:
            tm_mday2 = ''
         
         if times2.tm_mon <= 9:
            tm_mon2 = 0
         else:
            tm_mon2 = ''

         if times2.tm_hour <= 9:
            tm_hour2 = 0
         else:
            tm_hour2 = ''

         if times2.tm_min <= 9:
            tm_min2 = 0
         else:
            tm_min2 = ''

         full_times2 = f'{tm_mday2}{times2.tm_mday}.{tm_mon2}{times2.tm_mon}.{times2.tm_year} в {tm_hour2}{times2.tm_hour}:{tm_min2}{times2.tm_min}'

         return await message.reply(f'❗️ Менять название семьи, можно раз в <b>7 дней</b> | Последнее изменение название было <code>{full_times2}</code>', parse_mode='html')
      else:
         pass

      name_family = message.text.split()[2:]
      name_family2 = ' '.join(name_family)
      full_name_family = (name_family2).replace(' ','').replace('🇷🇺', '').replace('Россия', 'россия').replace('россия', '')

      if len(full_name_family) < 4:
         return await message.reply('❗️ Название семьи должна быть больше <b>4 символов</b>', parse_Mode='html')
      elif len(full_name_family) > 35:
         return await message.reply(f'❗️ Название семьи должна быть меньше <b>35 символов</b>', parse_mode='html')
      else:
         pass

      all_family_name = cursor.execute('SELECT name from family').fetchall()
      all_family_name2 = []

      for all_family_name3 in all_family_name:
         all_family_name2.append(all_family_name3[0])
   
      if full_name_family in all_family_name2:
         return await message.reply(f'❗️ Семья с названием «<b>{full_name_family}</b>» уже существует', parse_mode='html')
      else:
         pass

      cursor.execute(f'UPDATE family SET name = "{full_name_family}" where name = "{name_family5}"')

      sqlite_select_query27 = f"SELECT * from user_family where family = '{name_family5}'"
      cursor.execute(sqlite_select_query27)
      full_user_id_family_update = cursor.fetchall()

      for update_name_family_user_id in full_user_id_family_update:
         print(update_name_family_user_id[1])
         cursor.execute(f'UPDATE user_family SET family = "{full_name_family}" where user_id = "{update_name_family_user_id[1]}"')
      connect.commit()

      text = f'''
✅ Вы успешно изменили название семьи с <b>{name_family5}</b> на <b>{full_name_family}</b>
      '''

      await message.reply(text, parse_mode='html')



#############################################АВАТАРКИ############################################
    if message.text.lower().startswith("обоиавагг"):
      user_id = message.from_user.id
      user_name = cursor.execute("SELECT user_name from users where user_id = ?",(message.from_user.id,)).fetchone()
      user_name = str(user_name[0])
      
      photo_id = cursor.execute("SELECT photo from photo_id where user_id = ?",(message.from_user.id,)).fetchone()
      photo_id = int(photo_id[0])
      
      if photo:
      	await bot.send_message(message.chat.id, f"""🌌 У вас нету аватарки""", reply_markup=ustanovka, parse_mode='html')


#############################################КНОПКИ############################################
@dp.callback_query_handler(text='vhod')
async def vhod_callback(callback: types.CallbackQuery):
        user_id = callback.from_user.id
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
        user_name = str(user_name[0])
        admmenu = InlineKeyboardMarkup(row_width=2)
        sadmin = InlineKeyboardButton(text='📊 Статистика', callback_data='sadmin')
        coma = InlineKeyboardButton(text='📙 Команды', callback_data='coma')
        admmenu.add(sadmin, coma)
        await callback.message.edit_text('''
<b>🔑 Успешный вход в админ-меню !

🖥 Выберите категорию</b>''',reply_markup=admmenu, parse_mode='html')

@dp.callback_query_handler(text='coma')
async def coma_callback(callback: types.CallbackQuery):
        admback = InlineKeyboardMarkup(row_width=1)
        vhod= InlineKeyboardButton(text='🔙 Назад', callback_data='vhod')
        admback.add(vhod)
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,))
        user_name = cursor.fetchone()
        user_name = user_name[0]
        user_id = callback.from_user.id
        user_status = cursor.execute("SELECT user_status from users where user_id = ?",(callback.from_user.id,))
        user_status = cursor.fetchone()
        if user_status == 'Admin':
            comtma = """Команды администрации для статуса - Admin.
1⃣ /mute [срок] [причина] - выдать мут игроку
➖Пример: /mute 1 м 1.1
2⃣ /unmute - размутить игрока
3⃣ /warn [причина] - выдать варн игроку
➖Пример: /warn 1.1
4⃣ /unwarn - забрать варн у игрока
5⃣ /ban [причина] - заблокировать игрока в чате
➖Пример: /ban 1.1
6⃣ /unban - разблокировать игрока в чате
7⃣ /info - просмотр информации о игроке
8⃣ Выдать [сумма] - выдача денег игроку
9⃣ Забрать [сумма] - отбор денег у игрока"""
        if user_status == "Helper_Admin":
            comyma = """Команды администрации для статуса - Helper Admin.
1⃣ /mute [срок] [причина] - выдать мут игроку
➖Пример: /mute 1 м 1.1
2⃣ /unmute - размутить игрока
3⃣ /warn [причина] - выдать варн игроку
➖Пример: /warn 1.1
4⃣ /unwarn - забрать варн у игрока
5⃣ /ban [причина] - заблокировать игрока в чате
➖Пример: /ban 1.1
6⃣ /unban - разблокировать игрока в чате
 денег игроку
7⃣ /info - просмотр информации о игроке
8⃣ Выдать [сумма] -выдача денег игроку
9⃣ Забрать [сумма] - отбор денег у игрока
1⃣0⃣ Обнулить д - обнуление денег игроку
1⃣1⃣ Обнулить р - обнуление рейтинга игроку
1⃣2⃣ Изменить id - изменить игровой айди игроку
➖Пример: Изменить id 123"""
        if user_status == "Owner":
            comoma = """Команды администрации для статуса - Owner.
1⃣ /mute [срок] [причина] - выдать мут игроку
➖Пример: /mute 1 м 1.1
2⃣ /unmute - размутить игрока
3⃣ /warn [причина] - выдать варн игроку
➖Пример: /warn 1.1
4⃣ /unwarn - забрать варн у игрока
5⃣ /ban [причина] - заблокировать игрока в чате
➖Пример: /ban 1.1
6⃣ /unban - разблокировать игрока в чате
 денег игроку
7⃣ /info - просмотр информации о игроке
8⃣ Выдать [сумма] -выдача денег игроку
9⃣ Забрать [сумма] - отбор денег у игрока
1⃣0⃣ Обнулить д - обнуление денег игроку
1⃣1⃣ Обнулить р - обнуление рейтинга игроку
1⃣2⃣ Изменить id - изменить игровой айди игроку
➖Пример: Изменить id 123
1⃣3⃣ Пончик [кол-во] - выдача пончиков игроку"""
        if user_status == "Rab":
        	comma = '''Команды администрации для статуса - Devloper.
1⃣ /mute [срок] [причина] - выдать мут игроку
➖Пример: /mute 1 м 1.1
2⃣ /unmute - размутить игрока
3⃣ /warn [причина] - выдать варн игроку
➖Пример: /warn 1.1
4⃣ /unwarn - забрать варн у игрока
5⃣ /ban [причина] - заблокировать игрока в чате
➖Пример: /ban 1.1
6⃣ /unban - разблокировать игрока в чате
 денег игроку
7⃣ /info - просмотр информации о игроке
8⃣ Выдать [сумма] -выдача денег игроку
9⃣ Забрать [сумма] - отбор денег у игрока
1⃣0⃣ Обнулить д - обнуление денег игроку
1⃣1⃣ Обнулить р - обнуление рейтинга игроку
1⃣2⃣ Изменить id - изменить игровой айди игроку
➖Пример: Изменить id 123
1⃣3⃣ Пончик [кол-во] - выдача пончиков игроку
1⃣4⃣ +[название привилегии/статуса] - выдать привилегию игроку
➖Пример: +вип / +админ
1⃣5⃣ /dreset_id - обнуление баланса по айди
➖Пример: /dreset_id 6600463745
1⃣6⃣ /rreset_id - обнуление рейтинга по айди
➖Пример: rreset_id 6600463745
1⃣7⃣ /sql [код] - изминение столбца базы данных (лучше использовать только KPECTIKу)
➖Пример /sql update users set balance=100 where user_id=6600463745 | /sql update ivent set inv=3 where user_id=6600463745'''
        await callback.message.edit_text(comma, reply_markup=admback, parse_mode='html')


@dp.callback_query_handler(text='rule1')
async def rule2_callback(callback: types.CallbackQuery):
        user_id = callback.from_user.id
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
        user_name = str(user_name[0])
        rback = InlineKeyboardMarkup(row_width=1)
        back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='back2')
        rback.add(back2)
        await callback.message.edit_text('''
📝 <b>Правила общения:

❌ 1.1 Запрещён спам и флуд в любом его виде. 
❌ 1.2 Запрещено отправлять рекламу и ссылки (только по договору с админа) 
❌ 1.3 Запрещено оскорблять участников чата.
❌ 1.4 Запрещено оскорбление религии и ниции.
❌ 1.5 Запрещено оскробление родных.
❌ 1.6 Запрещено обсуждать действия администрации.
❌ 1.7 Запрещено отправлять файлы 18+
❌ 1.8 Запрещена отправка стикеров и гиф от которых крашит телеграм.
❌ 1.9 Запрещено выдавать себя за администратора бота если вы им не являетесь.
❌ 1.10 Запрещено обсуждение политики.
✅ 1.11 <a href="https://t.me/KPECTIK_official">KPECTIK</a> всегда прав!</b>
ℹ️ <i>Отмечать администрацию и просить валюту запрещено</i>''' ,reply_markup=rback, parse_mode='html')

@dp.callback_query_handler(text='rule2')
async def rule2_callback(callback: types.CallbackQuery):
        user_id = callback.from_user.id
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
        user_name = str(user_name[0])
        rback = InlineKeyboardMarkup(row_width=1)
        back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='back2')
        rback.add(back2)
        await callback.message.edit_text('''
📝<b> Правила использования команд:

❌ 2.1 Запрещено копать руду в чате.
❌ 2.2 Запрещено передавать/продавать аккаунт .
❌ 2.3 Запрещено использовать уязвимости бота в целях наживы вашего профиля.
❌ 2.4 Запрещено распространять схемы нелегального зароботка в боте.
❌ 2.5 Если вы дали деньги в долг и вам их не вернули, то админисрация никак вам не поможет.
❌ 2.6 Продавать игровую валюту за настоящие деньги строго запрещено и карается баном навсегда.
❌ 2.7 Отправлять жалобу без причины или для того чтобы что то спросить / сказать / попросить запрещено.</b>
''' ,reply_markup=rback, parse_mode='html')


@dp.callback_query_handler(text='back2')
async def back2_callback(callback: types.CallbackQuery):
    rules = types.InlineKeyboardMarkup(row_width=2)
    rule1 = InlineKeyboardButton(text='Общение', callback_data='rule1')
    rule2 = InlineKeyboardButton(text='Команды', callback_data='rule2')
    rules.add(rule1, rule2)
    await callback.message.edit_text("""
<b>Выбирете категорию правил </b>🤓

✅ 1 - общение, в этой категории правила общения в чате
✅ 2 - команды, правила команд в чате""", reply_markup=rules, parse_mode='html')
@dp.callback_query_handler(text='ustanovka1')
async def photo_register(message, state=FSMContext):

    try:
        file_id = message.photo[-1].file_id
    except:
        return await message.answer('Отправьте фотографию. Эта фотография будет использоваться как лицо вашего баланса')
        
    await register_photo_id(message.from_user.id, file_id)
    await state.finish()

    await message.answer('<b>Вы успешно поставили аву на балансе.</b>', parse_mode='html')


@dp.callback_query_handler(lambda call: call.data.startswith('accept_'))
async def priglashenie_callback(call: types.CallbackQuery):

   user1, user2, name_family = call.data.replace('accept_', '', 1).split(':')
   print(call.from_user.id, user1)
   
   if int(call.from_user.id) == int(user1):
      pass
   else:
      return await call.answer('Приглашение не для тебя ❗️')

   user_id = call.from_user.id
   user_name = cursor.execute("SELECT user_name from users where user_id = ?",(call.from_user.id,)).fetchone()
   user_name = str(user_name[0])

   all_family = cursor.execute(f'SELECT owner_id from family').fetchall()
   all_family2 = []
   
   for all_owner_id in all_family:
      all_family2.append(all_owner_id[0])

   if user_id in all_family2:
      return await call.message.answer(f'❗️У вас есть <b>своя семья.</b> Зачем вам ещё одна? | <code>Распустить семью</code> - удаление семьи ', parse_mode='html')
   else:
      pass

   user_id_family = cursor.execute(f'SELECT user_id from user_family where user_id = {user_id}').fetchone()

   if user_id_family != None:
      return await call.message.answer('❗️ Вы уже <b>состоите в семье</b> | напишите «<code>выйти с семьи</code>» - для выхода с вашей семьи',parse_mode='html')
   else:
      pass

   text = f'''
✅ <a href='tg://user?id={user1}'>{user2}</a>, вы приняли приглашение в семью «<b>{name_family}</b>». Вы теперь состоите в семье
   '''

   text2 = f'''
❗️ В вашу семью «<b>{name_family}</b>» вступил <a href='tg://user?id={user1}'>{user2}</a>
   '''
   owner_id_family = cursor.execute(f"SELECT owner_id from family where name = \"{name_family}\"").fetchone()
   owner_id_family = owner_id_family[0]

   cursor.execute("INSERT INTO user_family VALUES(?, ?, ?, ?);",(user2, user1, name_family, 1))
   await call.message.bot.send_message(owner_id_family, text2, parse_mode='html')
   await call.message.answer(text, parse_mode='html')



#kazino

@dp.callback_query_handler(lambda c: c.data == "gamestavka2")
async def gamest(callback_query: types.CallbackQuery):
    user = await bot.get_chat(str(first_p[0]))
    replyuser = await bot.get_chat(str(second_p[0]))
    usid = user.id
    rid = replyuser.id
    ruser_name = cursor.execute("SELECT user_name from users where user_id = ?",(rid,))
    ruser_name=cursor.fetchone()
    ruser_name = ruser_name[0]
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(usid,))
    user_name=cursor.fetchone()
    user_name = user_name[0]
    if callback_query.from_user.id == replyuser.id:
        balance=cursor.execute("SELECT balance FROM users WHERE user_id=?",(usid,))
        balance=cursor.fetchone()
        balance=int(balance[0])

        balance2 = cursor.execute("SELECT balance FROM users WHERE user_id=?", (rid,))
        balance2 = cursor.fetchone()
        balance2 = int(balance2[0])
        summ_stavka1= int(summ_stavka[0])
        if balance>=summ_stavka1 and balance2>=summ_stavka1:
            if summ_stavka1>0:
                rx=random.randint(0,5)
                rx1 = random.randint(0, 5)
                if rx1>rx:
                    cursor.execute(f"UPDATE users SET balance={balance + summ_stavka1} WHERE user_id={usid}")
                    cursor.execute(f"UPDATE users SET balance={balance2 - summ_stavka1} WHERE user_id={rid}")
                    cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (usid,))
                    cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (rid,))
                    first_p.clear()
                    second_p.clear()
                    summ_stavka.clear()

                    await bot.delete_message(callback_query.message.chat.id, callback_query.message.message_id)
                    await bot.send_message(callback_query.message.chat.id, f"<a href='tg://user?id={usid}'>{user_name}</a>({rx1}), и <a href='tg://user?id={rid}'>{ruser_name}</a>({rx}) - У вас победитель <a href='tg://user?id={usid}'>{user_name}</a>", parse_mode='html')
                elif rx1<rx:
                    first_p.clear()
                    second_p.clear()
                    summ_stavka.clear()
                    cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (usid,))
                    cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (rid,))
                    cursor.execute(f"UPDATE users SET balance={balance - summ_stavka1} WHERE user_id={usid}")
                    cursor.execute(f"UPDATE users SET balance={balance2 + summ_stavka1} WHERE user_id={rid}")

                    await bot.delete_message(callback_query.message.chat.id, callback_query.message.message_id)
                    await bot.send_message(callback_query.message.chat.id, f"<a href='tg://user?id={rid}'>{ruser_name}</a>({rx}), и <a href='tg://user?id={usid}'>{user_name}</a>({rx1}) - У вас победитель <a href='tg://user?id={rid}'>{ruser_name}</a>", parse_mode='html')
                else:
                    first_p.clear()
                    second_p.clear()
                    summ_stavka.clear()
                    cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (usid,))
                    cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (rid,))
                    await bot.delete_message(callback_query.message.chat.id, callback_query.message.message_id)
                    await bot.send_message(callback_query.message.chat.id, f"🚫 Ничья ", parse_mode='html')
    else:
        await bot.answer_callback_query(callback_query.id, show_alert=False, text="‼️ Не твоё, не трогай!")    


@dp.callback_query_handler(lambda c: c.data == "gamestavka1")
async def gamest3(callback_query: types.CallbackQuery):
    user = await bot.get_chat(str(first_p[0]))
    replyuser = await bot.get_chat(str(second_p[0]))
    usid = user.id
    rid = replyuser.id

    if callback_query.from_user.id == replyuser.id or user.id:
        first_p.clear()
        second_p.clear()
        summ_stavka.clear()
        cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (usid,))
        cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (rid,))
        await bot.delete_message(callback_query.message.chat.id, callback_query.message.message_id)
    else:
        await bot.answer_callback_query(callback_query.id, show_alert=False, text="‼️ Не твоё, не трогай!")







@dp.callback_query_handler(text='valut1')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?",(callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    
    user_status = cursor.execute("SELECT user_status from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_status = str(user_status[0])
    
    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='valut')
    help_back.add(help_back2)
    
    if donate_coins >= 50:
       await callback.message.edit_text(f"""✅ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили 100е12 💰
Спасибо за покупку. Я очень рад""", reply_markup=help_back, parse_mode='html')
       cursor.execute(f'UPDATE users SET balance = {balance + 100000000000000} WHERE user_id = {user_id}')
       cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 50} WHERE user_id = {user_id}')
       connect.commit()
       return 
    else:
         await bot.answer_callback_query(callback.id, show_alert=False, text=f"🆘 Ошибка! У вас нехватает пончиков 🍩")
         

@dp.callback_query_handler(text='valut2')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?",(callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    
    user_status = cursor.execute("SELECT user_status from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_status = str(user_status[0])
    
    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='valut')
    help_back.add(help_back2)
    
    if donate_coins >= 90:
       await callback.message.edit_text(f"""✅ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили 100е15 💰
Спасибо за покупку. Я очень рад""", reply_markup=help_back, parse_mode='html')
       cursor.execute(f'UPDATE users SET balance = {balance + 100000000000000000} WHERE user_id = {user_id}')
       cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 90} WHERE user_id = {user_id}')
       connect.commit()
       return 
    else:
         await bot.answer_callback_query(callback.id, show_alert=False, text=f"🆘 Ошибка! У вас нехватает пончиков 🍩")


@dp.callback_query_handler(text='valut3')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?",(callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    
    user_status = cursor.execute("SELECT user_status from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_status = str(user_status[0])
    
    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='valut')
    help_back.add(help_back2)
    
    if donate_coins >= 160:
       await callback.message.edit_text(f"""✅ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили 100е18 💰
Спасибо за покупку. Я очень рад""", reply_markup=help_back, parse_mode='html')
       cursor.execute(f'UPDATE users SET balance = {balance + 100000000000000000000} WHERE user_id = {user_id}')
       cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 160} WHERE user_id = {user_id}')
       connect.commit()
       return 
    else:
         await bot.answer_callback_query(callback.id, show_alert=False, text=f"🆘 Ошибка! У вас нехватает пончиков 🍩")
         

@dp.callback_query_handler(text='valut4')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?",(callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    
    user_status = cursor.execute("SELECT user_status from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_status = str(user_status[0])
    
    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='valut')
    help_back.add(help_back2)
    
    if donate_coins >= 200:
       await callback.message.edit_text(f"""✅ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили 100е21 💰
Спасибо за покупку. Я очень рад""", reply_markup=help_back, parse_mode='html')
       cursor.execute(f'UPDATE users SET balance = {balance + 100000000000000000000000} WHERE user_id = {user_id}')
       cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 200} WHERE user_id = {user_id}')
       connect.commit()
       return 
    else:
         await bot.answer_callback_query(callback.id, show_alert=False, text=f"🆘 Ошибка! У вас нехватает пончиков 🍩")
         
         
@dp.callback_query_handler(text='valut5')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?",(callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    
    user_status = cursor.execute("SELECT user_status from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_status = str(user_status[0])
    
    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='valut')
    help_back.add(help_back2)
    
    if donate_coins >= 260:
       await callback.message.edit_text(f"""✅ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили 100е24 💰
Спасибо за покупку. Я очень рад""", reply_markup=help_back, parse_mode='html')
       cursor.execute(f'UPDATE users SET balance = {balance + 100000000000000000000000000} WHERE user_id = {user_id}')
       cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 260} WHERE user_id = {user_id}')
       connect.commit()
       return 
    else:
         await bot.answer_callback_query(callback.id, show_alert=False, text=f"🆘 Ошибка! У вас нехватает пончиков 🍩")
         
         
@dp.callback_query_handler(text='valut6')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?",(callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    
    user_status = cursor.execute("SELECT user_status from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_status = str(user_status[0])
    
    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='valut')
    help_back.add(help_back2)
    
    if donate_coins >= 300:
       await callback.message.edit_text(f"""✅ | <a href='tg://user?id={user_id}'>{user_name}</a>, вы успешно купили 100е27 💰
Спасибо за покупку. Я очень рад""", reply_markup=help_back, parse_mode='html')
       cursor.execute(f'UPDATE users SET balance = {balance + 100000000000000000000000000000} WHERE user_id = {user_id}')
       cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 300} WHERE user_id = {user_id}')
       connect.commit()
       return 
    else:
         await bot.answer_callback_query(callback.id, show_alert=False, text=f"🆘 Ошибка! У вас нехватает пончиков 🍩")


@dp.callback_query_handler(text='valut')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    donate_coins2 = '{:,}'.format(donate_coins)
    
    valut = InlineKeyboardMarkup(row_width=3)
    valut1 = InlineKeyboardButton(text='💰 100е12', callback_data='valut1')
    valut2 = InlineKeyboardButton(text='💰 100е15', callback_data='valut2')
    valut3 = InlineKeyboardButton(text='💰 100е18', callback_data='valut3')
    valut4 = InlineKeyboardButton(text='💰 100е21', callback_data='valut4')
    valut5 = InlineKeyboardButton(text='💰 100е24', callback_data='valut5')
    valut6 = InlineKeyboardButton(text='💰 100е27', callback_data='valut6')
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='donat')
    valut.add(valut1, valut2, valut3, valut4, valut5, valut6, help_back2)
    
    await callback.message.edit_text(f"""<a href='tg://user?id={user_id}'>{user_name}</a> › вот данные за игровую валюту 💰
➖➖➖➖➖➖➖➖➖➖➖➖
❗️ Появились проблемы с покупкой валюты? обращайтесь к {cfg.owner}    
➖➖➖➖➖➖➖➖➖➖➖➖    
🍩 Пончиков: <code>{donate_coins2}</code>    
➖➖➖➖➖➖➖➖➖➖➖➖
<b>💰 Валюта:
💰 100е12 | 50 🍩
💰 100е15 | 90 🍩
💰 100е18 | 160 🍩
💰 100е21 | 200 🍩
💰 100е24 | 260 🍩
💰 100е27 | 300 🍩</b>
➖➖➖➖➖➖➖➖➖➖➖➖
🛒 Чтобы купить валюту, выберите кнопку ниже
       """, reply_markup=valut, disable_web_page_preview=True, parse_mode='html')


@dp.callback_query_handler(text='cash_vip')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?",(callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    
    rating = cursor.execute("SELECT rating from users where user_id = ?",(callback.from_user.id,)).fetchone()
    rating = int(rating[0])

    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    
    vip_menu = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='vip')
    vip_menu.add(help_back2)
    
    if donate_coins >= 50:
       await callback.message.edit_text( f"<a href='tg://user?id={user_id}'>{user_name}</a>, спасибо за покупку привилегии ❤️ Вип", reply_markup=vip_menu, parse_mode='html' )
       cursor.execute(f'UPDATE users SET user_status = "Vip" where user_id = {user_id}')
       cursor.execute(f'UPDATE users SET rating = {rating + 100} where user_id = {user_id}')
       cursor.execute(f'UPDATE users SET balance = {balance + 1000000000000} WHERE user_id = {user_id}')
       cursor.execute(f"UPDATE users SET limitpered = 50000000000000 WHERE user_id = {user_id}") 
       cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 50} WHERE user_id = {user_id}') 
       connect.commit()
    else:
       await bot.answer_callback_query(callback.id, show_alert=False, text=f"🆘 Ошибка! У вас нехватает пончиков 🍩")

@dp.callback_query_handler(text='vip')
async def craft3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])

    vip_menu = InlineKeyboardMarkup(row_width=1)
    cash_vip = InlineKeyboardButton(text='🛒 Купить', callback_data='cash_vip')
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='privilegii')
    vip_menu.add(cash_vip, help_back2)
    
    await callback.message.edit_text( f"""
<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за привилегию ВИП ❤️

✅ Получите отметку на балансе <b>❤️ Вип</b>
✅ Вы получите после покупки - 1e12$ и 100 👑
✅ Лимит передачи увеличен до 50е12$
✅ Копать в шахте можно раз в 9 секунд
✅ Ежедневный бонус увеличен в Х2 раза
✅ Время получения бонуса уменьшено до 20 часов

🛒 Чтобы купить привилегию , виберите кнопку купить ниже
    """, reply_markup=vip_menu,  parse_mode='html')


@dp.callback_query_handler(text='cash_titan')
async def craft3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?",(callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    
    rating = cursor.execute("SELECT rating from users where user_id = ?",(callback.from_user.id,)).fetchone()
    rating = int(rating[0])

    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    
    vip_menu = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='vip')
    vip_menu.add(help_back2)
    
    if donate_coins >= 150:
       await callback.message.edit_text( f"<a href='tg://user?id={user_id}'>{user_name}</a>, спасибо за покупку привилегии 👾 TITANIUM", reply_markup=vip_menu, parse_mode='html' )
       cursor.execute(f'UPDATE users SET user_status = "Titanium" where user_id = {user_id}')
       cursor.execute(f'UPDATE users SET rating = {rating + 500} where user_id = {user_id}')
       cursor.execute(f'UPDATE users SET balance = {balance + 10000000000000} WHERE user_id = {user_id}')
       cursor.execute(f"UPDATE users SET limitpered = 100000000000000 WHERE user_id = {user_id}") 
       cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 150} WHERE user_id = {user_id}') 
       connect.commit()
    else:
       await bot.answer_callback_query(callback.id, show_alert=False, text=f"🆘 Ошибка! У вас нехватает пончиков 🍩")

@dp.callback_query_handler(text='titan')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])

    vip_menu = InlineKeyboardMarkup(row_width=1)
    cash_vip = InlineKeyboardButton(text='🛒 Купить', callback_data='cash_titan')
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='privilegii')
    vip_menu.add(cash_vip, help_back2)
    
    await callback.message.edit_text( f"""
<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за привилегию ТИТАН 👾

✅ Получите отметку на балансе <b>👾 TITANIUM</b>
✅ Вы получите после покупки - 10е12$ и 500 👑
✅ Лимит передачи увеличен до 100е12$
✅ Копать в шахте можно раз в 8 секунд
✅ Ежедневный бонус увеличен в Х3 раза
✅ Время получения бонуса уменьшено до 18 часов

🛒 Чтобы купить привилегию , виберите кнопку купить ниже
    """, reply_markup=vip_menu,  parse_mode='html')



@dp.callback_query_handler(text='cash_deluxe')
async def craft3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?",(callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    
    rating = cursor.execute("SELECT rating from users where user_id = ?",(callback.from_user.id,)).fetchone()
    rating = int(rating[0])

    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    
    vip_menu = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='vip')
    vip_menu.add(help_back2)
    
    if donate_coins >= 255:
       await callback.message.edit_text( f"<a href='tg://user?id={user_id}'>{user_name}</a>, спасибо за покупку привилегии 🔥 DELUXE", reply_markup=vip_menu, parse_mode='html' )
       cursor.execute(f'UPDATE users SET user_status = "Deluxe" where user_id = {user_id}')
       cursor.execute(f'UPDATE users SET rating = {rating + 1000} where user_id = {user_id}')
       cursor.execute(f'UPDATE users SET balance = {balance + 100000000000000} WHERE user_id = {user_id}')
       cursor.execute(f"UPDATE users SET limitpered = 500000000000000 WHERE user_id = {user_id}") 
       cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 255} WHERE user_id = {user_id}') 
       connect.commit()
    else:
       await bot.answer_callback_query(callback.id, show_alert=False, text=f"🆘 Ошибка! У вас нехватает пончиков 🍩")

@dp.callback_query_handler(text='deluxe')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])

    vip_menu = InlineKeyboardMarkup(row_width=1)
    cash_vip = InlineKeyboardButton(text='🛒 Купить', callback_data='cash_deluxe')
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='privilegii')
    vip_menu.add(cash_vip, help_back2)
    
    await callback.message.edit_text( f"""
<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за привилегию ДЕЛЮКС 🔥 

✅ Получите отметку на балансе <b>🔥 DELUXE</b>
✅ Вы получите после покупки - 500е12$ и 1000 👑
✅ Лимит передачи увеличен до 500е12$
✅ Копать в шахте можно раз в 7 секунд
✅ Ежедневный бонус увеличен в Х4 раза
✅ Время получения бонуса уменьшено до 16 часов

🛒 Чтобы купить привилегию , виберите кнопку купить ниже
    """, reply_markup=vip_menu,  parse_mode='html')


@dp.callback_query_handler(text='cash_chem')
async def craft3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?",(callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    
    rating = cursor.execute("SELECT rating from users where user_id = ?",(callback.from_user.id,)).fetchone()
    rating = int(rating[0])

    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    
    vip_menu = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='vip')
    vip_menu.add(help_back2)
    
    if donate_coins >= 300:
       await callback.message.edit_text( f"<a href='tg://user?id={user_id}'>{user_name}</a>, спасибо за покупку привилегии 🏆 Чемпион", reply_markup=vip_menu, parse_mode='html' )
       cursor.execute(f'UPDATE users SET user_status = "Chem" where user_id = {user_id}')
       cursor.execute(f'UPDATE users SET rating = {rating + 5000} where user_id = {user_id}')
       cursor.execute(f'UPDATE users SET balance = {balance + 1000000000000000} WHERE user_id = {user_id}')
       cursor.execute(f"UPDATE users SET limitpered = 1000000000000000 WHERE user_id = {user_id}") 
       cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 300} WHERE user_id = {user_id}') 
       connect.commit()
    else:
       await bot.answer_callback_query(callback.id, show_alert=False, text=f"🆘 Ошибка! У вас нехватает пончиков 🍩")

@dp.callback_query_handler(text='chem')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])

    vip_menu = InlineKeyboardMarkup(row_width=1)
    cash_vip = InlineKeyboardButton(text='🛒 Купить', callback_data='cash_chem')
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='privilegii')
    vip_menu.add(cash_vip, help_back2)
    
    await callback.message.edit_text( f"""
<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за привилегию ЧЕМПИОН 🏆

✅ Получите отметку на балансе <b>🏆 Чемпион</b>
✅ Вы получите после покупки - 1е15$ и 5000 👑
✅ Лимит передачи увеличен до 1е15$
✅ Копать в шахте можно раз в 6 секунд
✅ В 2 раза увеличина сумма за ограбление банка и в 2 раза уменьшено время ограбления
✅ Ежедневный бонус увеличен в Х5 раз
✅ Время получения бонуса уменьшено до 12 часов

🛒 Чтобы купить привилегию , виберите кнопку купить ниже
    """, reply_markup=vip_menu,  parse_mode='html')

@dp.callback_query_handler(text='cash_korol')
async def craft3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?",(callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    
    rating = cursor.execute("SELECT rating from users where user_id = ?",(callback.from_user.id,)).fetchone()
    rating = int(rating[0])

    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    
    vip_menu = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='vip')
    vip_menu.add(help_back2)
    
    if donate_coins >= 450:
       await callback.message.edit_text( f"<a href='tg://user?id={user_id}'>{user_name}</a>, спасибо за покупку привилегии 👑 Король", reply_markup=vip_menu, parse_mode='html' )
       cursor.execute(f'UPDATE users SET user_status = "Korol" where user_id = {user_id}')
       cursor.execute(f'UPDATE users SET rating = {rating + 10000} where user_id = {user_id}')
       cursor.execute(f'UPDATE users SET balance = {balance + 10000000000000000} WHERE user_id = {user_id}')
       cursor.execute(f"UPDATE users SET limitpered = 5000000000000000 WHERE user_id = {user_id}") 
       cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 450} WHERE user_id = {user_id}') 
       connect.commit()
    else:
       await bot.answer_callback_query(callback.id, show_alert=False, text=f"🆘 Ошибка! У вас нехватает пончиков 🍩")

@dp.callback_query_handler(text='korol')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])

    vip_menu = InlineKeyboardMarkup(row_width=1)
    cash_vip = InlineKeyboardButton(text='🛒 Купить', callback_data='cash_korol')
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='privilegii')
    vip_menu.add(cash_vip, help_back2)
    
    await callback.message.edit_text( f"""
<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за привилегию КОРОЛЬ 👑

✅ Получите отметку на балансе <b>👑 Король</b>
✅ Вы получите после покупки - 10е15$ и 10000 👑
✅ Лимит передачи увеличен до 5е15$
✅ Копать в шахте можно раз в 5 секунд
✅ В 2 раза увеличина сумма за ограбление банка и в 2 раза уменьшено время ограбления
✅ Ежедневный бонус увеличен в Х6 раз
✅ Время получения бонуса уменьшено до 8 часов

🛒 Чтобы купить привилегию , виберите кнопку купить ниже
    """, reply_markup=vip_menu,  parse_mode='html')

@dp.callback_query_handler(text='cash_donater')
async def craft3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?",(callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    
    rating = cursor.execute("SELECT rating from users where user_id = ?",(callback.from_user.id,)).fetchone()
    rating = int(rating[0])

    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    
    vip_menu = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='vip')
    vip_menu.add(help_back2)
    
    if donate_coins >= 600:
       await callback.message.edit_text( f"<a href='tg://user?id={user_id}'>{user_name}</a>, спасибо за покупку привилегию 😈 Донатер", reply_markup=vip_menu, parse_mode='html' )
       cursor.execute(f'UPDATE users SET user_status = "Donater" where user_id = {user_id}')
       cursor.execute(f'UPDATE users SET rating = {rating + 100000} where user_id = {user_id}')
       cursor.execute(f'UPDATE users SET balance = {balance + 1000000000000000000} WHERE user_id = {user_id}')
       cursor.execute(f"UPDATE users SET limitpered = 10000000000000000 WHERE user_id = {user_id}") 
       cursor.execute(f'UPDATE users SET donate_coins = {donate_coins - 600} WHERE user_id = {user_id}') 
       connect.commit()
    else:
       await bot.answer_callback_query(callback.id, show_alert=False, text=f"🆘 Ошибка! У вас нехватает пончиков 🍩")

@dp.callback_query_handler(text='donater')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?",(callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])

    vip_menu = InlineKeyboardMarkup(row_width=1)
    cash_vip = InlineKeyboardButton(text='🛒 Купить', callback_data='cash_donater')
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='privilegii')
    vip_menu.add(cash_vip, help_back2)
    
    await callback.message.edit_text( f"""
<a href='tg://user?id={user_id}'>{user_name}</a>, вот данные за привилегию ДОНАТЕР 😈

✅ Получите отметку на балансе <b>😈 Донатер</b>
✅ Вы получите после покупки - 1е18$ и 100000 👑
✅ Лимит передачи увеличен до 10е15$
✅ Копать в шахте можно раз в 3 секунд
✅ В 3 раза увеличина сумма за ограбление банка и в 4 раза уменьшено время ограбления
✅ Ежедневный бонус увеличен в Х7 раз
✅ Время получения бонуса уменьшено до 6 часов

🛒 Чтобы купить привилегию , виберите кнопку купить ниже
    """, reply_markup=vip_menu,  parse_mode='html')    
    
@dp.callback_query_handler(text='privilegii')
async def craft_resurs3(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    privilegii_inline = InlineKeyboardMarkup(row_width=3)
    vip = InlineKeyboardButton(text='❤️ ВИП ', callback_data='vip')
    titan = InlineKeyboardButton(text='👾 ТИТАН', callback_data='titan')
    deluxe = InlineKeyboardButton(text='🔥 ДЕЛЮКС', callback_data='deluxe')
    chem = InlineKeyboardButton(text='🏆 ЧЕМПИОН', callback_data='chem')
    korol = InlineKeyboardButton(text='👑 КОРОЛЬ', callback_data='korol')
    donater = InlineKeyboardButton(text='😈 ДОНАТЕР', callback_data='donater')
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='donat')
    privilegii_inline.add(vip, titan, deluxe, chem, korol, donater, help_back2)
    await callback.message.edit_text( f"""
<a href='tg://user?id={user_id}'>{user_name}</a> , вот все доступные привилегии 🔎:
➖➖➖➖➖➖➖➖➖➖➖➖
❗️ Появились проблемы с покупкой? обращайтесь к {cfg.owner}
➖➖➖➖➖➖➖➖➖➖➖➖
🔎 Редкое:
➖➖➖➖➖➖➖➖➖➖➖➖
❤️ Вип | 50 🍩
👾 Титан | 150 🍩
🔥 Делюкс | 255 🍩
🏆 Чемпион | 300 🍩
👑 Король | 450 🍩
😈 Донатер | 600 🍩
➖➖➖➖➖➖➖➖➖➖➖➖
🛒 Чтобы купить привилегию , виберите её ниже
    """, reply_markup=privilegii_inline, disable_web_page_preview=True, parse_mode='html')
    
    
@dp.callback_query_handler(text='adms')
async def donat_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?", (callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    donate_coins2 = '{:,}'.format(donate_coins)
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='donat')
    help_back.add(help_back2)
    
    await callback.message.edit_text(f"""
<a href='tg://user?id={user_id}'>{user_name}</a> › добро пожаловать в админ правa
➖➖➖➖➖➖➖➖➖➖➖➖
❗️ Появились желание купить обращайтесь к {cfg.owner}
➖➖➖➖➖➖➖➖➖➖➖➖
🏆 Администратор | 100₴
⛔️ Helper_Admin l 200₴
👑 Owner | 350₴
♦️ Developer | 500₴
➖➖➖➖➖➖➖➖➖➖➖➖
       """, reply_markup=help_back, disable_web_page_preview=True, parse_mode='html')    
    

@dp.callback_query_handler(text='donat')
async def donat_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    donate_coins = cursor.execute("SELECT donate_coins from users where user_id = ?", (callback.from_user.id,)).fetchone()
    donate_coins = int(donate_coins[0])
    donate_coins2 = '{:,}'.format(donate_coins)
    
    donate_menu = InlineKeyboardMarkup(row_width=2)
    privilegii = InlineKeyboardButton(text='🔎 Привилегии', callback_data='privilegii')
    valut = InlineKeyboardButton(text='💰 Валюта', callback_data='valut')
    adms = InlineKeyboardButton(text='⛔️ Права в боте', callback_data='adms')
    donate_menu.add(privilegii, valut, adms)
    
    await callback.message.edit_text(f"""
<a href='tg://user?id={user_id}'>{user_name}</a> › добро пожаловать в донат-магазин
➖➖➖➖➖➖➖➖➖➖➖➖
❗️ Появились проблемы с авто оплатой? обращайтесь к {cfg.owner}
➖➖➖➖➖➖➖➖➖➖➖➖
🍩 <b>Баланс:</b> <code>{donate_coins2}</code>
➖➖➖➖➖➖➖➖➖➖➖➖
👾 Команды:
💰 <code>Пополнить</code> [сумма]
➖➖➖➖➖➖➖➖➖➖➖➖
💹 Курс пончика ›
        💳 1₴ = 3 🍩
➖➖➖➖➖➖➖➖➖➖➖➖
🔎 <b>Привилегии:
        ❤️ Вип | 50 🍩
        👾 Титан | 150 🍩
        🔥 Делюкс | 255 🍩
        🏆 Чемпион | 300 🍩
        👑 Король | 450 🍩
        😈 Донатер | 600 🍩</b>
➖➖➖➖➖➖➖➖➖➖➖➖
⛔️ <b>Права в боте:
        🏆 Администратор | 100₴
        ⛔️ Helper_Admin l 200₴
        👑 Owner | 350₴
        ♦️ Developer | 500₴</b>
➖➖➖➖➖➖➖➖➖➖➖➖
💰 <b>Валюта:
         💰 100е12$ | 50 🍩
         💰 100е15$ | 90 🍩
         💰 100е18$ | 160 🍩
         💰 100е21$ | 200 🍩
         💰 100е24$ | 260 🍩
         💰 100е27$ | 300 🍩</b>
➖➖➖➖➖➖➖➖➖➖➖➖
⤵️ <b>Выберите одну из категорий</b>
       """, reply_markup=donate_menu, disable_web_page_preview=True, parse_mode='html')


tops2 = InlineKeyboardMarkup(row_width=1)
top_back = InlineKeyboardButton(text='🔙 Назад', callback_data='top_back')
tops2.add(top_back)

fulltop = InlineKeyboardMarkup(row_width=2)
top_b = InlineKeyboardButton(text='💰 Баланс', callback_data='top_b')
top_c = InlineKeyboardButton(text='🛡️ Кланы', callback_data='top_c')
top_r = InlineKeyboardButton(text='👑 Рейтинг', callback_data='top_r')
top_l = InlineKeyboardButton(text='📊 Уровень', callback_data='top_l')
top_p = InlineKeyboardButton(text='🍩 Пончики', callback_data='top_p')
fulltop.add(top_r, top_b, top_c, top_l, top_p)
@dp.callback_query_handler(text='top_b')
async def top_b_callback(callback: types.CallbackQuery):
       import utils
       user_id = callback.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       list = cursor.execute(f"SELECT * FROM users ORDER BY balance DESC").fetchmany(10)
       top_list = []


       num = 0
       for user in list:
           balance3 = await utils.scor_summ(user[4])
            

           num += 1

           if num == 1:
              num2 = '1️⃣'
              num3 = ''
           if num == 2:
              num2 = '2️⃣'
              num3 = ''
           if num == 3:
              num2 = '3️⃣'
              num3 = ''
           if num == 4:
              num2 = '4️⃣'
              num3 = ''
           if num == 5:
              num2 = '5️⃣'
              num3 = ''
           if num == 6:
              num2 = '6️⃣'
              num3 = ''
           if num == 7:
              num2 = '7️⃣'
              num3 = ''
           if num == 8:
              num2 = '8️⃣'
              num3 = ''
           if num == 9:
              num2 = '9️⃣'
              num3 = ''
           if num == 10:
              num2 = '🔟'
              num3 = ''

           
           top_list.append(f"{num2} {user[1]} |{num3} {balance3} 💰 (<code>{user[0]}</code>)")

       top = "\n".join(top_list)
       text = f"<a href='tg://user?id={user_id}'>{user_name}</a>, топ 10 богачей бота:\n➖➖➖➖➖➖➖➖➖➖➖\n{top}"
       await callback.message.edit_text(text, reply_markup=tops2, parse_mode='html')



@dp.callback_query_handler(text='top_c')
async def top_c_callback(callback: types.CallbackQuery):
       import utils
       data = await get_rang(callback)
       list = cursor.execute(f"SELECT * FROM clans ORDER BY win DESC").fetchmany(10)
       top_list = []
       user_id = callback.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?", (callback.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(callback.from_user.id,)).fetchone()
       user_status = user_status[0]
       
       num = 0
       for data in list:
           summ3 = await utils.scor_summ(data[7])
            

           num += 1

           if num == 1:
              num2 = '1️⃣'
              num3 = ''
           if num == 2:
              num2 = '2️⃣'
              num3 = ''
           if num == 3:
              num2 = '3️⃣'
              num3 = ''
           if num == 4:
              num2 = '4️⃣'
              num3 = ''
           if num == 5:
              num2 = '5️⃣'
              num3 = ''
           if num == 6:
              num2 = '6️⃣'
              num3 = ''
           if num == 7:
              num2 = '7️⃣'
              num3 = ''
           if num == 8:
              num2 = '8️⃣'
              num3 = ''
           if num == 9:
              num2 = '9️⃣'
              num3 = ''
           if num == 10:
              num2 = '🔟'
              num3 = ''

           top_list.append(f"{num2} {data[2]} | Побед: {summ3} ⚔ | ID | (<code>{data[1]}</code>)")
       top = "\n".join(top_list)
       text = f"<a href='tg://user?id={user_id}'>{user_name}</a>,<b> топ 10 кланов </b>🛡:\n➖➖➖➖➖➖➖➖➖➖\n{top}"
       await callback.message.edit_text(text, reply_markup=tops2, parse_mode='html')



@dp.callback_query_handler(text='top_p')
async def top_p_callback(callback: types.CallbackQuery):
       import utils
       user_id = callback.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       list = cursor.execute(f"SELECT * FROM users ORDER BY donate_coins DESC").fetchmany(10)
       top_list = []


       num = 0
       for user in list:
           donate_coins2 = await utils.scor_summ(user[11])
            

           num += 1

           if num == 1:
              num2 = '1️⃣'
              num3 = ''
           if num == 2:
              num2 = '2️⃣'
              num3 = ''
           if num == 3:
              num2 = '3️⃣'
              num3 = ''
           if num == 4:
              num2 = '4️⃣'
              num3 = ''
           if num == 5:
              num2 = '5️⃣'
              num3 = ''
           if num == 6:
              num2 = '6️⃣'
              num3 = ''
           if num == 7:
              num2 = '7️⃣'
              num3 = ''
           if num == 8:
              num2 = '8️⃣'
              num3 = ''
           if num == 9:
              num2 = '9️⃣'
              num3 = ''
           if num == 10:
              num2 = '🔟'
              num3 = ''

           
           top_list.append(f"{num2} {user[1]} | {donate_coins2} 🍩 (<code>{user[0]}</code>)")

       top = "\n".join(top_list)
       text = f"<a href='tg://user?id={user_id}'>{user_name}</a>, топ 10 игроков по пончикам 🍩:\n➖➖➖➖➖➖➖➖➖➖➖\n{top}"
       await callback.message.edit_text(text, reply_markup=tops2, parse_mode='html')



@dp.callback_query_handler(text='top_l')
async def top_l_callback(callback: types.CallbackQuery):
       import utils
       user_id = callback.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
       user_name = str(user_name[0])

       list = cursor.execute(f"SELECT * FROM users ORDER BY level DESC").fetchmany(10)
       top_list = []


       num = 0
       for user in list:
           level3 = await utils.scor_summ(user[55])
            

           num += 1

           if num == 1:
              num2 = '1️⃣'
              num3 = ''
           if num == 2:
              num2 = '2️⃣'
              num3 = ''
           if num == 3:
              num2 = '3️⃣'
              num3 = ''
           if num == 4:
              num2 = '4️⃣'
              num3 = ''
           if num == 5:
              num2 = '5️⃣'
              num3 = ''
           if num == 6:
              num2 = '6️⃣'
              num3 = ''
           if num == 7:
              num2 = '7️⃣'
              num3 = ''
           if num == 8:
              num2 = '8️⃣'
              num3 = ''
           if num == 9:
              num2 = '9️⃣'
              num3 = ''
           if num == 10:
              num2 = '🔟'
              num3 = ''

           
           top_list.append(f"{num2} {user[1]} | Уровень {level3} (<code>{user[0]}</code>)")

       top = "\n".join(top_list)
       text = f"<a href='tg://user?id={user_id}'>{user_name}</a>, топ 10 игроков по уровню 📊:\n➖➖➖➖➖➖➖➖➖➖➖\n{top}"
       await callback.message.edit_text(text, reply_markup=tops2, parse_mode='html')


@dp.callback_query_handler(text='top_r')
async def top_r_callback(callback: types.CallbackQuery):
       import utils
       list = cursor.execute(f"SELECT * FROM users ORDER BY rating DESC").fetchmany(10)
       top_list = []
       user_id = callback.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?", (callback.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(callback.from_user.id,)).fetchone()
       user_status = user_status[0]
       num = 0

       

       for user in list:
           if user[7] >= 999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999:
              c6 = 999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
           else:
              c6 = user[7]

           


           num += 1

           if num == 1:
              num2 = '1️⃣'
              num3 = ''
           if num == 2:
              num2 = '2️⃣'
              num3 = ''
           if num == 3:
              num2 = '3️⃣'
              num3 = ''
           if num == 4:
              num2 = '4️⃣'
              num3 = ''
           if num == 5:
              num2 = '5️⃣'
              num3 = ''
           if num == 6:
              num2 = '6️⃣'
              num3 = ''
           if num == 7:
              num2 = '7️⃣'
              num3 = ''
           if num == 8:
              num2 = '8️⃣'
              num3 = ''
           if num == 9:
              num2 = '9️⃣'
              num3 = ''
           if num == 10:
              num2 = '🔟'
              num3 = ''
           c = Decimal(c6)
           c2 = '{:,}'.format(c).replace(',', '.')

           top_list.append(f"{num2} {user[1]} |{num3} {c2}👑 (<code>{user[0]}</code>)")
       top = "\n".join(top_list)
       text = f"<a href='tg://user?id={user_id}'>{user_name}</a>, топ 10 игроков бота:\n➖➖➖➖➖➖➖➖➖➖➖\n{top}"
       await callback.message.edit_text(text, reply_markup=tops2, parse_mode='html')


@dp.callback_query_handler(text='iv1')
async def iv1_callback(callback: types.CallbackQuery):
       import utils
       ivent = InlineKeyboardMarkup(row_width=2)
       iv1 = InlineKeyboardButton(text='💐Подарили', callback_data='iv1')
       iv2 = InlineKeyboardButton(text='💐Получили', callback_data='iv2')
       ivent.add(iv1, iv2)
       data = await get_rang(callback)
       list = cursor.execute(f"SELECT * FROM ivent ORDER BY summ DESC").fetchmany(10)
       top_list = []
       user_id = callback.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(callback.from_user.id,)).fetchone()
       user_status = user_status[0]
       summ = cursor.execute("SELECT summ from ivent").fetchone()
       summ = int(summ[0])
       
       num = 0
       for data in list:
           summ3 = await utils.scor_summ(data[5])
            

           num += 1

           if num == 1:
              num2 = '1️⃣'
              num3 = ''
           if num == 2:
              num2 = '2️⃣'
              num3 = ''
           if num == 3:
              num2 = '3️⃣'
              num3 = ''
           if num == 4:
              num2 = '4️⃣'
              num3 = ''
           if num == 5:
              num2 = '5️⃣'
              num3 = ''
           if num == 6:
              num2 = '6️⃣'
              num3 = ''
           if num == 7:
              num2 = '7️⃣'
              num3 = ''
           if num == 8:
              num2 = '8️⃣'
              num3 = ''
           if num == 9:
              num2 = '9️⃣'
              num3 = ''
           if num == 10:
              num2 = '🔟'
              num3 = ''

           top_list.append(f"{num2} {data[1]} подарил {summ3} 💐 (<code>{data[0]}</code>)")
       top = "\n".join(top_list)
       text = f"<a href='tg://user?id={user_id}'>{user_name}</a>, топ 10 по подаренным букетам 💐:\n🪢🪢🪢🪢🪢🪢🪢🪢🪢🪢🪢🪢🪢\n {top}"
       await callback.message.edit_text(text, reply_markup=ivent, parse_mode='html')

@dp.callback_query_handler(text='iv2')
async def iv1_callback(callback: types.CallbackQuery):
       import utils
       ivent = InlineKeyboardMarkup(row_width=2)
       iv1 = InlineKeyboardButton(text='💐Подарили', callback_data='iv1')
       iv2 = InlineKeyboardButton(text='💐Получили', callback_data='iv2')
       ivent.add(iv1, iv2)
       data = await get_rang(callback)
       list = cursor.execute(f"SELECT * FROM ivent ORDER BY summa DESC").fetchmany(10)
       top_list = []
       user_id = callback.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?", (callback.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       user_status = cursor.execute("SELECT user_status from users where user_id = ?",(callback.from_user.id,)).fetchone()
       user_status = user_status[0]
       summa = cursor.execute("SELECT summa from ivent").fetchone()
       summa = int(summa[0])
       
       num = 0
       for data in list:
           summa3 = await utils.scor_summ(data[6])
            

           num += 1

           if num == 1:
              num2 = '1️⃣'
              num3 = ''
           if num == 2:
              num2 = '2️⃣'
              num3 = ''
           if num == 3:
              num2 = '3️⃣'
              num3 = ''
           if num == 4:
              num2 = '4️⃣'
              num3 = ''
           if num == 5:
              num2 = '5️⃣'
              num3 = ''
           if num == 6:
              num2 = '6️⃣'
              num3 = ''
           if num == 7:
              num2 = '7️⃣'
              num3 = ''
           if num == 8:
              num2 = '8️⃣'
              num3 = ''
           if num == 9:
              num2 = '9️⃣'
              num3 = ''
           if num == 10:
              num2 = '🔟'
              num3 = ''

           top_list.append(f"{num2} {data[1]} получил {summa3} 💐 (<code>{data[0]}</code>)")
       top = "\n".join(top_list)
       text = f"<a href='tg://user?id={user_id}'>{user_name}</a>, топ 10 по получeным букетам 💐:\n🪢🪢🪢🪢🪢🪢🪢🪢🪢🪢🪢🪢🪢\n {top}"
       await callback.message.edit_text(text, reply_markup=ivent, parse_mode='html')


        
@dp.callback_query_handler(text='top_back')
async def top_back_callback(callback: types.CallbackQuery):
       user_id = callback.from_user.id
       user_name = cursor.execute("SELECT user_name from users where user_id = ?", (callback.from_user.id,)).fetchone()
       user_name = str(user_name[0])
       text = f"<a href='tg://user?id={user_id}'>{user_name}</a>, <b>выберите какой топ вас интересует 🔝</b>"
       await callback.message.edit_text(text, reply_markup=fulltop, parse_mode='html')
@dp.callback_query_handler(text='cripto_kurs')
async def cripto_kurs_callback(callback: types.CallbackQuery):
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    user_id = callback.from_user.id
    
    c = api.get_price(ids='ethereum', vs_currencies='rub')['ethereum']['rub']
    c2 = int(c)
    c3 = '{:,}'.format(c2)
    c4 = api.get_price(ids='bitcoin', vs_currencies='rub')['bitcoin']['rub']
    c5 = int(c4)
    c6 = '{:,}'.format(c5)
    c7 = api.get_price(ids='bitcoin', vs_currencies='gbp')['bitcoin']['gbp']
    c8 = int(c7)
    c9 = '{:,}'.format(c8)
    c10 = api.get_price(ids='bitcoin', vs_currencies='usd')['bitcoin']['usd']
    c11 = int(c10)
    c12 = '{:,}'.format(c11)
    
    back_cl = InlineKeyboardMarkup(row_width=1)
    kripto5 = InlineKeyboardButton(text='🔙 Назад', callback_data='kripto5')
    back_cl.add(kripto5)
    
    await callback.message.edit_text(f"""📊 | <a href='tg://user?id={user_id}'>{user_name}</a>, вот курс крипто валют

🔹 LITECOIN — <code>{c3}</code>$
🌐 BITCOIN — <code>{c6}</code>$
🟣 ETH — <code>{c9}</code>$
💠 PHANTOM — <code>{c12}</code>$
    """, reply_markup=back_cl, parse_mode='html')


@dp.callback_query_handler(text='kripto5')
async def kripto5(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    ethereum = cursor.execute("SELECT ethereum from users where user_id = ?",(callback.from_user.id,)).fetchone()
    ethereum = int(ethereum[0])
    ethereum2 = '{:,}'.format(ethereum)
    bitcoin = cursor.execute("SELECT bitcoin from users where user_id = ?",(callback.from_user.id,)).fetchone()
    bitcoin = int(bitcoin[0])
    bitcoin2 = '{:,}'.format(bitcoin)
    litecoin = cursor.execute("SELECT litecoin from users where user_id = ?",(callback.from_user.id,)).fetchone()
    litecoin = int(litecoin[0])
    litecoin2 = '{:,}'.format(litecoin)
    fantom = cursor.execute("SELECT fantom from users where user_id = ?",(callback.from_user.id,)).fetchone()
    fantom = int(fantom[0])
    fantom2 = '{:,}'.format(fantom)
    
    help_back = InlineKeyboardMarkup(row_width=1)
    cripto_kurs = InlineKeyboardButton(text='📊 Курс крипто', callback_data='cripto_kurs')
    help_back.add(cripto_kurs)

    await callback.message.edit_text(f"""💳 | <a href='tg://user?id={user_id}'>{user_name}</a>, вот ваш крипто кошелёк

🔹 LITECOIN: <code>{litecoin2}</code>
🌐 BITCOIN: <code>{bitcoin2}</code>
🟣 ETH: <code>{ethereum2}</code>
💠 PHANTOM: <code>{fantom2}</code>
    """, parse_mode='html')
    


  
       
@dp.callback_query_handler(text='bonus5')
async def bonus5_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    balance = cursor.execute("SELECT balance from users where user_id = ?", (callback.from_user.id,)).fetchone()
    balance = int(balance[0])
    user_status = cursor.execute("SELECT user_status from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_status = user_status[0]
    get = cursor.execute("SELECT stavka_bonus FROM bot_time WHERE user_id = ?", (callback.from_user.id,)).fetchone()
    last_stavka = int(get[0])
    stavkatime = time.time() - float(last_stavka)
    

    if user_status == 'Player':
    	bon = 'бонус'
    	tbon = 24
    	period = 86400
    	rx = random.randint(200000000,2000000000)
    	rx2 = '{:,}'.format(rx)
    if user_status == 'Vip':
    	bon = '❤️ Вип бонус'
    	tbon = 20
    	period = 72000
    	rx = random.randint(400000000,4000000000)
    	rx2 = '{:,}'.format(rx)
    if user_status == 'Titanium':
    	bon = '👾 Титан бонус'
    	tbon = 18
    	period = 64800
    	rx = random.randint(600000000,6000000000)
    	rx2 = '{:,}'.format(rx)
    if user_status == 'Deluxe':
    	bon = '🔥 Делюкс бонус'
    	tbon = 16
    	period = 57600
    	rx = random.randint(800000000,8000000000)
    	rx2 = '{:,}'.format(rx)
    if user_status == 'Chemp':
    	bon = '🏆 Чемпион бонус'
    	tbon = 12
    	period = 43200
    	rx = random.randint(1000000000,10000000000)
    	rx2 = '{:,}'.format(rx)
    if user_status == 'Korol':
    	bon = '👑 Король бонус'
    	tbon = 8
    	period = 28800
    	rx = random.randint(1200000000,12000000000)
    	rx2 = '{:,}'.format(rx)
    if user_status == 'Donater':
    	bon = '😈 Донатер бонус'
    	tbon = 6
    	period = 21600
    	rx = random.randint(1400000000,14000000000)
    	rx2 = '{:,}'.format(rx)
    if user_status == 'Admin':
    	bon = '🏆 Админ бонус'
    	tbon = 3
    	period = 10800
    	rx = random.randint(10000000000,1000000000000)
    	rx2 = '{:,}'.format(rx)
    if user_status == 'Helper_Admin':
    	bon = '⛔️ Helper_Admin бонус'
    	tbon = 2
    	period = 7200
    	rx = random.randint(30000000000,5000000000000)
    	rx2 = '{:,}'.format(rx)
    if user_status == 'Owner':
    	bon = '👑 Owner бонус'
    	tbon = 1
    	period = 3600
    	rx = random.randint(60000000000,10000000000000)
    	rx2 = '{:,}'.format(rx)
    if user_status == 'Rab':
    	bon = '♦️Developer♦️ бонус'
    	tbon = 0
    	period = 0
    	rx = 666
    	rx2 = '{:,}'.format(rx)
    
    
    if stavkatime > period:       
       await callback.message.answer(f"🎁 <a href='tg://user?id={user_id}'>{user_name}</a>, <i>вы получили ежедневный <b>{bon}</b> в размере <b>{rx2}$</b> </i>💵", parse_mode='html')
       cursor.execute(f'UPDATE users SET balance = {balance + rx}  WHERE user_id = "{user_id}"')
       cursor.execute(f'UPDATE bot_time SET stavka_bonus = {time.time()} WHERE user_id = "{user_id}"')
       connect.commit()
    if stavkatime < period:
          await bot.answer_callback_query(callback.id, show_alert=False, text=f'‼️ Получать ежедневный бонус можно раз в {tbon}ч⏳')


@dp.callback_query_handler(text='register_help')
async def help(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help2 = InlineKeyboardMarkup(row_width=2)
    Osn2 = InlineKeyboardButton(text='💡 Основное', callback_data='Osn2')
    game2 = InlineKeyboardButton(text='🕹️ Игры', callback_data='game2')
    Im2 = InlineKeyboardButton(text='🏠 Дом', callback_data='Im2')
    Osn = InlineKeyboardButton(text='❕ Остальное', callback_data='ostal_menu')
    ded2 = InlineKeyboardButton(text='➡️ Дальше', callback_data='ded2')
    help2.add(Osn2, game2, Im2, Osn, ded2)

    await callback.message.edit_text(f'''
➖➖➖➖➖➖➖➖➖➖➖
📊 Канал - {cfg.channel}
💭 Чат - {cfg.chat}
❗️ По всем вопросам - {cfg.owner}
➖➖➖➖➖➖➖➖➖➖➖
🔎 Категории
├ 💡 Основное
├ 🕹️ Игры
├ 🏠 Дом
└ ❕ Остальное
➖➖➖➖➖➖➖➖➖➖
Выберите одну кнопку ниже👇🏻
    ''', reply_markup=help2, disable_web_page_preview=True, parse_mode='html')  


@dp.callback_query_handler(text='Osn2')
async def osn2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='register_help')
    help_back.add(help_back2)
            
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, вот основные команды бота <b>VEST</b>

💸 <code>Б</code> <b>»</b> <code>Баланс</code> - <b>выводит ваш игровой баланс</b>
👤 <code>Профиль</code> <b>»</b> <code>П</code> - <b>выводит ваш игровой профиль</b>
👥 <code>Ник</code> <b>»</b> <code>Сменить ник</code>  - <b>Выводит ваш ник, и так же его меняет</b>
💳 <code>Карта</code> <b>»</b> <code>Карта положить 1</code> <b>»</b> <code>Карта снять 1</code>  - <b>выводит ваш игровой карту с депозитом , позволяет положить в карту сумму, позволяет снять с карты сумму</b>
💰 <code>Ограбить банк</code> - <b>ограбление банка</b>
📚 <code>Ссылки</code> - <b>выводит ссылки на официальные источники проэкта</b>

❕ <b>Для использование команды, напишите её сообщением</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='game2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='register_help')
    help_back.add(help_back2)    
            
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, вот вам команды игр

🕹️ Игры:
┣ 🏎 Гонкa
┃   ┗ Гонка [ставка]
┣ 🚚 Рейс
┃   ┗ Рейс [ставка]
┣ 🏀️ Баскетбол
┃   ┗ Баскетбол [ставка]
┣ 🎳 Боулинг
┃   ┗ Боулинг [ставка]
┣ 🎯 Дартс
┃   ┗ Дартс [ставка]
┣ ⚽ Футбол
┃   ┗ Футбол [ставка]
┣ 🎰 Спин
┃   ┗ Спин [ставка]
┣ 🪙 Флип
┃   ┗ Флип [ставка] [орёл, решка]
┣ 🖲 Рулетка
┃   ┗ Рулетка [черное, красное] [ставка] 
┣ 🎱 Дайк
┃   ┗ [сумма] [к/в]
┣ 🎲 Кости
┃   ┗ Кости [сумма]
┣ 🪓 Охота
┃   ┗ Охота [сумма]
┣ 🎣 Рыбалка
┃   ┗ Рыбалка [ставка]
┣ 🃏 Казино
┃   ┗ Казино [ставка]
┣ 🤼 Бой
┃   ┗ Бой [сумма]
┗ 🥇 Игра
    ┗ Игра [камень/ножница/бумага]

❕ <b>Для использование команды, напишите её сообщением</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='Im2')
async def im2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=2)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='register_help')
    help_back.add(help_back2)    
            
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, вот более точная информация за дом 🏠

🏡 <code>Мой дом</code> - <b>выводит информацию за ваш дом</b>
🏡 <code>Дома</code> - <b>выводит список доступных домов</b>
🏡 <code>Купить дом</code> <b>[номер] - Позволяет вам купить вам дом</b>
🏡 <code>Продать дом</code> - <b>Позволяет вам продать ваш дом</b>
🏡 <code>Аренда дом</code> - <b>вы можете дать свое имущество в аренду и получать доход зависит от крутости вашего имущества</b>

❕ <b>Для использование команды, напишите её сообщением</b>
    ''', reply_markup=help_back, parse_mode='html')
    
    
@dp.callback_query_handler(text='ostal_menu')
async def oston_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='register_help')
    help_back.add(help_back2)    
            
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, вот остальные команды❗

🎰 Шанс
🔮 Шар [фраза]
🥅 Выбери [фраза1] или [фраза2]
🏓 /пинг - пинг моего бота.
🤖 Повтори [фраза] - повторяет вашу фоазу.
📕 Правила - выводит правила

❕ <b>Для использование команды, напишите её сообщением</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='ded2')
async def help(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help3 = InlineKeyboardMarkup(row_width=2)
    internet2 = InlineKeyboardButton(text='🌍 Интернет', callback_data='internet2')
    city2 = InlineKeyboardButton(text='🌇 Город', callback_data='city2')
    Im7 = InlineKeyboardButton(text='💠 Крипто валюта', callback_data='Im7')
    brak2 = InlineKeyboardButton(text='💖 Браки', callback_data='brak2')
    help_back2 = InlineKeyboardButton(text='⬅️ Назад', callback_data='register_help')
    help_back3 = InlineKeyboardButton(text='➡️ Дальше', callback_data='ded3')
    help3.add(internet2, city2, Im7, brak2, help_back2, help_back3)

    await callback.message.edit_text(f'''
➖➖➖➖➖➖➖➖➖➖➖
📊 Канал - {cfg.channel}
💭 Чат - {cfg.chat}
❗️ По всем вопросам - {cfg.owner}
➖➖➖➖➖➖➖➖➖➖➖
🔎 Категории
├ 🌍 Интернет
├ 🌇 Город
├ 💠 Крипто валюта
└ 💖 Браки
➖➖➖➖➖➖➖➖➖➖
Выберите одну кнопку ниже👇🏻
    ''', reply_markup=help3, disable_web_page_preview=True, parse_mode='html')


@dp.callback_query_handler(text='internet2')
async def internet2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded2')
    help_back.add(help_back2)
    
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, вот команды связанные с интернетом 🌍

💻 <code>Тикток</code> - <b>статистика вашего аккаунта ТикТок</b>
💻 <code>Тикток создать</code> [название аккаунта] - <b>создание вашего аккаунта ТикТок</b>
💻 <code>Тикток реклама</code> - <b>реклама в тиктоке</b>
💻 <code>Тикток видео</code> - <b>заснять видео в ТикТок</b>
💻 <code>Тикток лайк</code> <b>(Ответом на сообщение) - ставить пользователю лайк</b>

🎬 <code>Мой канал</code> - <b>статистика вашего канала</b>
⚒ <code>Создать канал</code> - <b>создание вашего канала</b>
🛒 <code>Купить</code> <b>[название предмета] - покупка материалов для канала</b>
📼 <code>Снять видео</code> - <b>снять видео в канал</b>
🛒 <code>Купить все</code> - <b>покупка весь материалов</b>

❕ <b>Для использование команды, напишите её сообщением</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='city2')
async def internet2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded2')
    help_back.add(help_back2)
    
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, вот команды связанные с городом 🌇

🌇 <code>Город построить</code> - <b>для создание города</b>
🌃 <code>Мой город</code> - <b>информация о вашем городе</b>
💱 <code>Город снять</code> - <b>снимает с казны города</b>
🔂 <code>Г налог</code> - <b>налог для жителей</b>
🛣️ <code>Город дорога</code> - <b>расширает дорогу в городе</b>
🏭 <code>Город завод</code> - <b>для постройки заводов</b>
💦 <code>Город вода</code> - <b>для постройки водонапорных башен</b>
⚡️ <code>Город энергия</code> - <b>для постройки АЭС</b>
🏘️ <code>Город дом</code> - <b>для постройки дома</b>

❕ <b>Для использование команды, напишите её сообщением</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='Im7')
async def internet2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded2')
    help_back.add(help_back2)
    
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, вот команды связанные с крипто валютой 💠

🛒 <b>Название крипто валюты купить [количество] - Покупка крипто валюты</b>
🗑 <b>Название крипто валюты продать [количество] - Продажа крипто валюты</b>
📊 <code>Б</code> <b>» Крипто » Курс крипто валют - Курс крипто валют в реальном времени</b>
🌐 <code>К</code> <b>» Крипто - Ваш игровой крипто кошелёк</b>

❕ <b>Для использование команды, напишите её сообщением</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='brak2')
async def internet2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded2')
    help_back.add(help_back2)
    
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, вот команды связанные с браками 💖

💖 <code>Брак</code> <b>(Ответом на сообщение) - Предложение в ступить брак с игроком</b>
💖 <code>Мой брак</code> - <b>Просмотр вашего брака с игроком</b>
💔 <code>Развод</code> - <b>Разорвать ваш брак с игроком</b>

❕ <b>Для использование команды, напишите её сообщением</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='ded3')
async def help(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help4 = InlineKeyboardMarkup(row_width=2)
    rabot2 = InlineKeyboardButton(text='🔨 Работы', callback_data='rabot2')
    info2 = InlineKeyboardButton(text='🚚 Грузовик', callback_data='info2')
    clan2 = InlineKeyboardButton(text='🛡️ Клан', callback_data='clan2')
    kazino = InlineKeyboardButton(text='👮🏼‍♀️ Система жалоб', callback_data='kazino')
    help_back2 = InlineKeyboardButton(text='⬅️ Назад', callback_data='ded2')
    help_back3 = InlineKeyboardButton(text='➡️ Дальше', callback_data='ded4')
    help4.add(rabot2, info2, clan2, kazino, help_back2, help_back3)

    await callback.message.edit_text(f'''
➖➖➖➖➖➖➖➖➖➖➖
📊 Канал - {cfg.channel}
💭 Чат - {cfg.chat}
❗️ По всем вопросам - {cfg.owner}
➖➖➖➖➖➖➖➖➖➖➖
🔎 Категории
├ 🔨 Работы
├ 🚚 Грузовик
├ 🛡️ Клан
└ 👮🏼‍♀️ Система жалоб
➖➖➖➖➖➖➖➖➖➖
Выберите одну кнопку ниже👇🏻
    ''', reply_markup=help4, disable_web_page_preview=True, parse_mode='html')


@dp.callback_query_handler(text='rabot2')
async def rabot2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded3')
    help_back.add(help_back2)    
            
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, все доступные работы в боте <b>VEST</b>

🛠 <code>Вакансии</code> - <b>выводит все доступные вакансии</b>
🛠 <code>Устроиться [номер]</code> - <b>Устроиться на работу</b>
🛠 <code>Уволиться</code> - <b>уволиться с работы</b>
🛠 <code>Работать</code> - <b>работать и получить зарплату</b>
🛠 <code>Центр занятости</code> - <b>выводит всю информацию о вашей работе</b>

❕ <b>Для использование команды, напишите её сообщением</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='info2')
async def internet2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded3')
    help_back.add(help_back2)
    
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, сейчас расскажу за грузовики 🚚
🚚 <code>Мой грузовик</code> - <b>Выводит информацию за ваш грузовик</b>
🚚 <code>Грузовики</code> - <b>Выводит список доступных грузовиков</b>

🚚 <code>Купить грузовик</code> <b>[номер] - Позволяет вам купить грузовик</b>
🚚 <code>Продать грузовик</code> - <b>Позволяет вам продать ваш грузовик</b>
🚚 <code>Грузовик заправить</code> - <b>Позволяет вам заправить ваш грузовик</b>
🚚 <code>Грузовик починить</code> - <b>Позволяет вам починить ваш грузовик</b>

❕ <b>Для использование команды, напишите её сообщением</b>
    ''', reply_markup=help_back, disable_web_page_preview=True, parse_mode='html')


@dp.callback_query_handler(text='clan2')
async def internet2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded3')
    help_back.add(help_back2)
    
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, вот команды связанные с кланами 🛡️
    
🛡️ <code>Клан создать</code> (название)
🛡️ <code>Клан покинуть</code> - <b>если вы создатель управление кланом перейдет другому игроку</b>
🛡️ <code>Клан вступить</code> (id) - <b>если клан закрыт вы не сможете вступить</b>
📁 <code>Мой клан</code> - <b>информация о клане</b>
👥 <code>Клан участники</code> - <b>вывод участников клана</b>
💰 <code>Клан пополнить</code> - <b>деньги клана</b>
💰 <code>Клан снять</code> - <b>снимать может только создатель</b>
📛 <code>Клан кик </code>(id) - <b>изгоняет игрока из клана</b>
🔐 <code>Клан приватность</code> 
⚔️ <code>Клан атака</code> (id)
💪 <code>Клан усилить</code> (число)
⏫ <code>Клан повысить</code>
⏬ <code>Клан понизить</code>

🛑 <b>Будьте осторожны повышая ранг игрокам они могут управлять вашим кланом !</b>

❕ <b>Для использование команды, напишите её сообщением</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='kazino')
async def kazino_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded3')
    help_back.add(help_back2)
            
    await callback.message.edit_text(f"""
<a href='tg://user?id={user_id}'>{user_name}</a>, вот правила и команды для использования жалоб 👮🏼‍♀️

❕ Система жалоб используют только если видят пользователя который нарушает правила игрового бота

👮🏼‍♀️ <code>/жалоба</code> <b>[Нарушение] - команда для отправки жалобы, администрации бота</b>

❕ <b>Для использование команды, напишите её сообщением</b>
    """, reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='ded4')
async def help(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help5 = InlineKeyboardMarkup(row_width=2)
    ferma2 = InlineKeyboardButton(text='🧰 Ферма', callback_data='ferma2')
    electro2 = InlineKeyboardButton(text='🎡 Электростанции', callback_data='electro2')
    promo2 = InlineKeyboardButton(text='🪄 Промокоды', callback_data='promo2')
    gde2 = InlineKeyboardButton(text='🪓 Лесопилка', callback_data='gde2')
    help_back2 = InlineKeyboardButton(text='⬅️ Назад', callback_data='ded3')
    help_back3 = InlineKeyboardButton(text='➡️ Дальше', callback_data='ded5')
    help5.add(ferma2, electro2, promo2, gde2, help_back2, help_back3)

    await callback.message.edit_text(f'''
➖➖➖➖➖➖➖➖➖➖➖
📊 Канал - {cfg.channel}
💭 Чат - {cfg.chat}
❗️ По всем вопросам - {cfg.owner}
➖➖➖➖➖➖➖➖➖➖➖
🔎 Категории
├ 🖥 Ферма
├ 🎡 Электростанции
├ 🪄 Промокоды
└ 🪓 Лесопилка
➖➖➖➖➖➖➖➖➖➖
Выберите одну кнопку ниже👇🏻
    ''', reply_markup=help5, disable_web_page_preview=True, parse_mode='html')


@dp.callback_query_handler(text='ferma2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded4')
    help_back.add(help_back2)
            
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, щас подробно расскажу о майнинг ферме 🖥

<b>Ферма</b> 🖥 - Один из бизнесов игровых ботов, отличный выбор для стабильного заработка без какого либо вмешательства а точнее, все зависит от времени.

🔌 Стоимость одной видеокарт: Зависит от вашего уровня фермы
🖥 Список всех ферм » <code>Фермы</code>
💸 Продажа вашей фермы: <code>Продать ферму</code>

❕ <code>Моя ферма</code> - Для просмотра прибыли и так же прокачки ферму
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='electro2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded4')
    help_back.add(help_back2)
            
    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, щас подробно расскажу о электростанциях 🎡

<b>Электростанция</b> 🎡 - Один из бизнесов игровых ботов, отличный выбор для стабильного заработка без какого либо вмешательства а точнее, все зависит от времени.

💼 <b>Стоимость одной турбины: зависит от вашего уровня электростанции.</b>
🎡 <b>Список всех электростанции:</b> <code>Электростанции</code>
💸 <b>Продажа вашей электростанции:</b> <code>Продать электростанцию</code>

👀 <code>Моя электростанция</code> - <b>Для просмотра прибыли и так же прокачки электростанции</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='promo2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded4')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, щас подробно расскажу о системах промокодов 🪄

🪄 <code>Промо</code> <b>[название] - активация промокодов</b>
🪄 <code>+промо</code> <b>[название] [сумма] [количество использований] - создания своего промокода</b>

❕ <b>Для использование команды, напишите её сообщением</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='gde2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded4')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, щас подробно расскажу о лесопилке 🪓

<b>Лесопилка</b> 🪓 - Один из бизнесов игровых ботов, отличный выбор для стабильного заработка без какого либо вмешательства а точнее, все зависит от времени.

👷‍♂ Стоимость одного рабочего: Зависит от количества рабочих
🪓 Чтобя построить лесопилку » <code>Построить лесопилку</code>
❕Для её постройки вам потребуется 500 камня❕


❕ <code>Моя лесопилка</code> - Для просмотра прибыли и так же прокачки лесопилки
    ''', reply_markup=help_back, disable_web_page_preview=True, parse_mode='html')


@dp.callback_query_handler(text='ded5')
async def help(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help6 = InlineKeyboardMarkup(row_width=2)
    ref2 = InlineKeyboardButton(text='✉️ Реф', callback_data='ref2')
    rp2 = InlineKeyboardButton(text='🌒 RP MOD', callback_data='rp2')
    car2 = InlineKeyboardButton(text='🚘 Машины', callback_data='car2')
    pet2 = InlineKeyboardButton(text='🐶 Питомцы', callback_data='pet2')
    help_back2 = InlineKeyboardButton(text='⬅️ Назад', callback_data='ded4')
    help_back3 = InlineKeyboardButton(text='➡️ Дальше', callback_data='ded6')
    help6.add(ref2, rp2, car2, pet2, help_back2, help_back3)

    await callback.message.edit_text(f'''
➖➖➖➖➖➖➖➖➖➖➖
📊 Канал - {cfg.channel}
💭 Чат - {cfg.chat}
❗️ По всем вопросам - {cfg.owner}
➖➖➖➖➖➖➖➖➖➖➖
🔎 Категории
├ ✉️ Реф
├ 🌒 RP MOD
├ 🚘 Машины
└ 🐶 Питомцы
➖➖➖➖➖➖➖➖➖➖
Выберите одну кнопку ниже👇🏻
    ''', reply_markup=help6, disable_web_page_preview=True, parse_mode='html')


@dp.callback_query_handler(text='ref2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded5')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, щас подробно объясню за реферальную систему ✉️

🔏 <code>Реф</code> - <b>Статистика о вашей реферальной ссылке</b>

🧍‍♂️ <b>При добавлении людей, вы получаете определенный бонус как рекламодатель бота</b>
    ''', reply_markup=help_back, disable_web_page_preview=True, parse_mode='html')


@dp.callback_query_handler(text='rp2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded5')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, сейчас расскажу за RP MOD 🌒

🌒 <code>рп</code> - Список всех рп команд
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='car2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded5')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, сейчас расскажу за машины 🚘

🚘 <code>Моя машина</code> - <b>Выводит информацию за вашу машину</b>
🚘 <code>Машины</code> - <b>Выводит список доступных машин</b>

🚗 <code>Купить машину</code> <b>[номер] - Позволяет вам купить вам автомобиль</b>
🚗 <code>Продать машину</code> - <b>Позволяет вам продать ваш автомобиль</b>
🚗 <code>Заправить</code> - <b>Позволяет вам заправить ваш автомобиль</b>
🚗 <code>Починить</code> - <b>Позволяет вам починить ваш автомобиль</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='pet2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded5')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, сейчас расскажу за питомцов 🐶

🐶 <code>Питомцы</code> - <b>Выводит доступных питомцах, и так же информацию за покупку их</b>
🐶 <code>Мой питомец</code> - <b>Выводит информацию про вашего питомца</b>
🐶 <code>Питомец имя</code> <b>[название]</b>

❤️ <code>Вылечить питомца</code> - <b>Позволяет вам вылечить питомца</b>
🍗 <code>Покормить питомца</code> - <b>Позволяет вам покормить питомца</b>
🌳 <code>Выгулять питомца</code> - <b>Позволяет вам выгулять питомца</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='ded6')
async def help(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help6 = InlineKeyboardMarkup(row_width=2)
    refad2 = InlineKeyboardButton(text='🤝 Транзакция', callback_data='refad2')
    reting2 = InlineKeyboardButton(text='👑 Рейтинг', callback_data='reting2')
    depozit2 = InlineKeyboardButton(text='💳 Депозит', callback_data='depozit2')
    family = InlineKeyboardButton(text='🏰 Организации', callback_data='family')
    help_back2 = InlineKeyboardButton(text='⬅️ Назад', callback_data='ded5')
    help_back3 = InlineKeyboardButton(text='➡️ Дальше', callback_data='ded7')
    help6.add(refad2, reting2, depozit2, family, help_back2, help_back3)

    await callback.message.edit_text(f'''
➖➖➖➖➖➖➖➖➖➖➖
📊 Канал - {cfg.channel}
💭 Чат - {cfg.chat}
❗️ По всем вопросам - {cfg.owner}
➖➖➖➖➖➖➖➖➖➖➖
🔎 Категории
├ 🤝 Транзакция
├ 👑 Рейтинг
├ 💳 Депозит
└ 🏰 Организации
➖➖➖➖➖➖➖➖➖➖
Выберите одну кнопку ниже👇🏻
    ''', reply_markup=help6, disable_web_page_preview=True, parse_mode='html')


@dp.callback_query_handler(text='refad2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded6')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, более подробная помощь за транзакции (переводы) 🤝

💰 <code>Дать</code> <b>(сумма) - перевести средства игроку</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='reting2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded6')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, более подробная помощь за рейтинг

👑 <code>Рейтинг купить</code> <b>(сумма) - покупка рейтинга , стоимость одного рейтинга при покупке 150,000,000,000$</b>
👑 <code>Рейтинг продать</code> <b>(сумма) - продажа рейтинга, стоимость одного рейтинга при продаже 100,000,000,000$</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='depozit2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded6')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, более подробная помощь за депозит 💳

💳 <code>Депозит положить</code> <b>[сумма] - Позволяет положить на депозит</b>
💳 <code>Депозит снять</code> <b>[сумма] - позволяет снять с депозита</b>
💳 <code>Процент снять</code> <b>[сумма] - позволяет снять накапанный процент с депозита</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='family')
async def family_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded6')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, вот информация за «<b>СЕМЬИ</b>» 👨‍👩‍👧‍👦

✏️ <b><code>Создать семью</code> <i>[название]</i> - команда для создание свой семьи <i>(Стоимость: {cfg.cash_family} 🍩)</i></b>
👨‍👩‍👧‍👦 <b><code>Моя семья</code> | <code>семья</code> - вывод информации за семью в которой вы состоите </b>
⚙️ <b><code>+название семьи</code> <i>[название]</i> - Меняет название семьи <i>( можно раз в 7d) (от 3 ранга)</i></b>
💎 <b><code>Купить монеты</code> <i>[количество]</i> - Покупка семейный монет в мешок семьи</b>
➖ <b><code>-ранг семьи</code> - Понизить игрока в семье на 1 ранг ниже <i>(от 3 ранга)</i></b>
➕ <b><code>+ранг семьи</code> - Повысить игрока в семье на 1 ранг выше <i>(от 3 ранга)</i></b>
👶 <b><code>Пригласить в семью</code> - Приглашение в вашу семью <i>(от 2 ранга)</i></b>
❌ <b><code>Выгнать из семьи</code> - Исключение игрока из вашей семьи <i>(от 3 ранга)</i></b>
💭 <b><code>+описание семьи</code> <i>[описание]</i> - Устоновка описание в вашей семье <i>(от 3 ранга)</i></b>
😔 <b><code>Распустить семью</code> - Удаление семьи <i>(от 3 ранга)</i></b>
🔙 <b><code>Выйти с семьи</code> - Выход с семьи </b>

❗️ Будьте окуратней при <b>выдаче ранга игроку</b>
    ''', reply_markup=help_back, parse_mode='html')

@dp.callback_query_handler(text='ded7')
async def help(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    help7 = InlineKeyboardMarkup(row_width=2)
    kirka2 = InlineKeyboardButton(text='⛏ Шахта', callback_data='kirka2')
    inforse2 = InlineKeyboardButton(text='✨ Инфо', callback_data='inforse2')
    phon = InlineKeyboardButton(text='📱 Телефоны', callback_data='phon')
    help_back2 = InlineKeyboardButton(text='⬅️ Назад', callback_data='ded6')
    help7.add(kirka2, inforse2, phon, help_back2)

    await callback.message.edit_text(f'''
➖➖➖➖➖➖➖➖➖➖➖
📊 Канал - {cfg.channel}
💭 Чат - {cfg.chat}
❗️ По всем вопросам - {cfg.owner}
➖➖➖➖➖➖➖➖➖➖➖
🔎 Категории
├ ⛏ Шахта
├ ✨ Инфо
└ 📱 Телефоны
➖➖➖➖➖➖➖➖➖➖
Выберите одну кнопку ниже👇🏻
    ''', reply_markup=help7, disable_web_page_preview=True, parse_mode='html')

@dp.callback_query_handler(text='kirka2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded7')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, более подробная информация о шахте:
⛏<code>Кирки</code><b> - пoсмотреть доступные кирки</b>
⛏ <code>Купить кирку</code> [1 - 3]<b> - покупка кирки</b>
⛏<code>Продать кирку</code><b> - продажа кирки</b>
⛏<code>Копать руду</code><b> - позволяеь вам копать руду</b>
⛏<code>Продать</code> [название руды] [кол-во]<b> - продажа руды</b>
⛏<code>Моя кирка</code><b> - информация о вашей кирке</b>
🧳<code>Инвентарь</code><b> - просмотр вашей руды</b>
    ''', reply_markup=help_back, parse_mode='html')


@dp.callback_query_handler(text='inforse2')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded7')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, информация о боте:

✨<b> Моё название - VEST

✨ Мой разработчик - @KPECTIK_official
 
✨ Я был запущен - 03.01.2024 | 13:53 MSK </b>
    ''', reply_markup=help_back, parse_mode='html')

@dp.callback_query_handler(text='phon')
async def game2_callback(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])

    help_back = InlineKeyboardMarkup(row_width=1)
    help_back2 = InlineKeyboardButton(text='🔙 Назад', callback_data='ded7')
    help_back.add(help_back2)

    await callback.message.edit_text(f'''
<a href='tg://user?id={user_id}'>{user_name}</a>, информация о телефонах:
📱 <code>Телефоны</code> <b>- выводит список доступных телефонов.</b>
📱 <code>Купить телефон</code> <i>[номер]</i> <b>- покупка телефона.</b>
📱 <code>Продать телефон</code><b> - продажа телефона.</b>
📱 <code>Мой телефон</code><b> - информация о вашем телефоне.</b>
    ''', reply_markup=help_back, parse_mode='html')





@dp.callback_query_handler(text='gpribel')
async def gener(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    chat_id = callback.message.chat.id
    win = ['🙂', '😋', '😄', '🤑', '😃']
    rwin = random.choice(win)
    loser = ['😔', '😕', '😣', '😞', '😢']
    rloser = random.choice(loser)
    user_name = cursor.execute(
        "SELECT user_name from users where user_id = ?", (callback.from_user.id,))
    user_name = cursor.fetchone()
    user_name = str(user_name[0])
    litecoin = cursor.execute(
        "SELECT litecoin from users where user_id = ?",(callback.from_user.id,))
    litecoin = cursor.fetchone()    
    litecoin = int(litecoin[0])
    balance = cursor.execute(
        "SELECT farm_coin from users where user_id = ?", (callback.from_user.id,))
    balance = cursor.fetchone()
    balance = int(balance[0])
    balance2 = '{:,}'.format(balance).replace(",", ".")
    if int(balance) > 0:
        await bot.send_message(callback.message.chat.id,
                                   f'✅ {user_name}, вы успешно сняли с Баланса Электростанции {balance2}🔹 на свой баланс {rwin}',
                                   parse_mode='html')
        cursor.execute(
                f'UPDATE users SET litecoin = {litecoin + balance} WHERE user_id = {user_id}')
        cursor.execute(
                f'UPDATE users SET farm_coin = {balance - balance} WHERE user_id = {user_id}')
        connect.commit()
    else:
        await bot.answer_callback_query(
                callback.id, ' На балансе электростанции пусто! ')


@dp.callback_query_handler(text='pribel')
async def help(callback: types.CallbackQuery):
    user_id = callback.from_user.id
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(callback.from_user.id,)).fetchone()
    user_name = str(user_name[0])
    
    chat_id = callback.message.chat.id
    win = ['🙂', '😋', '😄', '🤑', '😃']
    rwin = random.choice(win)
    loser = ['😔', '😕', '😣', '😞', '😢']
    rloser = random.choice(loser)
    user_name = cursor.execute(
        "SELECT user_name from users where user_id = ?", (callback.from_user.id,))
    user_name = cursor.fetchone()
    user_name = str(user_name[0])
    cripto = cursor.execute(
        "SELECT bitcoin from users where user_id = ?",(callback.from_user.id,))
    cripto = cursor.fetchone()
    cripto = int(cripto[0])
    balance = cursor.execute(
        "SELECT bitmaning from users where user_id = ?", (callback.from_user.id,))
    balance = cursor.fetchone()
    balance = int(balance[0])
    balance2 = '{:,}'.format(balance).replace(",", ".")
    if int(balance) > 0:
        await bot.send_message(callback.message.chat.id,
                                   f'✅ {user_name}, вы успешно сняли с Баланса Майнинг-Фермы {balance2}฿ на свой баланс {rwin}',
                                   parse_mode='html')
        cursor.execute(
                f'UPDATE users SET bitcoin = {cripto + balance} WHERE user_id = {user_id}')
        cursor.execute(
                f'UPDATE users SET bitmaning = {balance - balance} WHERE user_id = {user_id}')
        connect.commit()
    else:
        await bot.answer_callback_query(
                callback.id, ' На балансе фермы пусто! ')

@dp.callback_query_handler(text='vcard1')
async def craft_res23(callback: types.CallbackQuery):
                        user_id = callback.from_user.id
                        user_name = callback.from_user.get_mention(as_html=True)
                        fsumm = cursor.execute(
                            "SELECT fsumm from mine where user_id = ?", (callback.from_user.id,))
                        fsumm = cursor.fetchone()
                        fsumm = int(fsumm[0])
                        fsumm2 = '{:,}'.format(fsumm).replace(',', '.')
                        farmcoin1 = cursor.execute(
                            "SELECT farmcoin1 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin1 = cursor.fetchone()
                        farmcoin2 = cursor.execute(
                            "SELECT farmcoin2 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin2 = cursor.fetchone()
                        farmcoin3 = cursor.execute(
                            "SELECT farmcoin3 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin3 = cursor.fetchone()
                        farmcoin4 = cursor.execute(
                            "SELECT farmcoin4 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin4 = cursor.fetchone()
                        farmcoin5 = cursor.execute(
                            "SELECT farmcoin5 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin5 = cursor.fetchone()
                        balance = cursor.execute(
                            "SELECT balance from users where user_id = ?", (callback.from_user.id,))
                        balance = cursor.fetchone()
                        vcard = cursor.execute(
                            "SELECT vcard from users where user_id = ?", (callback.from_user.id,))
                        vcard = cursor.fetchone()
                        vcard = int(vcard[0])
                        vcard2 = '{:,}'.format(vcard).replace(',', '.')
                        balance = int(balance[0])
                        balance2 = '{:,}'.format(balance).replace(',', '.')

                        vcard1 = 1
                        user_status = cursor.execute(
                            "SELECT user_status from users where user_id = ?", (callback.from_user.id,))
                        user_status = cursor.fetchone()
                        user_status = str(user_status[0])

                        if vcard + 1 <= 1000:
                            if farmcoin1[0] == 1:
                                if balance >= fsumm:
                                    cursor.execute(
                                        f'UPDATE users SET balance = {balance - vcard1 * fsumm} WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE users SET vcard = {vcard + 1} WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE mine SET fsumm = {fsumm * 1.2} WHERE user_id = {user_id}')
                                    await bot.send_message(callback.message.chat.id,
                                   f'📼 {user_name}, вы купили 1 видеокарту за {fsumm2}$',
                                   parse_mode='html')
                                    connect.commit()
                                if balance < fsumm:
                                    await bot.answer_callback_query(
                callback.id, '‼️ Недостаточно средств')

                        else:
                            await bot.answer_callback_query(
                callback.id, 'Куплено макс. кол-во видеокарт‼️')

@dp.callback_query_handler(text='vcard2')
async def craft_res23(callback: types.CallbackQuery):
                        user_id = callback.from_user.id
                        user_name = callback.from_user.get_mention(as_html=True)
                        f1summ = cursor.execute(
                            "SELECT f1summ from mine where user_id = ?", (callback.from_user.id,))
                        f1summ = cursor.fetchone()
                        f1summ = int(f1summ[0])
                        f1summ2 = '{:,}'.format(f1summ).replace(',', '.')
                        farmcoin1 = cursor.execute(
                            "SELECT farmcoin1 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin1 = cursor.fetchone()
                        farmcoin2 = cursor.execute(
                            "SELECT farmcoin2 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin2 = cursor.fetchone()
                        farmcoin3 = cursor.execute(
                            "SELECT farmcoin3 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin3 = cursor.fetchone()
                        farmcoin4 = cursor.execute(
                            "SELECT farmcoin4 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin4 = cursor.fetchone()
                        farmcoin5 = cursor.execute(
                            "SELECT farmcoin5 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin5 = cursor.fetchone()
                        balance = cursor.execute(
                            "SELECT balance from users where user_id = ?", (callback.from_user.id,))
                        balance = cursor.fetchone()
                        vcard = cursor.execute(
                            "SELECT vcard from users where user_id = ?", (callback.from_user.id,))
                        vcard = cursor.fetchone()
                        vcard = int(vcard[0])
                        vcard2 = '{:,}'.format(vcard).replace(',', '.')
                        balance = int(balance[0])
                        balance2 = '{:,}'.format(balance).replace(',', '.')

                        vcard1 = 1
                        user_status = cursor.execute(
                            "SELECT user_status from users where user_id = ?", (callback.from_user.id,))
                        user_status = cursor.fetchone()
                        user_status = str(user_status[0])

                        if vcard + 1 <= 1000:
                            if farmcoin2[0] == 1:
                                if balance >= f1summ:
                                    cursor.execute(
                                        f'UPDATE users SET balance = {balance - vcard1 * f1summ} WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE users SET vcard = {vcard + 1} WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE mine SET f1summ = {f1summ * 1.2} WHERE user_id = {user_id}')
                                    await bot.send_message(callback.message.chat.id,
                                   f'📼 {user_name}, вы купили 1 видеокарту за {f1summ2}$',
                                   parse_mode='html')
                                    connect.commit()
                                if balance < f1summ:
                                    await bot.answer_callback_query(
                callback.id, '‼️ Недостаточно средств')

                        else:
                            await bot.answer_callback_query(
                callback.id, 'Куплено макс. кол-во видеокарт‼️')
@dp.callback_query_handler(text='vcard3')
async def craft_res23(callback: types.CallbackQuery):
                        user_id = callback.from_user.id
                        user_name = callback.from_user.get_mention(as_html=True)
                        f2summ = cursor.execute(
                            "SELECT f2summ from mine where user_id = ?", (callback.from_user.id,))
                        f2summ = cursor.fetchone()
                        f2summ = int(f2summ[0])
                        f2summ2 = '{:,}'.format(f2summ).replace(',', '.')
                        farmcoin1 = cursor.execute(
                            "SELECT farmcoin1 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin1 = cursor.fetchone()
                        farmcoin2 = cursor.execute(
                            "SELECT farmcoin2 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin2 = cursor.fetchone()
                        farmcoin3 = cursor.execute(
                            "SELECT farmcoin3 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin3 = cursor.fetchone()
                        farmcoin4 = cursor.execute(
                            "SELECT farmcoin4 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin4 = cursor.fetchone()
                        farmcoin5 = cursor.execute(
                            "SELECT farmcoin5 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin5 = cursor.fetchone()
                        balance = cursor.execute(
                            "SELECT balance from users where user_id = ?", (callback.from_user.id,))
                        balance = cursor.fetchone()
                        vcard = cursor.execute(
                            "SELECT vcard from users where user_id = ?", (callback.from_user.id,))
                        vcard = cursor.fetchone()
                        vcard = int(vcard[0])
                        vcard2 = '{:,}'.format(vcard).replace(',', '.')
                        balance = int(balance[0])
                        balance2 = '{:,}'.format(balance).replace(',', '.')

                        vcard1 = 1
                        user_status = cursor.execute(
                            "SELECT user_status from users where user_id = ?", (callback.from_user.id,))
                        user_status = cursor.fetchone()
                        user_status = str(user_status[0])

                        if vcard + 1 <= 1000:
                            if farmcoin3[0] == 1:
                                if balance >= f2summ:
                                    cursor.execute(
                                        f'UPDATE users SET balance = {balance - vcard1 * f2summ} WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE users SET vcard = {vcard + 1} WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE mine SET f2summ = {f2summ * 1.2} WHERE user_id = {user_id}')
                                    await bot.send_message(callback.message.chat.id,
                                   f'📼 {user_name}, вы купили 1 видеокарту за {f2summ2}$',
                                   parse_mode='html')
                                    connect.commit()
                                if balance < f2summ:
                                    await bot.answer_callback_query(
                callback.id, '‼️ Недостаточно средств')

                        else:
                            await bot.answer_callback_query(
                callback.id, 'Куплено макс. кол-во видеокарт‼️')
@dp.callback_query_handler(text='vcard4')
async def craft_res23(callback: types.CallbackQuery):
                        user_id = callback.from_user.id
                        user_name = callback.from_user.get_mention(as_html=True)
                        f3summ = cursor.execute(
                            "SELECT f3summ from mine where user_id = ?", (callback.from_user.id,))
                        f3summ = cursor.fetchone()
                        f3summ = int(f3summ[0])
                        f3summ2 = '{:,}'.format(f3summ).replace(',', '.')
                        farmcoin1 = cursor.execute(
                            "SELECT farmcoin1 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin1 = cursor.fetchone()
                        farmcoin2 = cursor.execute(
                            "SELECT farmcoin2 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin2 = cursor.fetchone()
                        farmcoin3 = cursor.execute(
                            "SELECT farmcoin3 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin3 = cursor.fetchone()
                        farmcoin4 = cursor.execute(
                            "SELECT farmcoin4 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin4 = cursor.fetchone()
                        farmcoin5 = cursor.execute(
                            "SELECT farmcoin5 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin5 = cursor.fetchone()
                        balance = cursor.execute(
                            "SELECT balance from users where user_id = ?", (callback.from_user.id,))
                        balance = cursor.fetchone()
                        vcard = cursor.execute(
                            "SELECT vcard from users where user_id = ?", (callback.from_user.id,))
                        vcard = cursor.fetchone()
                        vcard = int(vcard[0])
                        vcard2 = '{:,}'.format(vcard).replace(',', '.')
                        balance = int(balance[0])
                        balance2 = '{:,}'.format(balance).replace(',', '.')

                        vcard1 = 1
                        user_status = cursor.execute(
                            "SELECT user_status from users where user_id = ?", (callback.from_user.id,))
                        user_status = cursor.fetchone()
                        user_status = str(user_status[0])

                        if vcard + 1 <= 1000:
                            if farmcoin4[0] == 1:
                                if balance >= fsumm:
                                    cursor.execute(
                                        f'UPDATE users SET balance = {balance - vcard1 * f3summ} WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE users SET vcard = {vcard + 1} WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE mine SET f3summ = {f3summ * 1.2} WHERE user_id = {user_id}')
                                    await bot.send_message(callback.message.chat.id,
                                   f'📼 {user_name}, вы купили 1 видеокарту за {f3summ2}$',
                                   parse_mode='html')
                                    connect.commit()
                                if balance < f3summ:
                                    await bot.answer_callback_query(
                callback.id, '‼️ Недостаточно средств')

                        else:
                            await bot.answer_callback_query(
                callback.id, 'Куплено макс. кол-во видеокарт‼️')
@dp.callback_query_handler(text='vcard5')
async def craft_res23(callback: types.CallbackQuery):
                        user_id = callback.from_user.id
                        user_name = callback.from_user.get_mention(as_html=True)
                        f4summ = cursor.execute(
                            "SELECT f4summ from mine where user_id = ?", (callback.from_user.id,))
                        f4summ = cursor.fetchone()
                        f4summ = int(f4summ[0])
                        f4summ2 = '{:,}'.format(f4summ).replace(',', '.')
                        farmcoin1 = cursor.execute(
                            "SELECT farmcoin1 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin1 = cursor.fetchone()
                        farmcoin2 = cursor.execute(
                            "SELECT farmcoin2 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin2 = cursor.fetchone()
                        farmcoin3 = cursor.execute(
                            "SELECT farmcoin3 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin3 = cursor.fetchone()
                        farmcoin4 = cursor.execute(
                            "SELECT farmcoin4 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin4 = cursor.fetchone()
                        farmcoin5 = cursor.execute(
                            "SELECT farmcoin5 from users where user_id = ?", (callback.from_user.id,))
                        farmcoin5 = cursor.fetchone()
                        balance = cursor.execute(
                            "SELECT balance from users where user_id = ?", (callback.from_user.id,))
                        balance = cursor.fetchone()
                        vcard = cursor.execute(
                            "SELECT vcard from users where user_id = ?", (callback.from_user.id,))
                        vcard = cursor.fetchone()
                        vcard = int(vcard[0])
                        vcard2 = '{:,}'.format(vcard).replace(',', '.')
                        balance = int(balance[0])
                        balance2 = '{:,}'.format(balance).replace(',', '.')

                        vcard1 = 1
                        user_status = cursor.execute(
                            "SELECT user_status from users where user_id = ?", (callback.from_user.id,))
                        user_status = cursor.fetchone()
                        user_status = str(user_status[0])

                        if vcard + 1 <= 1000:
                            if farmcoin5[0] == 1:
                                if balance >= f4summ:
                                    cursor.execute(
                                        f'UPDATE users SET balance = {balance - vcard1 * f4summ} WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE users SET vcard = {vcard + 1} WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE mine SET f4summ = {f4summ * 1.2} WHERE user_id = {user_id}')
                                    await bot.send_message(callback.message.chat.id,
                                   f'📼 {user_name}, вы купили 1 видеокарту за {f4summ2}$',
                                   parse_mode='html')
                                    connect.commit()
                                if balance < f4summ:
                                    await bot.answer_callback_query(
                callback.id, '‼️ Недостаточно средств')

                        else:
                            await bot.answer_callback_query(
                callback.id, 'Куплено макс. кол-во видеокарт‼️')







@dp.callback_query_handler(text='bizsnat')
async def craft_res23(callback: types.CallbackQuery):

    user_id = callback.from_user.id
    user_name = callback.from_user.get_mention(as_html=True)
    chat_id = callback.message.chat.id
    win = ['🙂', '😋', '😄', '🤑', '😃']
    rwin = random.choice(win)
    loser = ['😔', '😕', '😣', '😞', '😢']
    rloser = random.choice(loser)
    cripto = cursor.execute(
        "SELECT brevno from mine where user_id = ?", (callback.from_user.id,))
    cripto = cursor.fetchone()
    cripto = int(cripto[0])
    balance = cursor.execute(
        "SELECT balance from mine where user_id = ?", (callback.from_user.id,))
    balance = cursor.fetchone()
    balance = int(balance[0])
    balance2 = '{:,}'.format(balance).replace(",", ".")
    event_febiz = cursor.execute(
        "SELECT event_febiz from clans_id ")
    event_febiz = cursor.fetchone()
    event_febiz = int(event_febiz[0])
    if event_febiz == 0:
        if int(balance) > 0:


            cursor.execute(
                f'UPDATE mine SET brevno = {cripto + balance} WHERE user_id = {user_id}')
            cursor.execute(
                f'UPDATE mine SET balance = {balance - balance} WHERE user_id = {user_id}')
            await bot.send_message(callback.message.chat.id,
                                   f'✅ {user_name}, вы успешно забрали прибыль c лесопилки {balance2}🪵',
                                   parse_mode='html')
            connect.commit()

        else:
            await bot.answer_callback_query(
                callback.id, ' На балансе лесопилки пусто!')


@dp.callback_query_handler(text='bizrab')
async def craft_res23(callback: types.CallbackQuery):
                        user_id = callback.from_user.id
                        user_name = callback.from_user.get_mention(as_html=True)
                        summ = cursor.execute(
                            "SELECT summ from mine where user_id = ?", (callback.from_user.id,))
                        summ = cursor.fetchone()
                        summ = int(summ[0])
                        summ2 = '{:,}'.format(summ).replace(',', '.')
                        business = cursor.execute(
                            "SELECT business from mine where user_id = ?", (callback.from_user.id,))
                        business = cursor.fetchone()
                        balance = cursor.execute(
                            "SELECT balance from users where user_id = ?", (callback.from_user.id,))
                        balance = cursor.fetchone()
                        workers = cursor.execute(
                            "SELECT workers from mine where user_id = ?", (callback.from_user.id,))
                        workers = cursor.fetchone()
                        workers = int(workers[0])
                        workers2 = '{:,}'.format(workers).replace(',', '.')
                        balance = int(balance[0])
                        balance2 = '{:,}'.format(balance).replace(',', '.')

                        workers1 = 1
                        user_status = cursor.execute(
                            "SELECT user_status from users where user_id = ?", (callback.from_user.id,))
                        user_status = cursor.fetchone()
                        user_status = str(user_status[0])

                        if workers + 1 <= 50:
                            if business[0] == 1:
                                if balance >= summ:
                                    cursor.execute(
                                        f'UPDATE users SET balance = {balance - workers1 * summ} WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE mine SET workers = {workers + 1} WHERE user_id = {user_id}')
                                    cursor.execute(
                                        f'UPDATE mine SET summ = {summ * 1.4} WHERE user_id = {user_id}')
                                    await bot.send_message(callback.message.chat.id,
                                   f'👷‍♂ {user_name}, вы наняли лесоруба за {summ2}$',
                                   parse_mode='html')
                                    connect.commit()
                                if balance < summ:
                                    await bot.answer_callback_query(
                callback.id, '‼️ Недостаточно средств')

                        else:
                            await bot.answer_callback_query(
                callback.id, ' Нанято макс. кол-во лесорубов!')



@dp.callback_query_handler(lambda c: c.data == "gamestavka2")
async def gamest(callback_query: types.CallbackQuery):
    user = await bot.get_chat(str(first_p[0]))
    replyuser = await bot.get_chat(str(second_p[0]))
    usid = user.id
    rid = replyuser.id
    ruser_name = cursor.execute("SELECT user_name from users where user_id = ?",(rid,))
    ruser_name=cursor.fetchone()
    ruser_name = ruser_name[0]
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(usid,))
    user_name=cursor.fetchone()
    user_name = user_name[0]
    if callback_query.from_user.id == replyuser.id:
        balance=cursor.execute("SELECT balance FROM users WHERE user_id=?",(usid,))
        balance=cursor.fetchone()
        balance=int(balance[0])

        balance2 = cursor.execute("SELECT balance FROM users WHERE user_id=?", (rid,))
        balance2 = cursor.fetchone()
        balance2 = int(balance2[0])
        summ_stavka1= int(summ_stavka[0])
        if balance>=summ_stavka1 and balance2>=summ_stavka1:
            if summ_stavka1>0:
                rx=random.randint(0,5)
                rx1 = random.randint(0, 5)
                if rx1>rx:
                    cursor.execute(f"UPDATE users SET balance={balance + summ_stavka1} WHERE user_id={usid}")
                    cursor.execute(f"UPDATE users SET balance={balance2 - summ_stavka1} WHERE user_id={rid}")
                    cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (usid,))
                    cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (rid,))
                    first_p.clear()
                    second_p.clear()
                    summ_stavka.clear()

                    await bot.delete_message(callback_query.message.chat.id, callback_query.message.message_id)
                    await bot.send_message(callback_query.message.chat.id, f"<a href='tg://user?id={usid}'>{user_name}</a>({rx1}), и <a href='tg://user?id={rid}'>{ruser_name}</a>({rx}) - У вас победитель <a href='tg://user?id={usid}'>{user_name}</a>", parse_mode='html')
                elif rx1<rx:
                    first_p.clear()
                    second_p.clear()
                    summ_stavka.clear()
                    cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (usid,))
                    cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (rid,))
                    cursor.execute(f"UPDATE users SET balance={balance - summ_stavka1} WHERE user_id={usid}")
                    cursor.execute(f"UPDATE users SET balance={balance2 + summ_stavka1} WHERE user_id={rid}")

                    await bot.delete_message(callback_query.message.chat.id, callback_query.message.message_id)
                    await bot.send_message(callback_query.message.chat.id, f"<a href='tg://user?id={rid}'>{ruser_name}</a>({rx}), и <a href='tg://user?id={usid}'>{user_name}</a>({rx1}) - У вас победитель <a href='tg://user?id={rid}'>{ruser_name}</a>", parse_mode='html')
                else:
                    first_p.clear()
                    second_p.clear()
                    summ_stavka.clear()
                    cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (usid,))
                    cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (rid,))
                    await bot.delete_message(callback_query.message.chat.id, callback_query.message.message_id)
                    await bot.send_message(callback_query.message.chat.id, f"🚫 Ничья ", parse_mode='html')
    else:
        await bot.answer_callback_query(callback_query.id, show_alert=False, text="‼️ Не твоё, не трогай!")    


@dp.callback_query_handler(lambda c: c.data == "gamestavka1")
async def gamest3(callback_query: types.CallbackQuery):
    user = await bot.get_chat(str(first_p[0]))
    replyuser = await bot.get_chat(str(second_p[0]))
    usid = user.id
    rid = replyuser.id

    if callback_query.from_user.id == replyuser.id or user.id:
        first_p.clear()
        second_p.clear()
        summ_stavka.clear()
        cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (usid,))
        cursor.execute("UPDATE users SET stavka=0 WHERE user_id=?", (rid,))
        await bot.delete_message(callback_query.message.chat.id, callback_query.message.message_id)
    else:
        await bot.answer_callback_query(callback_query.id, show_alert=False, text="‼️ Не твоё, не трогай!")

    

@dp.callback_query_handler(lambda c: c.data == "button_marry_y")
async def callback_marry_y(callback_query: types.CallbackQuery):
    user = await bot.get_chat(str(marry_me[0]))
    replyuser = await bot.get_chat(str(marry_rep[0]))
    usid = user.id
    rid = replyuser.id
    ruser_name = cursor.execute("SELECT user_name from users where user_id = ?",(rid,)).fetchone()
    ruser_name = ruser_name[0] 
    user_name = cursor.execute("SELECT user_name from users where user_id = ?",(usid,)).fetchone()
    user_name = user_name[0] 
    if callback_query.from_user.id == replyuser.id:
        cursor.execute(f'UPDATE users SET marry=? WHERE user_id=?', (replyuser.id, user.id,))
        cursor.execute(f'UPDATE users SET marry_time=? WHERE user_id=?', (time.time(), user.id,))
        cursor.execute(f'UPDATE users SET marry_date=? WHERE user_id=?', (datetime.now(), user.id,))

        cursor.execute(f'UPDATE users SET marry=? WHERE user_id=?', (user.id, replyuser.id,))
        cursor.execute(f'UPDATE users SET marry_time=? WHERE user_id=?', (time.time(), replyuser.id,))
        cursor.execute(f'UPDATE users SET marry_date=? WHERE user_id=?', (datetime.now(), replyuser.id,))
        connect.commit()

        marry_me.clear()
        marry_rep.clear() 
        await bot.delete_message(callback_query.message.chat.id, callback_query.message.message_id)
        await bot.send_message(callback_query.message.chat.id, f"💍 Вы приняли предложение о браке.\n👰‍♀️👨‍⚖️ С сегодняшего дня <a href='tg://user?id={usid}'>{user_name}</a> и <a href='tg://user?id={rid}'>{ruser_name}</a> состоят в браке.\n✨ Давайте поздравим молодожён!",  parse_mode='html')
    else:
        await bot.answer_callback_query(callback_query.id, show_alert=False, text="⚠️ Не твоё, не трогай!")

@dp.callback_query_handler(lambda c: c.data == "button_marry_n")
async def callback_marry_n(callback_query: types.CallbackQuery):
    user = await bot.get_chat(str(marry_me[0]))
    replyuser = await bot.get_chat(str(marry_rep[0]))
    if callback_query.from_user.id == replyuser.id:
       usid = user.id 
       user_name = cursor.execute("SELECT user_name from users where user_id = ?",(usid,)).fetchone()
       user_name = user_name[0]
       marry_me.clear()
       marry_rep.clear()
       await bot.delete_message(callback_query.message.chat.id, callback_query.message.message_id)
       await bot.send_message(callback_query.message.chat.id, f"💔 | <a href='tg://user?id={usid}'>{user_name}</a>, сожалеем, но вам отказали",  parse_mode='html')
    else:
       await bot.answer_callback_query(callback_query.id, show_alert=False, text="⚠️ Не твоё, не трогай!")

@dp.callback_query_handler(lambda c: c.data == "button_divorce_y")
async def callback_divorce_y(callback_query: types.CallbackQuery):
    user = await bot.get_chat(str(divorce_me[0]))
    if callback_query.from_user.id == user.id:
        replyuser = await bot.get_chat(str(divorce_rep[0]))
        usid = user.id
        rid = replyuser.id
        ruser_name = cursor.execute("SELECT user_name from users where user_id = ?",(rid,)).fetchone()
        ruser_name = ruser_name[0] 
        user_name = cursor.execute("SELECT user_name from users where user_id = ?",(usid,)).fetchone()
        user_name = user_name[0]
        get = cursor.execute("SELECT marry_time FROM users WHERE user_id=?", (user.id,)).fetchall()
        mtime = f"{int(get[0][0])}"
        marry_time = time.time() - float(mtime)
        vremya = strftime("%j дней %H часов %M минут", gmtime(marry_time))


        cursor.execute(f'UPDATE users SET marry=? WHERE user_id=?', (0, user.id,))
        cursor.execute(f'UPDATE users SET marry_time=? WHERE user_id=?', (0, user.id,))
        cursor.execute(f'UPDATE users SET marry_date=? WHERE user_id=?', (0, user.id,))

        cursor.execute(f'UPDATE users SET marry=? WHERE user_id=?', (0, replyuser.id,))
        cursor.execute(f'UPDATE users SET marry_time=? WHERE user_id=?', (0, replyuser.id,))
        cursor.execute(f'UPDATE users SET marry_date=? WHERE user_id=?', (0, replyuser.id,))
        connect.commit()
        divorce_me.clear()
        divorce_rep.clear()
        await bot.delete_message(callback_query.message.chat.id, callback_query.message.message_id)
        await bot.send_message(callback_query.message.chat.id, f"💔 Брак между <a href='tg://user?id={usid}'>{user_name}</a> и <a href='tg://user?id={rid}'>{ruser_name}</a> расторгнут.\n"
                                                               f"Он просуществовал {vremya}",  parse_mode='html')
    else:
        await bot.answer_callback_query(callback_query.id, show_alert=False, text="⚠️ Не твоё, не трогай!")

@dp.callback_query_handler(lambda c: c.data == "button_divorce_n")
async def callback_divorce_n(callback_query: types.CallbackQuery):
    user = await bot.get_chat(str(divorce_me[0]))
    if callback_query.from_user.id == user.id:
        divorce_me.clear()
        divorce_rep.clear()
        await bot.delete_message(callback_query.message.chat.id, callback_query.message.message_id)
    else:
        await bot.answer_callback_query(callback_query.id, show_alert=False, text="⚠️ Не твоё, не трогай!")     


@dp.callback_query_handler(text_contains="check_")
async def checkrty(callback: types.CallbackQuery):
    bill = str(callback.data[6:])

    info = get_check(bill)

    user_id = callback.from_user.id
    if info != False:
        if str(p2p.check(bill_id=bill).status) == "PAID":
            user_money = cursor.execute(
                "SELECT money FROM fzve WHERE user_id=?", (callback.from_user.id,))
            user_money = cursor.fetchone()
            user_money = int(user_money[0])
            donate_coins = cursor.execute(
                "SELECT donate_coins FROM users WHERE user_id=?", (callback.from_user.id,))
            donate_coins = cursor.fetchone()
            donate_coins = int(donate_coins[0])
            cursor.execute(
                f"UPDATE users SET donate_coins={donate_coins + (user_money * 2)}  WHERE user_id={user_id}")

            await bot.send_message(callback.from_user.id, "Ваш счет оплачен")
            cursor.execute("DELETE FROM fzve WHERE bill_id= ?", (bill,))
            connect.commit()
            await bot.send_message(cfg.orig_channel, f"""<a href='tg://user?id={user_id}'>{user_name}</a>, спасибо за донат""", parse_mode='html')
        else:
            await bot.send_message(callback.from_user.id, "Вы не оплатили счет",
                                   reply_markup=buy_menu(False, bill=bill))
    else:
        await bot.send_message(callback.from_user.id, "Счет не найден")

async def ferma():
  cursor.execute(f"UPDATE users SET farm_coin = farm_coin + 250 * generator WHERE farm3")
  cursor.execute(f"UPDATE users SET farm_coin = farm_coin + 500 * generator WHERE farm4")
  cursor.execute(f"UPDATE users SET farm_coin = farm_coin + 150 * generator WHERE farm2")
  cursor.execute(f"UPDATE users SET farm_coin = farm_coin + 100 * generator WHERE farm1")
  cursor.execute(f"UPDATE users SET farm_coin = farm_coin + 3000 * generator WHERE farm5")
  cursor.execute(f"UPDATE users SET bitmaning = bitmaning + 1050 * vcard WHERE farmcoin3")
  cursor.execute(f"UPDATE users SET bitmaning = bitmaning + 2250 * vcard WHERE farmcoin4")
  cursor.execute(f"UPDATE users SET bitmaning = bitmaning + 505 * vcard WHERE farmcoin2")
  cursor.execute(f"UPDATE users SET bitmaning = bitmaning + 112 * vcard WHERE farmcoin1")
  cursor.execute(f"UPDATE users SET bitmaning = bitmaning + 5400 * vcard WHERE farmcoin5")
  connect.commit()


async def les():
  cursor.execute(f"UPDATE mine SET balance = balance + 2500 * workers WHERE business=1")
  connect.commit()

async def cd_limit():

  cursor.execute(f"UPDATE users SET limitpered =15000000000000 WHERE user_status='Player'")
  cursor.execute(f"UPDATE users SET limitpered =50000000000000 WHERE user_status='Vip'")
  cursor.execute(f"UPDATE users SET limitpered =100000000000000 WHERE user_status='Titanium'")
  cursor.execute(f"UPDATE users SET limitpered =500000000000000 WHERE user_status='Deluxe'")
  cursor.execute(f"UPDATE users SET limitpered =1000000000000000 WHERE user_status='Chem'")
  cursor.execute(f"UPDATE users SET limitpered =5000000000000000 WHERE user_status='Korol'")
  cursor.execute(f"UPDATE users SET limitpered =10000000000000000 WHERE user_status='Donater'")
  cursor.execute(f"UPDATE users SET limitpered =1000000000000000 WHERE user_status='Admin'")
  cursor.execute(f"UPDATE users SET limitpered =10000000000000000 WHERE user_status='Helper_Admin'")
  cursor.execute(f"UPDATE users SET limitpered =100000000000000000 WHERE user_status='Owner'")

async def cd_energy():
  cursor.execute(f"UPDATE city SET material=material+ factory * 700")
  cursor.execute(f"UPDATE city SET kazna=kazna+work_place*(taxes*3.5) WHERE happynes>20 ")
  cursor.execute(f"UPDATE city SET citizens=citizens WHERE houses*15>citizens")
  connect.commit()
def schedule2r():
    scheduler.add_job(ferma,'interval', minutes=60,next_run_time=datetime.now())
    scheduler.add_job(les,'interval', minutes=60,next_run_time=datetime.now())
    scheduler.add_job(cd_limit,'interval', hours=18, next_run_time=datetime.now())
    scheduler.add_job(cd_energy,'interval', minutes=60)
    try:
        asyncio.get_event_loop().run_forever()
    except:
        pass
async def on_startup(_):
    #dp.middleware.setup(ThrottlingMiddleware())
    schedule2r()

    await bot.send_message(
                chat_id=cfg.owner_id,text=
    f"""<b>🪄 Бот запущен!</b>
<code>{datetime.now().strftime("%d.%m.%y %H:%M:%S")}</code>
"""

        ,parse_mode='html')


async def on_shutdown(_):
    await bot.send_message(
        chat_id=cfg.owner_id,
        text=f"<b>🪄 Бот Выкл!</b> ",parse_mode='html')







    dp = updater.dispatcher
    updater.start_polling()
    updater.idle()




async def register_handlers(dp: Dispatcher):

   cursor.execute("INSERT INTO family_id VALUES(?);",(str(0)))


if __name__ == "__main__":
    try:
        scheduler.start()
        executor.start_polling(dp, on_startup = on_startup, on_shutdown=on_shutdown, skip_updates=True)
    except Exception as e:
        print(f"{e}")